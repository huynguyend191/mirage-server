{"version":3,"sources":["pages/tutor/VideoRecorder.module.css","pages/admin/Admin.module.css","pages/default/SignInModal.module.css","assets/app-logo.png","components/AppLogo.module.css","components/SideBarLogo.module.css","pages/student/Student.module.css","components/ChangePasswordModal.module.css","pages/tutor/Tutor.module.css","assets/flame-welcome.png","assets/welcome-student.png","assets/welcome-tutor.png","pages/admin/Students.module.css","components/ForgotPasswordModal.module.css","pages/tutor/VideoPlayer.module.css","assets/admin-avatar.png","pages/default/RegisterModal.module.css","lib/preferences.js","pages/default/Default.module.css","pages/tutor/Profile.module.css","lib/utils/getAccountInfo.js","context/AccountContext.js","components/FooterContent.js","lib/utils/axiosConfig.js","pages/default/RegisterModal.js","pages/default/SignInModal.js","components/ForgotPasswordModal.js","components/AppLogo.js","pages/default/Default.js","lib/constants.js","components/ChangePasswordModal.js","components/SideBarLogo.js","pages/student/Profile.js","pages/student/Stats.js","pages/student/VideoCall.js","pages/student/Student.js","pages/tutor/VideoRecorder.js","pages/tutor/VideoPlayer.js","pages/tutor/Profile.js","pages/tutor/Stats.js","lib/utils/socket.js","pages/tutor/VideoCall.js","pages/tutor/Tutor.js","pages/admin/Dashboard.js","pages/admin/Students.js","pages/admin/VideoPlayer.js","pages/admin/Tutors.js","pages/admin/Reports.js","pages/admin/Admin.js","components/SignOut.js","components/Router.js","App.js","serviceWorker.js","index.js","pages/admin/Tutors.module.css","components/FooterContent.module.css","pages/student/Profile.module.css"],"names":["module","exports","PREFERENCE_TYPE","Object","freeze","ENG_ACCENT","ENG_FLUENCY","TEACHING_STYLE","STUDENT_TYPE","STUDENT_LVL","SPECIALITY","SPECIALITIES","cookies","Cookies","removeAccountInfo","remove","AccountContext","createContext","AccountContextProvider","props","useState","account","setAccount","useEffect","JSON","parse","localStorage","getItem","existAccount","accessToken","get","jwtDecode","getAccountInfo","Provider","value","onSignIn","accountData","onSignOut","clear","Footer","Layout","FooterContent","className","styles","footer","contactIconContainer","GithubOutlined","contactIcon","onClick","window","open","FacebookFilled","InstagramOutlined","contactInfoContainer","axiosRequest","axios","create","baseURL","withCredentials","RegisterModal","isStudent","setIsStudent","loading","setLoading","error","setError","Form","useForm","form","useContext","onFinish","values","a","url","accountInfo","username","password","email","name","post","result","data","setItem","response","message","studentWelcome","registerWelcomeContent","welcomeImg","draggable","src","welcomeStudentImg","alt","tutorWelcome","welcomeTutorImg","visible","isVisible","title","onCancel","resetFields","onClose","width","registerContent","registerWelcome","formWrapper","style","marginBottom","type","showIcon","banner","closable","afterClose","scrollToFirstError","registerForm","labelCol","xs","span","sm","wrapperCol","Item","label","rules","required","whitespace","hasFeedback","Password","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","offset","htmlType","registerButton","shape","switchModeWrapper","switchMode","onSwitchSignIn","SignInModal","onSwitchRegister","onSwitchForgotPass","user","remember","signInForm","initialValues","prefix","UserOutlined","placeholder","LockOutlined","valuePropName","noStyle","signInForgot","signInButton","registerNow","ForgotPasswordModal","console","log","defaultUser","submitBtn","AppLogo","headerWrapper","headerIcon","headerTitle","Header","Content","Default","isRegister","setRegister","isSignIn","setIsSignIn","isForgotPass","setIsForgotPass","showRegister","headerContent","userButtonContainer","userButton","defaultBody","introContainer","introImg","introContent","welcomeText","welcomeDescription","ROLES","ADMIN","TUTOR","STUDENT","STATES","ACTIVE","INACTIVE","PROFILE_STATUS","ACCEPTED","PENDING","REJECTED","serverUrl","ChangePasswordModal","onForgot","oldPassword","oldpassword","newPassword","id","role","forgotPass","SideBarLogo","collapsed","logoContainer","Logo","logo","logoText","Option","Select","Panel","Collapse","Profile","loadingProfile","setLoadingProfile","profile","setProfile","loadingAva","setLoadingAva","avatar","setAvatar","getStudentProfile","student","avatarProfile","size","icon","onSubmit","put","uploadAvaProps","onRemove","file","beforeUpload","fileList","uploadAvatar","formData","FormData","append","method","resendConfirmation","spinning","accountInfoContainer","verification","color","collapse","phone","birthdate","moment","undefined","address","student_type","student_lvl","accent","specialities","teaching_styles","defaultActiveKey","header","key","listType","FileImageOutlined","UploadOutlined","preferences","map","lvl","mode","spec","submitWrapper","Stats","VideoCall","Sider","Student","isChangePass","setIsChangePass","location","userAvatar","margin","userMenu","KeyOutlined","LogoutOutlined","minHeight","theme","defaultSelectedKeys","selectedKeys","pathname","VideoCameraOutlined","to","ContactsOutlined","BarChartOutlined","userControl","overlay","placement","DownOutlined","dropDownIcon","path","component","exact","videoJsOptions","controls","height","fluid","plugins","record","audio","video","maxLength","debug","VideoRecorder","cancelRecord","existedVideo","refreshProfile","player","useRef","videoNode","recorded","setRecorded","uploadVideo","current","videojs","version_info","VERSION","getPluginVersion","RecordRTC","version","on","recordedData","element","warn","deviceErrorCode","dispose","data-vjs-player","ref","node","playsInline","btnWrapper","videoBtn","btnWrapperNoCancel","VideoPlayer","recordNew","sources","autoplay","setFileList","uploading","setUploading","isRecord","setIsRecord","getTutorProfile","tutor","profileStatus","formItemLayout","uploadBtnLayout","uploadProps","index","indexOf","newFileList","slice","splice","handleUpload","forEach","interests","education","experience","profession","fluency","reason","introduction","TextArea","certificates","length","uploadedCert","cert","href","FileDoneOutlined","originalname","FileTextOutlined","introInstruct","introTips","socket","io","onlineUsersList","emit","Tutor","Dashboard","TabPane","Tabs","Search","Input","Students","pageSize","setPageSize","students","setStudents","page","setPage","searchKey","setSearchKey","total","setTotal","loadingDetail","setLoadingDetail","showDetailModal","setShowDetailModal","selected","setSelected","detail","setDetail","stateLoading","setStateLoading","getStudentsData","tableData","push","state","accountId","totalResults","getStudentDetail","columns","dataIndex","render","updateStateUser","renderDetail","tab","detailBasic","detailBasicInfo","detailName","banBtnHolder","changeStateBtn","danger","detailAdditional","detailAdditionalRow","format","speciality","studentsLayout","destroyOnClose","bodyStyle","overflow","searchBar","onSearch","enterButton","dataSource","pagination","onRow","event","paginationWrapper","defaultCurrent","showSizeChanger","showTotal","onShowSizeChange","Math","ceil","onChange","Tutors","tutors","setTutors","updateStatusLoading","setUpdateStatusLoading","getTutorsData","getTutorDetail","updateProfileStatus","status","statusControl","statusControlBtnWrapper","backgroundColor","borderColor","statusControlBtn","tutorProfile","detailWrapper","detailTitle","videoWrapper","tutorsLayout","Report","Admin","setCollapsed","collapsible","onCollapse","adminMenu","TeamOutlined","IdcardOutlined","ExceptionOutlined","background","MenuUnfoldOutlined","menuIcon","MenuFoldOutlined","AvatarPic","Reports","SignOut","Router","withRouter","Boolean","hostname","match","app","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.cce9bfa3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnWrapper\":\"VideoRecorder_btnWrapper__2n7aZ\",\"btnWrapperNoCancel\":\"VideoRecorder_btnWrapperNoCancel__21x6-\",\"videoBtn\":\"VideoRecorder_videoBtn__1YqIx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoContainer\":\"Admin_logoContainer__3WKz2\",\"logo\":\"Admin_logo__2jN07\",\"logoText\":\"Admin_logoText__1zzSJ\",\"userControl\":\"Admin_userControl__1C-I4\",\"dropDownIcon\":\"Admin_dropDownIcon__bHsT0\",\"adminMenu\":\"Admin_adminMenu__3FXGL\",\"menuIcon\":\"Admin_menuIcon__1bvYm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signInForm\":\"SignInModal_signInForm__6dOkt\",\"signInForgot\":\"SignInModal_signInForgot__YZfZh\",\"signInButton\":\"SignInModal_signInButton__1e1-r\",\"registerNow\":\"SignInModal_registerNow__1-qv7\"};","module.exports = __webpack_public_path__ + \"static/media/app-logo.05772604.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrapper\":\"AppLogo_headerWrapper__3QEjT\",\"headerTitle\":\"AppLogo_headerTitle__SJet6\",\"headerIcon\":\"AppLogo_headerIcon___aj3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoContainer\":\"SideBarLogo_logoContainer__1kC8O\",\"logo\":\"SideBarLogo_logo__2VbQH\",\"logoText\":\"SideBarLogo_logoText__38Mpu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userControl\":\"Student_userControl__3SGc9\",\"sideMenu\":\"Student_sideMenu__2ePph\",\"logoContainer\":\"Student_logoContainer__1pULu\",\"logo\":\"Student_logo__2Al0V\",\"logoText\":\"Student_logoText__1017M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgotPass\":\"ChangePasswordModal_forgotPass__2PaV8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userControl\":\"Tutor_userControl__xq5ig\",\"sideMenu\":\"Tutor_sideMenu__16b7O\",\"logoContainer\":\"Tutor_logoContainer__1Wyv3\",\"logo\":\"Tutor_logo__aG4W8\",\"logoText\":\"Tutor_logoText__3bVip\"};","module.exports = __webpack_public_path__ + \"static/media/flame-welcome.2b090893.png\";","module.exports = __webpack_public_path__ + \"static/media/welcome-student.0c7630e5.png\";","module.exports = __webpack_public_path__ + \"static/media/welcome-tutor.66b32adc.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"studentsLayout\":\"Students_studentsLayout__3whC3\",\"paginationWrapper\":\"Students_paginationWrapper__3pBWi\",\"detail\":\"Students_detail__3D6-w\",\"detailBasic\":\"Students_detailBasic__1yxXs\",\"detailName\":\"Students_detailName__35qqf\",\"detailBasicInfo\":\"Students_detailBasicInfo__Ua35P\",\"banBtnHolder\":\"Students_banBtnHolder__3ry5v\",\"detailAdditional\":\"Students_detailAdditional__3Yjlf\",\"detailAdditionalRow\":\"Students_detailAdditionalRow__2HCdD\",\"searchBar\":\"Students_searchBar__2Xj53\",\"changeStateBtn\":\"Students_changeStateBtn__2P1lx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submitBtn\":\"ForgotPasswordModal_submitBtn__3TcfT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnWrapper\":\"VideoPlayer_btnWrapper__3W9-y\"};","module.exports = __webpack_public_path__ + \"static/media/admin-avatar.4fc32273.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registerContent\":\"RegisterModal_registerContent__80mK1\",\"registerWelcome\":\"RegisterModal_registerWelcome__19TFP\",\"registerForm\":\"RegisterModal_registerForm__10uvC\",\"registerButton\":\"RegisterModal_registerButton__2svL6\",\"formWrapper\":\"RegisterModal_formWrapper__sEKbp\",\"switchMode\":\"RegisterModal_switchMode__27SKS\",\"switchModeWrapper\":\"RegisterModal_switchModeWrapper__2HPSb\",\"welcomeImg\":\"RegisterModal_welcomeImg__OQ1qZ\",\"registerWelcomeContent\":\"RegisterModal_registerWelcomeContent__3vQbH\"};","exports.PREFERENCE_TYPE = Object.freeze({\r\n  ENG_ACCENT: 'eng_accent',\r\n  ENG_FLUENCY: 'eng_fluency',\r\n  TEACHING_STYLE: 'teaching_style',\r\n  STUDENT_TYPE: 'student_type',\r\n  STUDENT_LVL: 'student_lvl',\r\n  SPECIALITY: 'speciality'\r\n});\r\n\r\nexports.ENG_ACCENT =  [\r\n  \"North America\",\r\n  \"North America - Canada\",\r\n  \"North America - USA\",\r\n  \"North America - Southern USA\",\r\n  \"North America - Other\",\r\n  \"British Isles\",\r\n  \"British Isles - Received Pronunciation\",\r\n  \"British Isle - Ireland\",\r\n  \"British Isles - Scotland\",\r\n  \"British Isles - Other\",\r\n  \"South Africa\",\r\n  \"Australia / New Zealand\",\r\n  \"Australia\",\r\n  \"New Zealand\",\r\n  \"Other\"\r\n];\r\n\r\nexports.ENG_FLUENCY = [\r\n  'Native',\r\n  'Fluent',\r\n  'Conversational',\r\n  'Basic'\r\n];\r\n\r\nexports.TEACHING_STYLE =  [\r\n  \"Kind & patient\" ,\r\n  \"Fun & gregarious\",\r\n  \"Scholarly & knowledgeable\"\r\n];\r\n\r\nexports.STUDENT_TYPE = [\r\n  \"Adult\",\r\n  \"Child\"\r\n];\r\n\r\nexports.STUDENT_LVL = [\r\n  \"Beginner\",\r\n  \"Intermeditate\",\r\n  \"Advanced\"\r\n];\r\n\r\nexports.SPECIALITIES = [\r\n  \"Friendly conversation\", \r\n  \"Business English\", \r\n  \"Public speaking\", \r\n  \"Test prep (IELTS, TOEFL, etc.)\", \r\n  \"Grammar instruction, Accent coaching\", \r\n  \"Correcting speech\", \r\n  \"Discussing current events\", \r\n  \"Vocational lessons\", \r\n  \"Culture (i.e. manners, customs)\",\r\n  \"Teaching idioms and slang\"\r\n];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerContent\":\"Default_headerContent__3ZlIu\",\"userButton\":\"Default_userButton__3RtJ9\",\"registerButton\":\"Default_registerButton__2NXqe\",\"userButtonContainer\":\"Default_userButtonContainer__hqXNR\",\"defaultBody\":\"Default_defaultBody__20Ojr\",\"introContainer\":\"Default_introContainer__2Y07C\",\"welcomeText\":\"Default_welcomeText__1QUl0\",\"welcomeDescription\":\"Default_welcomeDescription__1QYFE\",\"introContent\":\"Default_introContent__16UXl\",\"introImg\":\"Default_introImg__2XQ5a\",\"becomeTutor\":\"Default_becomeTutor__1xiNf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__29iwE\",\"accountInfoContainer\":\"Profile_accountInfoContainer__2PNVq\",\"accountInfo\":\"Profile_accountInfo__2V7Fk\",\"name\":\"Profile_name__qbwV3\",\"collapse\":\"Profile_collapse__2mJ6d\",\"submitWrapper\":\"Profile_submitWrapper__2SO9c\",\"profileStatus\":\"Profile_profileStatus__2b2JV\",\"uploadedCert\":\"Profile_uploadedCert__378RX\",\"introTips\":\"Profile_introTips__12reB\",\"introInstruct\":\"Profile_introInstruct__3UBqU\"};","import Cookies from 'universal-cookie';\r\nimport jwtDecode from 'jwt-decode';\r\nconst cookies = new Cookies();\r\n\r\nexport const getAccountInfo = () => {\r\n  let account = null;\r\n  const accessToken = cookies.get('access_token');\r\n  if (accessToken) {\r\n    account = jwtDecode(accessToken);\r\n  }\r\n  return account;\r\n}\r\n\r\nexport const removeAccountInfo = () => {\r\n  cookies.remove('access_token');\r\n}\r\n","import React, { createContext, useState, useEffect } from 'react';\r\nimport { getAccountInfo, removeAccountInfo } from '../lib/utils/getAccountInfo';\r\nexport const AccountContext = createContext(null);\r\n\r\nconst initialAccount = null;\r\n\r\nconst AccountContextProvider = (props) => {\r\n  const [account, setAccount] = useState(initialAccount);\r\n\r\n  useEffect(() => {\r\n    if (JSON.parse(localStorage.getItem('remember'))) {\r\n      const existAccount = getAccountInfo();\r\n      if (existAccount) {\r\n        setAccount(existAccount);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const onSignIn = (accountData) => {\r\n    setAccount(accountData);\r\n  };\r\n\r\n  const onSignOut = () => {\r\n    removeAccountInfo();\r\n    localStorage.clear();\r\n    setAccount(null);\r\n  };\r\n\r\n  return (\r\n    <AccountContext.Provider value={{ account, onSignIn, onSignOut }} {...props} />\r\n  )\r\n}\r\n\r\nexport default AccountContextProvider;","import React from 'react';\r\nimport styles from './FooterContent.module.css';\r\nimport { GithubOutlined, FacebookFilled, InstagramOutlined } from '@ant-design/icons';\r\nimport { Layout } from 'antd';\r\nconst { Footer } = Layout;\r\nexport default function FooterContent() {\r\n  return (\r\n    <Footer className={styles.footer}>\r\n      <div className={styles.contactIconContainer}>\r\n        <GithubOutlined className={styles.contactIcon} onClick={() => window.open('https://github.com/huynguyend191')} />\r\n        <FacebookFilled className={styles.contactIcon} onClick={() => window.open('https://www.facebook.com/sneezingcat191')} />\r\n        <InstagramOutlined className={styles.contactIcon} onClick={() => window.open('https://www.instagram.com/sneezingcat191/')} />\r\n      </div>\r\n      <div className={styles.contactInfoContainer}>\r\n        Mirage 2020 - English Video Call Platform <br /> \r\n        Contact: huynguyend191@gmail.com\r\n      </div>\r\n    </Footer>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst baseURL = process.env.NODE_ENV === 'development'\r\n? 'https://localhost:3003/api'\r\n: 'https://mirage-video-call.herokuapp.com/api' ;\r\n\r\nconst axiosRequest = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n});\r\n\r\nexport default axiosRequest;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Modal, Form, Input, Button, Alert } from 'antd';\r\nimport styles from './RegisterModal.module.css';\r\nimport welcomeStudentImg from '../../assets/welcome-student.png';\r\nimport welcomeTutorImg from '../../assets/welcome-tutor.png';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\n\r\nexport default function RegisterModal(props) {\r\n  const [isStudent, setIsStudent] = useState(props.isStudent);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [form] = Form.useForm();\r\n  const { onSignIn } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    setIsStudent(props.isStudent)\r\n  }, [props.isStudent])\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const url = isStudent? '/students' : '/tutors';\r\n      const accountInfo = {\r\n        username: values.username,\r\n        password: values.password,\r\n        email: values.email,\r\n        name: values.name\r\n      };\r\n      const result = await axios.post(url + '/register', accountInfo);\r\n      setLoading(false);\r\n      onSignIn(result.data.account);\r\n      localStorage.setItem('remember', true);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n  const switchRole = () => {\r\n    setIsStudent(!isStudent);\r\n  };\r\n  const switchMode = () => {\r\n    props.onClose();\r\n    props.onSwitchSignIn();\r\n  };\r\n  const onClose = () => {\r\n    form.resetFields();\r\n    props.onClose();\r\n  }\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const tailFormItemLayout = {\r\n    wrapperCol: {\r\n      xs: {\r\n        span: 24,\r\n        offset: 0,\r\n      },\r\n      sm: {\r\n        span: 16,\r\n        offset: 8,\r\n      },\r\n    },\r\n  };\r\n  const studentWelcome = (\r\n    <div className={styles.registerWelcomeContent}>\r\n      <img className={styles.welcomeImg} draggable={false} src={welcomeStudentImg} alt=\"\" />\r\n      <h3>Experience new way of studying English</h3>\r\n      <h4>Improve your English anywhere anytime</h4>\r\n      <h4>Learn from interesting people around the world</h4>\r\n    </div>\r\n  )\r\n  \r\n  const tutorWelcome = (\r\n    <div className={styles.registerWelcomeContent}>\r\n      <img className={styles.welcomeImg} draggable={false} src={welcomeTutorImg} alt=\"\" />\r\n      <h3>Tutoring with Mirage is fun & rewarding</h3>\r\n      <h4>No experience necessary</h4>\r\n      <h4>Share your knowledge with people and get paid</h4>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <Modal\r\n      visible={props.isVisible}\r\n      footer={null}\r\n      title={isStudent? 'Register as student' : 'Register as tutor'}\r\n      onCancel={onClose}\r\n      width=\"800px\"\r\n    >\r\n      <div className={styles.registerContent}>\r\n        <div className={styles.registerWelcome}>\r\n          {\r\n            isStudent?\r\n            <div>{studentWelcome}</div> :\r\n            <div>{tutorWelcome}</div>\r\n          }\r\n        </div>\r\n        <div className={styles.formWrapper}>\r\n          {error ? <Alert style={{marginBottom: \"15px\"}} message={error} type=\"error\" showIcon banner closable afterClose={() => setError(null)} /> : null}\r\n          <Form\r\n            name=\"register\"\r\n            onFinish={onFinish}\r\n            scrollToFirstError\r\n            className={styles.registerForm}\r\n            form={form}\r\n            {...formItemLayout}\r\n          >\r\n            <Form.Item\r\n              name=\"email\"\r\n              label=\"E-mail\"\r\n              rules={[\r\n                {\r\n                  type: 'email',\r\n                  message: 'The input is not valid E-mail!',\r\n                },\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your E-mail!',\r\n                },\r\n              ]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"username\"\r\n              label=\"Username\"\r\n              rules={[{ required: true, message: 'Please input your username!', whitespace: false }]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your password!',\r\n                },\r\n              ]}\r\n              hasFeedback\r\n            >\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"confirm\"\r\n              label=\"Confirm Password\"\r\n              dependencies={['password']}\r\n              hasFeedback\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please confirm your password!',\r\n                },\r\n                ({ getFieldValue }) => ({\r\n                  validator(rule, value) {\r\n                    if (!value || getFieldValue('password') === value) {\r\n                      return Promise.resolve();\r\n                    }\r\n                    return Promise.reject('The two passwords that you entered do not match!');\r\n                  },\r\n                }),\r\n              ]}\r\n            >\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"name\"\r\n              label=\"Full name\"\r\n              rules={[{ required: true, message: 'Please input your fullname!', whitespace: true }]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n              <Button type=\"primary\" htmlType=\"submit\" className={styles.registerButton} shape=\"round\" loading={loading}>\r\n                Register\r\n              </Button>\r\n              <p className={styles.switchModeWrapper}>Or<span onClick={switchRole} className={styles.switchMode}> become a {isStudent? \"tutor\" : \"student\"} instead</span></p>\r\n              <p className={styles.switchModeWrapper}>Already have an account? <span onClick={switchMode} className={styles.switchMode}> Sign in</span></p>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { Modal, Form, Input, Button, Checkbox, Alert } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport styles from './SignInModal.module.css';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function SignInModal({ isVisible, onClose, onSwitchRegister, onSwitchForgotPass }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const { onSignIn } = useContext(AccountContext);\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const account = {\r\n        user: values.user,\r\n        password: values.password\r\n      };\r\n      localStorage.setItem('remember', values.remember);\r\n      const result = await axios.post('/accounts/sign-in', account);\r\n      setLoading(false);\r\n      onSignIn(result.data.account);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const onChangeMode = () => {\r\n    onClose();\r\n    onSwitchRegister(true);\r\n  };\r\n\r\n  const onCancel = () => {\r\n    form.resetFields()\r\n    onClose();\r\n  };\r\n\r\n  const onForgotPass = () => {\r\n    onClose();\r\n    onSwitchForgotPass();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={isVisible}\r\n      footer={null}\r\n      onCancel={onCancel}\r\n      title=\"Sign in\"\r\n      width=\"400px\"\r\n    >\r\n      {error ? <Alert style={{marginBottom: \"15px\"}} message={error} type=\"error\" showIcon banner closable afterClose={() => setError(null)} /> : null}\r\n      <Form\r\n        name=\"normal_sign_in\"\r\n        className={styles.signInForm}\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        form={form}\r\n      >\r\n        <Form.Item\r\n          name=\"user\"\r\n          rules={[{ required: true, message: 'Please input your username or email!' }]}\r\n        >\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username or email\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[{ required: true, message: 'Please input your Password!' }]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n            <Checkbox>Remember me</Checkbox>\r\n          </Form.Item>\r\n\r\n          <p onClick={onForgotPass} className={styles.signInForgot}>\r\n            Forgot password?\r\n          </p>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className={styles.signInButton} shape=\"round\" loading={loading}>\r\n            Sign in\r\n        </Button>\r\n        Don't have an account? <span className={styles.registerNow} onClick={onChangeMode}>Register now!</span>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { Modal, Button, Input, Form } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport styles from './ForgotPasswordModal.module.css';\r\nimport axios from '../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../context/AccountContext';\r\n\r\nexport default function ForgotPasswordModal({ isVisible, onClose }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.post('/accounts/reset-password', { user: values.user });\r\n      console.log(result.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n  const onCancel = () => {\r\n    form.resetFields()\r\n    onClose();\r\n  }\r\n\r\n  const defaultUser = account ? account.email : null;\r\n\r\n  return (\r\n    <Modal\r\n      visible={isVisible}\r\n      footer={null}\r\n      title=\"Reset your password\"\r\n      width=\"350px\"\r\n      onCancel={onCancel}\r\n    >\r\n      <Form\r\n        name=\"forgot_password\"\r\n        form={form}\r\n        onFinish={onFinish}\r\n        initialValues={{ user: defaultUser }}\r\n      >\r\n        <Form.Item\r\n          name=\"user\"\r\n          rules={[{ required: true, message: 'Please input your username or email!' }]}\r\n        >\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Enter your username or email\" />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" shape=\"round\" loading={loading} className={styles.submitBtn}>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from'./AppLogo.module.css';\r\nimport headerIcon from '../assets/app-logo.png';\r\n\r\nexport default function AppLogo() {\r\n  return (\r\n    <div className={styles.headerWrapper}>\r\n      <img className={styles.headerIcon} src={headerIcon} draggable={false} alt=\"\" />\r\n      <h1 className={styles.headerTitle}>MIRAGE</h1>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport styles from './Default.module.css';\r\nimport { Button, Layout, Divider } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport introImg from '../../assets/flame-welcome.png';\r\nimport RegisterModal from './RegisterModal';\r\nimport SignInModal from './SignInModal';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport AppLogo from '../../components/AppLogo';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nexport default function Default() {\r\n  const [isRegister, setRegister] = useState(false);\r\n  const [isSignIn, setIsSignIn] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const [isStudent, setIsStudent] = useState(true);\r\n\r\n  const showRegister = (isStudent) => {\r\n    setIsStudent(isStudent);\r\n    setRegister(true);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <SignInModal isVisible={isSignIn} onClose={() => setIsSignIn(false)} onSwitchRegister={showRegister} onSwitchForgotPass={() => setIsForgotPass(true)} />\r\n      <RegisterModal isVisible={isRegister} onClose={() => {setRegister(false)}} isStudent={isStudent} onSwitchSignIn={() => setIsSignIn(true)} />\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <Header>\r\n        <div className={styles.headerContent}>\r\n          <AppLogo />\r\n          <div className={styles.userButtonContainer}>\r\n            <Button className={styles.userButton} type=\"secondary\" shape=\"round\" onClick={() => setIsSignIn(true)}>Sign in</Button>\r\n            <Button className={styles.userButton} type=\"primary\" shape=\"round\" onClick={() => showRegister(true)}>Register</Button>\r\n          </div>\r\n        </div>\r\n      </Header>\r\n      <Content>\r\n        <div className={styles.defaultBody}>\r\n          <div className={styles.introContainer}> \r\n            <img className={styles.introImg} draggable={false} src={introImg} alt=\"\" />\r\n            <div className={styles.introContent}>\r\n              <p className={styles.welcomeText}>Welcome to Mirage!</p>\r\n              <p className={styles.welcomeDescription}>“Go on, say something in English!”</p>\r\n              <Button className={styles.registerButton} type=\"primary\" shape=\"round\" onClick={() => showRegister(true)}>STUDY NOW</Button>\r\n              <Divider style={{ width: \"300px\" }}>OR</Divider>\r\n              <Button className={styles.registerButton} type=\"secondary\" shape=\"round\" onClick={() => showRegister(false)}>BECOME TUTOR</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n      <FooterContent />\r\n    </Layout>\r\n  )\r\n}\r\n","export const ROLES = Object.freeze({\r\n  ADMIN: 1,\r\n  TUTOR: 2,\r\n  STUDENT: 3\r\n});\r\n\r\nexport const STATES = Object.freeze({\r\n  ACTIVE: 1,\r\n  INACTIVE: 0\r\n});\r\n\r\nexport const PROFILE_STATUS = Object.freeze({\r\n  ACCEPTED: 1,\r\n  PENDING: 2,\r\n  REJECTED: 3\r\n});\r\n\r\nexport const serverUrl = process.env.NODE_ENV === 'development'\r\n? 'https://localhost:3003/'\r\n: 'https://mirage-video-call.herokuapp.com/';\r\n","import React, { useState, useContext } from 'react';\r\nimport styles from './ChangePasswordModal.module.css';\r\nimport { Modal, Form, Input, Button } from 'antd';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport axios from '../lib/utils/axiosConfig';\r\nimport { ROLES } from '../lib/constants';\r\n\r\nexport default function ChangePasswordModal({ isVisible, onForgot, onClose }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const password = {\r\n        oldPassword: values.oldpassword,\r\n        newPassword: values.password\r\n      }\r\n      const result = await axios.post('/accounts/' + account.id + '/change-password', password);\r\n      console.log(result);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n  const onCancel = () => {\r\n    form.resetFields()\r\n    onClose();\r\n  };\r\n  const forgotPassword = () => {\r\n    onCancel();\r\n    onForgot();\r\n  }\r\n\r\n  const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  };\r\n  const tailLayout = {\r\n    wrapperCol: { offset: 8, span: 16 },\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={isVisible}\r\n      footer={null}\r\n      title=\"Change your password\"\r\n      onCancel={onCancel}\r\n      width=\"500px\"\r\n    >\r\n      <Form\r\n        {...layout}\r\n        name=\"change-password\"\r\n        onFinish={onFinish}\r\n        form={form}\r\n      >\r\n        <Form.Item\r\n          name=\"oldpassword\"\r\n          label=\"Current password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your current password!',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          label=\"New password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your new password!',\r\n            },\r\n          ]}\r\n          hasFeedback\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"confirm\"\r\n          label=\"Retype password\"\r\n          dependencies={['password']}\r\n          hasFeedback\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please confirm your password!',\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(rule, value) {\r\n                if (!value || getFieldValue('password') === value) {\r\n                  return Promise.resolve();\r\n                }\r\n                return Promise.reject('The two passwords that you entered do not match!');\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\" className={styles.registerButton} loading={loading}>\r\n            Update password\r\n          </Button>\r\n          {account.role === ROLES.ADMIN ? \r\n            null : \r\n            <span className={styles.forgotPass} onClick={forgotPassword}>Forgot password?</span>}\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport Logo from '../assets/app-logo.png';\r\nimport styles from './SideBarLogo.module.css';\r\n\r\nexport default function SideBarLogo( {collapsed} ) {\r\n  return (\r\n    <div className={styles.logoContainer}>\r\n      <img src={Logo} alt=\"\" className={styles.logo} draggable={false} />\r\n      {collapsed ? null : <p className={styles.logoText}>MIRAGE</p>}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport styles from './Profile.module.css';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Avatar, Collapse, Form, Input, DatePicker, Button, Select, Upload, Alert, Tag, Spin } from 'antd';\r\nimport { UserOutlined, UploadOutlined, FileImageOutlined } from '@ant-design/icons';\r\nimport preferences from '../../lib/preferences';\r\nimport moment from 'moment';\r\nimport { serverUrl } from '../../lib/constants';\r\nconst { Option } = Select;\r\nconst { Panel } = Collapse;\r\n\r\nexport default function Profile() {\r\n  const [loadingProfile, setLoadingProfile] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profile, setProfile] = useState({ account: { email: null } });\r\n  const { account } = useContext(AccountContext);\r\n  const [loadingAva, setLoadingAva] = useState(false);\r\n  const [avatar, setAvatar] = useState([]);\r\n\r\n  const getStudentProfile = async () => {\r\n    try {\r\n      setLoadingProfile(true);\r\n      const result = await axios.get('/students/' + account.student.id);\r\n      setProfile(result.data.student);\r\n      setLoadingProfile(false);\r\n    } catch (error) {\r\n      setLoadingProfile(false);\r\n      console.log(error.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getStudentProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const avatarProfile = (profile && profile.avatar) ?\r\n    <Avatar src={serverUrl + profile.avatar} size={100} />\r\n    : <Avatar icon={<UserOutlined />} size={100} />\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const uploadBtnLayout = {\r\n    wrapperCol: { offset: 5, span: 16 }\r\n  }\r\n  const onSubmit = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      await axios.put('/students/' + profile.id, values);\r\n      getStudentProfile();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  const uploadAvaProps = {\r\n    onRemove: file => {\r\n      setAvatar([]);\r\n    },\r\n    beforeUpload: file => {\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n      if (isJpgOrPng) {\r\n        setAvatar([file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: avatar,\r\n  }\r\n\r\n\r\n  const uploadAvatar = async () => {\r\n    try {\r\n      setLoadingAva(true);\r\n      const formData = new FormData();\r\n      formData.append('avatar', avatar[0]);\r\n      await axios('/students/avatar/' + profile.account.username, {\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n      await getStudentProfile();\r\n      setLoadingAva(false);\r\n    } catch (error) {\r\n      setLoadingAva(false);\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  const resendConfirmation = async () => {\r\n    try {\r\n      await axios.post('/accounts/resend-verify', { email: account.email });\r\n    } catch (error) {\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Spin spinning={loadingProfile}>\r\n      <div className={styles.profile}>\r\n        <div className={styles.accountInfoContainer}>\r\n          {avatarProfile}\r\n          <div className={styles.accountInfo}>\r\n            <p className={styles.name}>{profile.name}</p>\r\n            <p>Email: {profile.account.email}</p>\r\n            {account.verification ? (\r\n              <Tag color=\"success\">Verified</Tag>\r\n            ) : (\r\n                <span><Tag color=\"default\">Unverified</Tag><Button type=\"link\" onClick={resendConfirmation}>Resend confirmation email</Button></span>\r\n              )}\r\n          </div>\r\n        </div>\r\n        <div className={styles.collapse}>\r\n          {profile.name ? (\r\n            <Form\r\n              {...formItemLayout}\r\n              onFinish={onSubmit}\r\n              initialValues={{\r\n                name: profile.name,\r\n                phone: profile.phone,\r\n                birthdate: profile.birthdate ? moment(profile.birthdate) : undefined,\r\n                address: profile.address,\r\n                student_type: profile.student_type ? profile.student_type : undefined,\r\n                student_lvl: profile.student_lvl ? profile.student_lvl : undefined,\r\n                accent: profile.accent ? profile.accent : undefined,\r\n                specialities: (profile.specialities) ? JSON.parse(profile.specialities) : undefined,\r\n                teaching_styles: (profile.teaching_styles) ? JSON.parse(profile.teaching_styles) : undefined,\r\n              }}\r\n            >\r\n              <Collapse defaultActiveKey={[\"1\", \"2\"]}>\r\n                <Panel header=\"Basic info\" key=\"1\">\r\n                  <Form.Item label=\"Name\" name=\"name\" rules={[{ required: true, message: 'Please enter your name' }]}>\r\n                    <Input placeholder=\"Your fullname\" value={profile.name} />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"phone\" label=\"Phone\">\r\n                    <Input placeholder=\"Your phone number (optional)\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"birthdate\" label=\"Birthdate\">\r\n                    <DatePicker />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"avatar\" label=\"Upload avatar\">\r\n                    <Upload {...uploadAvaProps} listType=\"picture-card\">\r\n                      <Button icon={<FileImageOutlined />}>\r\n                        Change avatar\r\n                    </Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button onClick={uploadAvatar} loading={loadingAva} style={{ width: \"159px\" }}><UploadOutlined /> Upload avatar</Button>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Study preferences\" key=\"2\">\r\n                  <Alert style={{ marginBottom: \"15px\" }} message=\"Complete your profile to help finding appropriate tutors easier\" type=\"info\" showIcon />\r\n                  <Form.Item name=\"student_type\" label=\"Type\">\r\n                    <Select placeholder=\"What type of student are you?\" >\r\n                      {preferences.STUDENT_TYPE.map(type => {\r\n                        return <Option value={type} key={type}>{type}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"student_lvl\" label=\"Your level\">\r\n                    <Select placeholder=\"Your English level\">\r\n                      {preferences.STUDENT_LVL.map(lvl => {\r\n                        return <Option value={lvl} key={lvl}>{lvl}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"accent\" label=\"Favorite accent\">\r\n                    <Select placeholder=\"What is your favorite English accent?\">\r\n                      {preferences.ENG_ACCENT.map(accent => {\r\n                        return <Option value={accent} key={accent}>{accent}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"specialities\" label=\"Specialities\">\r\n                    <Select mode=\"multiple\" placeholder=\"What do you want to study?\">\r\n                      {preferences.SPECIALITIES.map(spec => {\r\n                        return <Option value={spec} key={spec}>{spec}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"teaching_styles\" label=\"Teaching styles\">\r\n                    <Select mode=\"multiple\" placeholder=\"Which styles of teaching do you prefer?\">\r\n                      {preferences.TEACHING_STYLE.map(style => {\r\n                        return <Option value={style} key={style}>{style}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Panel>\r\n              </Collapse>\r\n              <div className={styles.submitWrapper}>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                  Update profile\r\n              </Button>\r\n              </div>\r\n            </Form>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Stats() {\r\n  return (\r\n    <div>\r\n      Stats\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport default function VideoCall() {\r\n  return (\r\n    <div>\r\n      Video\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Layout, Avatar, Dropdown, Menu } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport styles from './Student.module.css';\r\nimport { UserOutlined, DownOutlined, KeyOutlined, LogoutOutlined, BarChartOutlined, ContactsOutlined, VideoCameraOutlined } from '@ant-design/icons';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\nimport Profile from './Profile';\r\nimport Stats from './Stats';\r\nimport VideoCall from './VideoCall';\r\nimport { serverUrl } from '../../lib/constants';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Student(props) {\r\n  const { account, onSignOut } = useContext(AccountContext);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { location } = props;\r\n  const userAvatar = (account.student && account.student.avatar) ?\r\n    <Avatar style={{ margin: \"10px\" }} src={serverUrl + account.student.avatar} /> :\r\n    <Avatar style={{ margin: \"10px\" }} icon={<UserOutlined />} />\r\n  useEffect(() => {\r\n    \r\n  }, []);\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined /><span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined /><span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <Layout style={{ minHeight: '100vh' }}>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider>\r\n        <SideBarLogo collapsed={false} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={[\"/student/video-call\"]} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/student/video-call\">\r\n            <VideoCameraOutlined /><Link to=\"/student/video-call\"><span>Video call</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/student\">\r\n            <ContactsOutlined /><Link to=\"/student\"><span>Profile</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/student/stats\">\r\n            <BarChartOutlined /><Link to=\"/student/stats\"><span>Stats</span></Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header>\r\n          <div className={styles.userControl}>  \r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div>\r\n                {userAvatar}<DownOutlined className={styles.dropDownIcon} />\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/student/stats\" component={Stats} />\r\n            <Route path=\"/student/video-call\" component={VideoCall} />\r\n            <Route path=\"/student\" component={Profile} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useState, useContext } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport 'webrtc-adapter';\r\nimport RecordRTC from 'recordrtc';\r\nimport 'videojs-record/dist/css/videojs.record.css';\r\nimport Record from 'videojs-record/dist/videojs.record.js';\r\nimport { Button } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport styles from './VideoRecorder.module.css';\r\n\r\nconst videoJsOptions = {\r\n  controls: true,\r\n  width: 480,\r\n  height: 360,\r\n  fluid: false,\r\n  plugins: {\r\n    record: {\r\n      audio: true,\r\n      video: true,\r\n      maxLength: 120,\r\n      debug: true\r\n    }\r\n  }\r\n};\r\n\r\nexport default function VideoRecorder({ cancelRecord, existedVideo, refreshProfile }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const [recorded, setRecorded] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n  const uploadVideo = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append('video', recorded, 'introVideo.webm');\r\n      await axios('/tutors/video/' + account.username, {\r\n        data: formData,\r\n        method: 'POST'\r\n      });\r\n      cancelRecord();\r\n      refreshProfile();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error.response)\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION +\r\n        ' with videojs-record ' + videojs.getPluginVersion('record') +\r\n        ' and recordrtc ' + RecordRTC.version;\r\n      videojs.log(version_info);\r\n    });\r\n    player.current.on('deviceReady', () => {\r\n      console.log('device is ready!');\r\n    });\r\n    player.current.on('startRecord', () => {\r\n      console.log('started recording!');\r\n    });\r\n\r\n    // user completed recording and stream is available\r\n    player.current.on('finishRecord', () => {\r\n      // recordedData is a blob object containing the recorded data that\r\n      // can be downloaded by the user, stored on server etc.\r\n      console.log('finished recording: ', player.current.recordedData);\r\n      setRecorded(player.current.recordedData);\r\n    });\r\n\r\n    // error handling\r\n    player.current.on('error', (element, error) => {\r\n      console.warn(error);\r\n    });\r\n\r\n    player.current.on('deviceError', () => {\r\n      console.error('device error:', player.current.deviceErrorCode);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <div data-vjs-player>\r\n        <video id=\"myVideoRecord\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin\" playsInline></video>\r\n      </div>\r\n      {existedVideo ? (\r\n        <div className={styles.btnWrapper}>\r\n          <Button className={styles.videoBtn} onClick={uploadVideo} loading={loading}>Upload</Button>\r\n          <Button className={styles.videoBtn} type=\"danger\" onClick={cancelRecord}>Cancel</Button>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.btnWrapperNoCancel}>\r\n          <Button className={styles.videoBtn} onClick={uploadVideo} loading={loading}>Upload</Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useContext } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport { Button } from 'antd';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport styles from './VideoPlayer.module.css';\r\n\r\nexport default function VideoPlayer({ recordNew }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const { account } = useContext(AccountContext);\r\n  const videoJsOptions = {\r\n    controls: true,\r\n    width: 480,\r\n    height: 360,\r\n    fluid: false,\r\n    sources: [{\r\n      src: serverUrl + 'api/tutors/video/' + account.username,\r\n      type: 'video/webm'\r\n    }],\r\n    autoplay: false\r\n  };\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION\r\n      videojs.log(version_info);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <div data-vjs-player>\r\n        <video id=\"myVideo\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin vjs-big-play-centered\" playsInline></video>\r\n      </div>\r\n      <div className={styles.btnWrapper} >\r\n       <Button onClick={recordNew}>Record new video</Button>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport styles from './Profile.module.css';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { UserOutlined, UploadOutlined, FileTextOutlined, FileImageOutlined, FileDoneOutlined } from '@ant-design/icons';\r\nimport { Avatar, Collapse, Form, Input, DatePicker, Button, Select, Upload, Alert, Tag, Spin } from 'antd';\r\nimport preferences from '../../lib/preferences';\r\nimport moment from 'moment';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport VideoRecorder from './VideoRecorder';\r\nimport VideoPlayer from './VideoPlayer';\r\nconst { Panel } = Collapse;\r\nconst { Option } = Select;\r\n\r\nexport default function Profile() {\r\n  const [loadingProfile, setLoadingProfile] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profile, setProfile] = useState({ account: { email: null } });\r\n  const { account } = useContext(AccountContext);\r\n  const [fileList, setFileList] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [loadingAva, setLoadingAva] = useState(false);\r\n  const [avatar, setAvatar] = useState([]);\r\n  const [isRecord, setIsRecord] = useState(true);\r\n\r\n  const getTutorProfile = async () => {\r\n    try {\r\n      setLoadingProfile(true);\r\n      const result = await axios.get('/tutors/' + account.tutor.id);\r\n      setProfile(result.data.tutor);\r\n      if (result.data.tutor.video) {\r\n        setIsRecord(false);\r\n      }\r\n      setLoadingProfile(false);\r\n    } catch (error) {\r\n      setLoadingProfile(true);\r\n      console.log(error.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getTutorProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const avatarProfile = (profile && profile.avatar) ?\r\n    <Avatar src={serverUrl + profile.avatar} size={100} />\r\n    : <Avatar icon={<UserOutlined />} size={100} />\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const uploadBtnLayout = {\r\n    wrapperCol: { offset: 5, span: 16 }\r\n  }\r\n  const onSubmit = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      await axios.put('/tutors/' + profile.id, values);\r\n      getTutorProfile();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response)\r\n    }\r\n  }\r\n  const uploadProps = {\r\n    onRemove: file => {\r\n      const index = fileList.indexOf(file);\r\n      const newFileList = fileList.slice();\r\n      newFileList.splice(index, 1);\r\n      setFileList(newFileList);\r\n    },\r\n    beforeUpload: file => {\r\n      const isPdfOrWord = file.type === 'application/pdf' || file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n      if (isPdfOrWord) {\r\n        setFileList([...fileList, file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: fileList,\r\n  };\r\n  const uploadAvaProps = {\r\n    onRemove: file => {\r\n      setAvatar([]);\r\n    },\r\n    beforeUpload: file => {\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n      if (isJpgOrPng) {\r\n        setAvatar([file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: avatar,\r\n  }\r\n  const handleUpload = async () => {\r\n    try {\r\n      setUploading(true);\r\n      const formData = new FormData();\r\n      fileList.forEach(file => {\r\n        formData.append('certificates', file);\r\n      });\r\n      await axios('/tutors/certificates/' + profile.account.username, {\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n      await getTutorProfile();\r\n      setUploading(false);\r\n    } catch (error) {\r\n      console.log(error.response)\r\n      setUploading(false);\r\n    }\r\n  }\r\n\r\n  const uploadAvatar = async () => {\r\n    try {\r\n      setLoadingAva(true);\r\n      const formData = new FormData();\r\n      formData.append('avatar', avatar[0]);\r\n      await axios('/tutors/avatar/' + profile.account.username, {\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n      await getTutorProfile();\r\n      setLoadingAva(false);\r\n    } catch (error) {\r\n      setLoadingAva(false);\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  const resendConfirmation = async () => {\r\n    try {\r\n      await axios.post('/accounts/resend-verify', { email: account.email });\r\n    } catch (error) {\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  let profileStatus;\r\n  if (profile.profileStatus === 1) {\r\n    profileStatus = <Alert message=\"Your tutor profile is ready\" type=\"success\" showIcon />\r\n  } else if (profile.profileStatus === 2) {\r\n    profileStatus = <Alert message=\"Your tutor profile is being reviewed by Admin\" type=\"info\" showIcon />\r\n  } else if (profile.profileStatus === 3) {\r\n    profileStatus = <Alert message=\"Your tutor profile is rejected, edit now\" type=\"error\" showIcon />\r\n  }\r\n  return (\r\n    <Spin spinning={loadingProfile}>\r\n      <div className={styles.profile}>\r\n        <div className={styles.accountInfoContainer}>\r\n          {avatarProfile}\r\n          <div className={styles.accountInfo}>\r\n            <p className={styles.name}>{profile.name}</p>\r\n            <p>Email: {profile.account.email}</p>\r\n            {account.verification ? (\r\n              <Tag color=\"success\">Verified</Tag>\r\n            ) : (\r\n                <span><Tag color=\"default\">Unverified</Tag><Button type=\"link\" onClick={resendConfirmation}>Resend confirmation email</Button></span>\r\n              )}\r\n            <div className={styles.profileStatus}>\r\n              {profileStatus}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.collapse}>\r\n          {profile.name ? (\r\n            <Form\r\n              {...formItemLayout}\r\n              onFinish={onSubmit}\r\n              initialValues={{\r\n                name: profile.name,\r\n                phone: profile.phone,\r\n                birthdate: profile.birthdate ? moment(profile.birthdate) : undefined,\r\n                address: profile.address,\r\n                interests: profile.interests,\r\n                education: profile.education,\r\n                experience: profile.experience,\r\n                profession: profile.profession,\r\n                student_type: profile.student_type ? profile.student_type : undefined,\r\n                student_lvl: profile.student_lvl ? profile.student_lvl : undefined,\r\n                accent: profile.accent ? profile.accent : undefined,\r\n                fluency: profile.fluency ? profile.fluency : undefined,\r\n                reason: profile.reason,\r\n                specialities: (profile.specialities) ? JSON.parse(profile.specialities) : undefined,\r\n                introduction: profile.introduction,\r\n                teaching_styles: (profile.teaching_styles) ? JSON.parse(profile.teaching_styles) : undefined,\r\n              }}\r\n            >\r\n              <Collapse>\r\n                <Panel header=\"Basic info\">\r\n                  <Form.Item label=\"Name\" name=\"name\" rules={[{ required: true, message: 'Please enter your name' }]}>\r\n                    <Input placeholder=\"Your fullname\" value={profile.name} />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"phone\" label=\"Phone\">\r\n                    <Input placeholder=\"Your phone number (optional)\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"birthdate\" label=\"Birthdate\">\r\n                    <DatePicker />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"address\" label=\"Address\">\r\n                    <Input placeholder=\"Where do you from? E.g Hanoi, Vietnam\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"avatar\" label=\"Upload avatar\">\r\n                    <Upload {...uploadAvaProps} listType=\"picture-card\">\r\n                      <Button icon={<FileImageOutlined />}>\r\n                        Change avatar\r\n                    </Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button onClick={uploadAvatar} loading={loadingAva} style={{ width: \"159px\" }}><UploadOutlined /> Upload avatar</Button>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"CV\">\r\n                  <Form.Item name=\"interests\" label=\"Interests\">\r\n                    <Input.TextArea placeholder=\"Share with us everything you want such as interests, hobbies, life experiences\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"education\" label=\"Education\">\r\n                    <Input.TextArea placeholder=\"E.g Bachelor of Information Technology\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"experience\" label=\"Experience\">\r\n                    <Input.TextArea placeholder=\"Your working experience\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"profession\" label=\"Profession\">\r\n                    <Input placeholder=\"Your current or previous jobs\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"reason\" label=\"Reason\">\r\n                    <Input.TextArea placeholder=\"Why do you want to join Mirage?\" />\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Teaching preferences\">\r\n                  <Form.Item name=\"student_type\" label=\"Target\">\r\n                    <Select placeholder=\"Who do you want to teach?\" >\r\n                      {preferences.STUDENT_TYPE.map(type => {\r\n                        return <Option value={type} key={type}>{type}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"student_lvl\" label=\"Student level\">\r\n                    <Select placeholder=\"You are good at teaching students who are\">\r\n                      {preferences.STUDENT_LVL.map(lvl => {\r\n                        return <Option value={lvl} key={lvl}>{lvl}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"accent\" label=\"Accent\">\r\n                    <Select placeholder=\"Your English accent\">\r\n                      {preferences.ENG_ACCENT.map(accent => {\r\n                        return <Option value={accent} key={accent}>{accent}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"fluency\" label=\"Fluency\">\r\n                    <Select placeholder=\"Your fluency\">\r\n                      {preferences.ENG_FLUENCY.map(fluency => {\r\n                        return <Option value={fluency} key={fluency}>{fluency}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"specialities\" label=\"Specialities\">\r\n                    <Select mode=\"multiple\" placeholder=\"Select your specialities\">\r\n                      {preferences.SPECIALITIES.map(spec => {\r\n                        return <Option value={spec} key={spec}>{spec}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"teaching_styles\" label=\"Teaching styles\">\r\n                    <Select mode=\"multiple\" placeholder=\"Your styles\">\r\n                      {preferences.TEACHING_STYLE.map(style => {\r\n                        return <Option value={style} key={style}>{style}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Teaching certificates (optional)\">\r\n                  {/* render uploaded files */}\r\n                  {(profile.certificates && JSON.parse(profile.certificates).length > 0) ?\r\n                    (<Form.Item {...formItemLayout} label=\"Uploaded file(s)\">\r\n                      <div className={styles.uploadedCert}>\r\n                        {profile.certificates ? (\r\n                          JSON.parse(profile.certificates).map((cert, index) => {\r\n                            return (<a key={index} href={serverUrl + cert.path}><FileDoneOutlined />{cert.originalname}</a>);\r\n                          })\r\n                        ) : null}\r\n                      </div>\r\n                    </Form.Item>) : null\r\n                  }\r\n                  <Form.Item name=\"files\" label=\"Upload certificate\">\r\n                    <Upload {...uploadProps} listType=\"picture-card\">\r\n                      <Button icon={<FileTextOutlined />}>\r\n                        Select File\r\n                    </Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button onClick={handleUpload} loading={uploading} style={{ width: \"132px\" }}><UploadOutlined /> Upload</Button>\r\n                  </Form.Item>\r\n                  <Alert message=\"Warning: All your previous upload will be removed when uploading new certificates\" type=\"warning\" showIcon />\r\n                </Panel>\r\n                <Panel header=\"Introduce yourself\">\r\n                  <Form.Item name=\"introduction\" label=\"Introduction\">\r\n                    <Input.TextArea placeholder=\"Introduce yourself\" />\r\n                  </Form.Item>\r\n                  <div>\r\n                    <p className={styles.introInstruct}>Record a video to emphasize your teaching style, expertise and personality to help students overcome their nerve when speaking with foreigners.\r\n                    A friendly video will encourage the stundents to call you.\r\n                  A few helpful tips:</p>\r\n                    <div className={styles.introTips}>\r\n                      <p>1. Make sure your camera/webcam is working properly</p>\r\n                      <p>2. Find a clean and quiet place</p>\r\n                      <p>3. Look at the camera and smile</p>\r\n                      <p>4. Dress smart</p>\r\n                      <p>5. Speak for 1-2 minutes</p>\r\n                      <p>6. Brand yourself and have fun!</p>\r\n                    </div>\r\n                  </div>\r\n                  <Form.Item label=\"Intro video\">\r\n                    {isRecord ?\r\n                      <VideoRecorder cancelRecord={() => setIsRecord(false)} existedVideo={profile.video} refreshProfile={getTutorProfile} /> :\r\n                      <VideoPlayer recordNew={() => setIsRecord(true)} />}\r\n                  </Form.Item>\r\n                </Panel>\r\n              </Collapse>\r\n              <div className={styles.submitWrapper}>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                  Update profile\r\n              </Button>\r\n              </div>\r\n            </Form>\r\n          ) : null}\r\n\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Stats() {\r\n  return (\r\n    <div>\r\n      Stats\r\n    </div>\r\n  )\r\n}\r\n","import io from 'socket.io-client';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nconst accessToken = cookies.get('access_token');\r\n\r\nconst socketURL = process.env.NODE_ENV === 'development'\r\n? 'https://localhost:3003'\r\n: 'https://mirage-video-call.herokuapp.com' ;\r\n\r\nconst socket = io(`${socketURL}?token=${accessToken}`);\r\n\r\nexport default socket;\r\n","import React, { useEffect, useContext } from 'react';\r\nimport socket from '../../lib/utils/socket';\r\nimport { AccountContext } from '../../context/AccountContext';\r\n\r\nexport default function VideoCall() {\r\n  const { account } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Call\")\r\n    const tutor = account.username;\r\n    socket\r\n    .on('init', (data) => {\r\n      console.log(data.onlineUsersList)\r\n    })\r\n    // .on('request', ({ from }) => {\r\n    //   setCallModal('active');\r\n    //   setCallFrom(from)\r\n    // })\r\n    // .on('call', (data) => {\r\n    //   if (data.sdp) {\r\n    //     pcRef.current.setRemoteDescription(data.sdp);\r\n    //     if (data.sdp.type === 'offer') pcRef.current.createAnswer();\r\n    //   } else pcRef.current.addIceCandidate(data.candidate);\r\n    // })\r\n    // .on('end', () => endCall(false))\r\n    .emit('init', {tutor});\r\n  }, [account.username]);\r\n\r\n  return (\r\n    <div>\r\n      Start Teaching\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Layout, Avatar, Dropdown, Menu } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport styles from './Tutor.module.css';\r\nimport { UserOutlined, DownOutlined, KeyOutlined, LogoutOutlined, BarChartOutlined, ContactsOutlined, VideoCameraOutlined } from '@ant-design/icons';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport Profile from './Profile';\r\nimport Stats from './Stats';\r\nimport VideoCall from './VideoCall';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\nimport { serverUrl } from '../../lib/constants';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Tutor(props) {\r\n  const { account, onSignOut } = useContext(AccountContext);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { location } = props;\r\n  const userAvatar = (account.tutor && account.tutor.avatar) ?\r\n    <Avatar style={{ margin: \"10px\" }} src={serverUrl + account.tutor.avatar} /> :\r\n    <Avatar style={{ margin: \"10px\" }} icon={<UserOutlined />} />\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined /><span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined /><span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <Layout style={{ minHeight: '100vh' }}>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider>\r\n        <SideBarLogo collapsed={false} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={[\"/tutor\"]} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/tutor\">\r\n            <ContactsOutlined /><Link to=\"/tutor\"><span>Profile</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/tutor/video-call\">\r\n            <VideoCameraOutlined /><Link to=\"/tutor/video-call\"><span>Video call</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/tutor/stats\">\r\n            <BarChartOutlined /><Link to=\"/tutor/stats\"><span>Stats</span></Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header>\r\n          <div className={styles.userControl}>\r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div>\r\n                {userAvatar}<DownOutlined className={styles.dropDownIcon} />\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/tutor/stats\" component={Stats} />\r\n            <Route path=\"/tutor/video-call\" component={VideoCall} />\r\n            <Route path=\"/tutor\" component={Profile} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Dashboard() {\r\n  return (\r\n    <div>\r\n      Dashboard\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Table, Tag, Pagination, Spin, Modal, Avatar, Tabs, Button, Input } from 'antd';\r\nimport styles from './Students.module.css';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport { STATES } from '../../lib/constants';\r\nconst { TabPane } = Tabs;\r\nconst { Search } = Input;\r\n\r\nexport default function Students() {\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [students, setStudents] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [searchKey, setSearchKey] = useState(\"\");\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingDetail, setLoadingDetail] = useState(false);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [detail, setDetail] = useState(null);\r\n  const [stateLoading, setStateLoading] = useState(false);\r\n\r\n  const getStudentsData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`/students?page=${page}&size=${pageSize}&search=` + searchKey);\r\n      const tableData = [];\r\n      result.data.students.forEach(student => {\r\n        tableData.push({\r\n          key: student.id,\r\n          id: student.id,\r\n          name: student.name,\r\n          username: student.account.username,\r\n          email: student.account.email,\r\n          state: student.account.state,\r\n          verification: student.account.verification,\r\n          accountId: student.account.id\r\n        })\r\n      });\r\n      setTotal(result.data.totalResults);\r\n      setStudents(tableData);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n  const getStudentDetail = async () => {\r\n    try {\r\n      setLoadingDetail(true);\r\n      const result = await axios.get('/students/' + selected.id);\r\n      setDetail(result.data.student);\r\n      console.log(result.data.student);\r\n\r\n      setLoadingDetail(false);\r\n\r\n    } catch (error) {\r\n      setLoadingDetail(false);\r\n\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getStudentsData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, pageSize, searchKey]);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      getStudentDetail();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selected]);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name'\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username'\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email'\r\n    }, {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => (state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>)\r\n    }, {\r\n      title: 'Verification',\r\n      dataIndex: 'verification',\r\n      render: verification => (verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>)\r\n    }\r\n  ];\r\n\r\n  const showTotal = () => {\r\n    return `Total ${total} results`;\r\n  };\r\n\r\n  const changePageSize = (current, size) => {\r\n    setPageSize(size);\r\n    setPage(Math.ceil(total / size));\r\n  };\r\n\r\n  const changePage = (page, pageSize) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const onSelectRow = (record, index) => {\r\n    return {\r\n      onClick: event => {\r\n        setSelected(record);\r\n        setShowDetailModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateStateUser = async (state) => {\r\n    try {\r\n      setStateLoading(true);\r\n      await axios.put('/accounts/' + selected.accountId, {state: state});\r\n      await getStudentsData();\r\n      setStateLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setStateLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n\r\n  const searchUser = (value) => {\r\n    setSearchKey(value);\r\n  }\r\n\r\n  const renderDetail = detail ?\r\n    ( <Tabs defaultActiveKey=\"profile\" type=\"card\">\r\n        <TabPane tab=\"Profile\" key=\"profile\">\r\n        <div className={styles.detail}>\r\n          <div className={styles.detailBasic}>\r\n            {detail.avatar ? <Avatar src={serverUrl + detail.avatar} size={100} />\r\n              : <Avatar icon={<UserOutlined />} size={100} />}\r\n            <div className={styles.detailBasicInfo}>\r\n              <p className={styles.detailName}>{detail.name}</p>\r\n              <p>Username: {selected.username}</p>\r\n              <p>Email: {selected.email}</p>\r\n              {selected.verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>}\r\n              {selected.state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>}\r\n            </div>\r\n          </div>\r\n          <div className={styles.banBtnHolder}>\r\n            {selected.state ? \r\n              <Button loading={stateLoading} className={styles.changeStateBtn} type=\"primary\" danger onClick={() => updateStateUser(STATES.INACTIVE)}>Ban</Button> : \r\n              <Button loading={stateLoading} className={styles.changeStateBtn} type=\"primary\" onClick={() => updateStateUser(STATES.ACTIVE)}>Unban</Button>}\r\n          </div>\r\n          <div className={styles.detailAdditional}>\r\n            <div className={styles.detailAdditionalRow}>Phone: {detail.phone}</div>\r\n            <div className={styles.detailAdditionalRow}>Birthdate: {detail.birthdate? moment(detail.birthdate).format('YYYY-MM-DD') : null}</div>\r\n            <div className={styles.detailAdditionalRow}>Student level: {detail.student_lvl}</div>\r\n            <div className={styles.detailAdditionalRow}>Student type: {detail.student_type}</div>\r\n            <div className={styles.detailAdditionalRow}>Favorite accent: {detail.accent}</div>\r\n            <div className={styles.detailAdditionalRow}>Favorite tutor styles: {detail.teaching_styles ? JSON.parse(detail.teaching_styles).map(style => {return <Tag key={style}>{style}</Tag>}) : null}</div>\r\n            <div className={styles.detailAdditionalRow}>Interests: {detail.specialities ? JSON.parse(detail.specialities).map(speciality => {return <Tag key={speciality}>{speciality}</Tag>}) : null}</div>\r\n          </div>\r\n        </div>\r\n        </TabPane>\r\n        <TabPane tab=\"History\" key=\"history\">\r\n          Call history\r\n        </TabPane>\r\n        <TabPane tab=\"Report\" key=\"report\">\r\n          Report\r\n        </TabPane>\r\n        <TabPane tab=\"Subscription\" key=\"subscription\">\r\n          Subscription\r\n        </TabPane>\r\n      </Tabs>\r\n    \r\n    )\r\n    : null\r\n\r\n  return (\r\n    <div className={styles.studentsLayout}>\r\n      <Modal\r\n        title={selected ? selected.name : null}\r\n        visible={showDetailModal}\r\n        onCancel={() => setShowDetailModal(false)}\r\n        footer={null}\r\n        width=\"600px\"\r\n        destroyOnClose\r\n        bodyStyle={{height: \"400px\", overflow: \"auto\"}}\r\n      >\r\n        <Spin spinning={loadingDetail}>\r\n          {renderDetail}\r\n        </Spin>\r\n      </Modal>\r\n      <div className={styles.searchBar}>\r\n        <Search placeholder=\"Search for username, name or email\" onSearch={searchUser} enterButton />\r\n      </div>\r\n      <Spin spinning={loading}>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={students}\r\n          pagination={false}\r\n          onRow={onSelectRow}\r\n        />\r\n      </Spin>\r\n      <div className={styles.paginationWrapper}>\r\n        <Pagination\r\n          current={page}\r\n          defaultCurrent={page}\r\n          total={total}\r\n          pageSize={pageSize}\r\n          showSizeChanger\r\n          showTotal={showTotal}\r\n          onShowSizeChange={changePageSize}\r\n          onChange={changePage}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport { serverUrl } from '../../lib/constants';\r\n\r\nexport default function VideoPlayer({ username }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const videoJsOptions = {\r\n    controls: true,\r\n    width: 480,\r\n    height: 360,\r\n    fluid: false,\r\n    sources: [{\r\n      src: serverUrl + 'api/tutors/video/' + username,\r\n      type: 'video/webm'\r\n    }],\r\n    autoplay: false\r\n  };\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION\r\n      videojs.log(version_info);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n  }, [videoJsOptions]);\r\n  return (\r\n    <div data-vjs-player>\r\n      <video id=\"myVideo\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin vjs-big-play-centered\" playsInline></video>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Table, Tag, Pagination, Input, Spin, Modal, Avatar, Tabs, Button, Alert } from 'antd';\r\nimport styles from './Tutors.module.css';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { UserOutlined, FileDoneOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport { STATES, PROFILE_STATUS } from '../../lib/constants';\r\nimport VideoPlayer from './VideoPlayer';\r\nconst { Search } = Input;\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Tutors() {\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [tutors, setTutors] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [searchKey, setSearchKey] = useState(\"\");\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingDetail, setLoadingDetail] = useState(false);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [detail, setDetail] = useState(null);\r\n  const [stateLoading, setStateLoading] = useState(false);\r\n  const [updateStatusLoading, setUpdateStatusLoading] = useState(false);\r\n\r\n  const getTutorsData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`/tutors?page=${page}&size=${pageSize}&search=` + searchKey);\r\n      const tableData = [];\r\n      result.data.tutors.forEach(tutor => {\r\n        tableData.push({\r\n          key: tutor.id,\r\n          id: tutor.id,\r\n          name: tutor.name,\r\n          username: tutor.account.username,\r\n          email: tutor.account.email,\r\n          state: tutor.account.state,\r\n          verification: tutor.account.verification,\r\n          accountId: tutor.account.id,\r\n          profileStatus: tutor.profileStatus\r\n        })\r\n      });\r\n      setTotal(result.data.totalResults);\r\n      setTutors(tableData);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error.response);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const getTutorDetail = async () => {\r\n    try {\r\n      setLoadingDetail(true);\r\n      const result = await axios.get('/tutors/' + selected.id);\r\n      setDetail(result.data.tutor);\r\n      console.log(result.data.tutor);\r\n\r\n      setLoadingDetail(false);\r\n\r\n    } catch (error) {\r\n      setLoadingDetail(false);\r\n    }\r\n  };\r\n  const updateProfileStatus = async (status) => {\r\n    try {\r\n      setUpdateStatusLoading(true);\r\n      await axios.put('/tutors/' + selected.id, { profileStatus: status });\r\n      await getTutorsData();\r\n      setUpdateStatusLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setUpdateStatusLoading(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getTutorsData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, pageSize, searchKey]);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      getTutorDetail();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selected]);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name'\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username'\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email'\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => (state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>)\r\n    },\r\n    {\r\n      title: 'Verification',\r\n      dataIndex: 'verification',\r\n      render: verification => (verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>)\r\n    },\r\n    {\r\n      title: 'Profile status',\r\n      dataIndex: 'profileStatus',\r\n      render: profileStatus => {\r\n        if (profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n          return <Tag color=\"success\">Accepted</Tag>\r\n        }\r\n        else if (profileStatus === PROFILE_STATUS.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>\r\n        }\r\n        else {\r\n          return <Tag color=\"error\">Rejected</Tag>\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n\r\n  const showTotal = () => {\r\n    return `Total ${total} results`;\r\n  };\r\n\r\n  const changePageSize = (current, size) => {\r\n    setPageSize(size);\r\n    setPage(Math.ceil(total / size));\r\n  };\r\n\r\n  const changePage = (page, pageSize) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const onSelectRow = (record, index) => {\r\n    return {\r\n      onClick: event => {\r\n        setSelected(record);\r\n        setShowDetailModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const searchUser = (value) => {\r\n    setSearchKey(value);\r\n  };\r\n\r\n  const updateStateUser = async (state) => {\r\n    try {\r\n      setStateLoading(true);\r\n      await axios.put('/accounts/' + selected.accountId, { state: state });\r\n      await getTutorsData();\r\n      setStateLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setStateLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n\r\n  let statusControl = (\r\n    <div className={styles.statusControl}>\r\n      <Alert showIcon message=\"Rejected\" type=\"error\" />\r\n      <div className={styles.statusControlBtnWrapper}>\r\n        <Button\r\n          type=\"primary\"\r\n          style={{ backgroundColor: \"#52c41a\", color: \"white\", borderColor: \"#52c41a\" }}\r\n          className={styles.statusControlBtn}\r\n          onClick={() => updateProfileStatus(PROFILE_STATUS.ACCEPTED)}\r\n        >Accept</Button>\r\n        <Button className={styles.statusControlBtn} onClick={() => updateProfileStatus(PROFILE_STATUS.PENDING)}>Pending</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n  if (selected && selected.profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n    statusControl = (\r\n      <div className={styles.statusControl}>\r\n        <Alert showIcon message=\"Accept\" type=\"success\" />\r\n        <div className={styles.statusControlBtnWrapper}>\r\n          <Button className={styles.statusControlBtn} onClick={() => updateProfileStatus(PROFILE_STATUS.PENDING)}>Pending</Button>\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            className={styles.statusControlBtn}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.REJECTED)}\r\n          >Reject</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  if (selected && selected.profileStatus === PROFILE_STATUS.PENDING) {\r\n    statusControl = (\r\n      <div className={styles.statusControl}>\r\n        <Alert showIcon message=\"Pending\" type=\"info\" />\r\n        <div className={styles.statusControlBtnWrapper}>\r\n          <Button\r\n            className={styles.statusControlBtn}\r\n            style={{ backgroundColor: \"#52c41a\", color: \"white\", borderColor: \"#52c41a\" }}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.ACCEPTED)}\r\n          >Accept</Button>\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            className={styles.statusControlBtn}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.REJECTED)}\r\n          >Reject</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  const tutorProfile = (\r\n    <div>\r\n      <Spin spinning={updateStatusLoading}>\r\n        {statusControl}\r\n        <div>\r\n          {detail ? (\r\n            <div>\r\n              <div className={styles.detailWrapper}>\r\n                <p className={styles.detailTitle}>Teaching preferences</p>\r\n                <div className={styles.detailAdditionalRow}>Student level: {detail.student_lvl}</div>\r\n                <div className={styles.detailAdditionalRow}>Student type: {detail.student_type}</div>\r\n                <div className={styles.detailAdditionalRow}>Accent: {detail.accent}</div>\r\n                <div className={styles.detailAdditionalRow}>Fluency: {detail.fluency}</div>\r\n                <div className={styles.detailAdditionalRow}>Tutor styles: {detail.teaching_styles ? JSON.parse(detail.teaching_styles).map(style => { return <Tag key={style}>{style}</Tag> }) : null}</div>\r\n                <div className={styles.detailAdditionalRow}>Specialities: {detail.specialities ? JSON.parse(detail.specialities).map(speciality => { return <Tag key={speciality}>{speciality}</Tag> }) : null}</div>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <p className={styles.detailTitle}>CV</p>\r\n                <div className={styles.detailAdditionalRow}>Interests: {detail.interests}</div>\r\n                <div className={styles.detailAdditionalRow}>Education: {detail.education}</div>\r\n                <div className={styles.detailAdditionalRow}>Experience: {detail.experience}</div>\r\n                <div className={styles.detailAdditionalRow}>Profession: {detail.profession}</div>\r\n                <div className={styles.detailAdditionalRow}>Reason: {detail.reason}</div>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <p className={styles.detailTitle}>Certificates</p>\r\n                <div className={styles.uploadedCert}>\r\n                  {detail.certificates ? (\r\n                    JSON.parse(detail.certificates).map((cert, index) => {\r\n                      return (<a key={index} href={serverUrl + cert.path}><FileDoneOutlined />{cert.originalname}</a>);\r\n                    })\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <p className={styles.detailTitle}>Introduction</p>\r\n                <div className={styles.detailAdditionalRow}>Introduction: {detail.introduction}</div>\r\n                {detail.video ? <div className={styles.videoWrapper}><VideoPlayer username={selected.username}/></div> : null}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n\r\n      </Spin>\r\n    </div>\r\n  )\r\n\r\n  //detail modal\r\n  const renderDetail = detail ?\r\n    (<Tabs defaultActiveKey=\"info\" type=\"card\">\r\n      <TabPane tab=\"Info\" key=\"info\">\r\n        <div className={styles.detail}>\r\n          <div className={styles.detailBasic}>\r\n            {detail.avatar ? <Avatar src={serverUrl + detail.avatar} size={100} />\r\n              : <Avatar icon={<UserOutlined />} size={100} />}\r\n            <div className={styles.detailBasicInfo}>\r\n              <p className={styles.detailName}>{detail.name}</p>\r\n              <p>Username: {selected.username}</p>\r\n              <p>Email: {selected.email}</p>\r\n              <div className={styles.detailAdditionalRow}>Phone: {detail.phone}</div>\r\n              <div className={styles.detailAdditionalRow}>Address: {detail.address}</div>\r\n              <div className={styles.detailAdditionalRow}>Birthdate: {detail.birthdate ? moment(detail.birthdate).format('YYYY-MM-DD') : null}</div>\r\n              {selected.verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>}\r\n              {selected.state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>}\r\n            </div>\r\n          </div>\r\n          <div className={styles.banBtnHolder}>\r\n            {selected.state ?\r\n              <Button loading={stateLoading} className={styles.changeStateBtn} type=\"primary\" danger onClick={() => updateStateUser(STATES.INACTIVE)}>Ban</Button> :\r\n              <Button loading={stateLoading} className={styles.changeStateBtn} type=\"primary\" onClick={() => updateStateUser(STATES.ACTIVE)}>Unban</Button>}\r\n          </div>\r\n        </div>\r\n      </TabPane>\r\n      <TabPane tab=\"Profile\" key=\"profile\">\r\n        {tutorProfile}\r\n      </TabPane>\r\n      <TabPane tab=\"History\" key=\"history\">\r\n        Call history\r\n      </TabPane>\r\n      <TabPane tab=\"Report\" key=\"report\">\r\n        Report\r\n      </TabPane>\r\n      <TabPane tab=\"Payment\" key=\"payment\">\r\n        Payment\r\n      </TabPane>\r\n    </Tabs>\r\n\r\n    )\r\n    : null;\r\n\r\n  return (\r\n    <div className={styles.tutorsLayout}>\r\n      <Modal\r\n        title={selected ? selected.name : null}\r\n        visible={showDetailModal}\r\n        onCancel={() => setShowDetailModal(false)}\r\n        footer={null}\r\n        width=\"600px\"\r\n        destroyOnClose\r\n        bodyStyle={{height: \"400px\", overflow: \"auto\"}}\r\n      >\r\n        <Spin spinning={loadingDetail}>\r\n          {renderDetail}\r\n        </Spin>\r\n      </Modal>\r\n      <div className={styles.searchBar}>\r\n        <Search placeholder=\"Search for username, name or email\" onSearch={searchUser} enterButton />\r\n      </div>\r\n      <Spin spinning={loading}>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={tutors}\r\n          pagination={false}\r\n          onRow={onSelectRow}\r\n        />\r\n      </Spin>\r\n      <div className={styles.paginationWrapper}>\r\n        <Pagination\r\n          current={page}\r\n          defaultCurrent={page}\r\n          total={total}\r\n          pageSize={pageSize}\r\n          showSizeChanger\r\n          showTotal={showTotal}\r\n          onShowSizeChange={changePageSize}\r\n          onChange={changePage}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Report() {\r\n  return (\r\n    <div>\r\n      Report\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport { Layout, Menu, Dropdown, Avatar } from 'antd';\r\nimport { BarChartOutlined, IdcardOutlined, TeamOutlined, DownOutlined, ExceptionOutlined, MenuUnfoldOutlined, MenuFoldOutlined, KeyOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\nimport styles from './Admin.module.css';\r\nimport Dashboard from './Dashboard';\r\nimport Students from './Students';\r\nimport Tutors from './Tutors';\r\nimport AvatarPic from '../../assets/admin-avatar.png';\r\nimport Reports from './Reports';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Admin(props) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { onSignOut, account } = useContext(AccountContext);\r\n  const { location } = props;\r\n\r\n  const onCollapse = (collapsed) => {\r\n    setCollapsed(collapsed)\r\n  }\r\n\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined /><span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined /><span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider collapsible collapsed={collapsed} onCollapse={onCollapse} className={styles.adminMenu}>\r\n        <SideBarLogo collapsed={collapsed} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={[\"/admin\"]} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/admin\">\r\n            <BarChartOutlined /><Link to=\"/admin\"><span>Dashboard</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/students\">\r\n            <TeamOutlined /><Link to=\"/admin/students\"><span>Students</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/tutors\">\r\n            <IdcardOutlined /><Link to=\"/admin/tutors\"><span>Tutors</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/reports\">\r\n            <ExceptionOutlined /><Link to=\"/admin/reports\"><span>Reports</span></Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header style={{ background: \"white\" }}>\r\n          {\r\n            collapsed ? <MenuUnfoldOutlined className={styles.menuIcon} onClick={() => setCollapsed(false)} /> : <MenuFoldOutlined className={styles.menuIcon} onClick={() => setCollapsed(true)} />\r\n          }\r\n          <div className={styles.userControl}>\r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div><Avatar src={AvatarPic} size=\"large\" draggable={false} /><DownOutlined className={styles.dropDownIcon} /></div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/admin/students\" component={Students} />\r\n            <Route path=\"/admin/tutors\" component={Tutors} />\r\n            <Route path=\"/admin/reports\" component={Reports} />\r\n            <Route path=\"/admin\" component={Dashboard} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { removeAccountInfo } from '../lib/utils/getAccountInfo';\r\n\r\nexport default function SignOut() {\r\n  useEffect(() => {\r\n    removeAccountInfo();\r\n  }, []);\r\n  return <Redirect to=\"/\" />\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport Default from '../pages/default/Default';\r\nimport Student from '../pages/student/Student';\r\nimport Tutor from '../pages/tutor/Tutor';\r\nimport Admin from '../pages/admin/Admin';\r\nimport { ROLES } from '../lib/constants';\r\nimport SignOut from './SignOut';\r\n\r\nexport default function Router() {\r\n  const { account } = useContext(AccountContext);\r\n  if (account && account.role === ROLES.STUDENT) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/student\" component={Student} />\r\n        <Redirect to=\"/student\" />\r\n      </Switch>\r\n    );\r\n  } else if (account && account.role === ROLES.TUTOR) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/tutor\" component={Tutor} />\r\n        <Redirect to=\"/tutor\" />\r\n      </Switch>\r\n    );\r\n  } else if (account && account.role === ROLES.ADMIN) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/admin\" component={Admin} />\r\n        <Redirect to=\"/admin\" />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Default} />\r\n        <Route path=\"/sign-out\" component={SignOut} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport AccountContextProvider from './context/AccountContext';\r\nimport Router from './components/Router';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <AccountContextProvider>\r\n        <Router />\r\n      </AccountContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\nimport 'antd/dist/antd.css'\r\n\r\nconst app = (\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tutorsLayout\":\"Tutors_tutorsLayout__3m6oR\",\"paginationWrapper\":\"Tutors_paginationWrapper__qJHen\",\"detail\":\"Tutors_detail__1xuzA\",\"detailBasic\":\"Tutors_detailBasic__37k26\",\"detailName\":\"Tutors_detailName__2nMzU\",\"detailBasicInfo\":\"Tutors_detailBasicInfo__znOaG\",\"banBtnHolder\":\"Tutors_banBtnHolder__2Tfhi\",\"detailAdditional\":\"Tutors_detailAdditional__1CIFl\",\"detailAdditionalRow\":\"Tutors_detailAdditionalRow__3o6uF\",\"searchBar\":\"Tutors_searchBar__1ccNS\",\"statusControl\":\"Tutors_statusControl__2-DYg\",\"statusControlBtnWrapper\":\"Tutors_statusControlBtnWrapper__2Dx8B\",\"statusControlBtn\":\"Tutors_statusControlBtn__yzMv9\",\"changeStateBtn\":\"Tutors_changeStateBtn__2Y1VI\",\"detailWrapper\":\"Tutors_detailWrapper__3pYNg\",\"detailTitle\":\"Tutors_detailTitle__21lFq\",\"uploadedCert\":\"Tutors_uploadedCert__2xVD2\",\"videoWrapper\":\"Tutors_videoWrapper__2vRqH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"FooterContent_footer__2LUe0\",\"contactIcon\":\"FooterContent_contactIcon__3hiC-\",\"contactInfoContainer\":\"FooterContent_contactInfoContainer__1g1QB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__ek5d7\",\"accountInfoContainer\":\"Profile_accountInfoContainer__1mcfy\",\"accountInfo\":\"Profile_accountInfo__3D6LT\",\"name\":\"Profile_name__S2sO7\",\"collapse\":\"Profile_collapse__OS-E9\",\"submitWrapper\":\"Profile_submitWrapper__128sb\"};"],"sourceRoot":""}