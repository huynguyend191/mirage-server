{"version":3,"sources":["pages/student/TutorDetailModal.module.css","pages/student/Study.module.css","pages/admin/StudentProfile.module.css","pages/admin/Settings.module.css","components/FooterContent.module.css","pages/student/Profile.module.css","components/VideoCall.module.css","components/CallModal.module.css","pages/tutor/VideoRecorder.module.css","pages/admin/Admin.module.css","pages/default/SignInModal.module.css","pages/admin/Subscriptions.module.css","assets/app-logo.png","components/AppLogo.module.css","components/SideBarLogo.module.css","pages/student/StudentCallHistories.module.css","pages/tutor/TutorCallHistories.module.css","pages/admin/Dashboard.module.css","pages/admin/Students.module.css","pages/admin/Tutors.module.css","pages/student/Student.module.css","components/ChangePasswordModal.module.css","pages/student/Subscriptions.module.css","pages/student/SubscriptionHistory.module.css","pages/tutor/Tutor.module.css","pages/admin/RecentCalls.module.css","pages/admin/TopPaid.module.css","pages/admin/CallDetailModal.module.css","pages/admin/TutorProfile.module.css","pages/student/ExtendSubscription.module.css","pages/admin/ReportDetailModal.module.css","assets/flame-welcome.png","assets/welcome-student.png","assets/welcome-tutor.png","components/ForgotPasswordModal.module.css","assets/normal.png","assets/silver.png","assets/gold.png","assets/platium.png","components/ReviewSummary.module.css","assets/endcall.png","assets/unverify.png","assets/timeout.png","pages/student/StudentCallDetailModal.module.css","pages/tutor/VideoPlayer.module.css","assets/tutor-wait.png","assets/complete-profile.png","pages/tutor/Stats.module.css","pages/tutor/Payments.module.css","pages/tutor/Reviews.module.css","pages/admin/OnlineUsers.module.css","pages/admin/MoneyStats.module.css","assets/admin-avatar.png","pages/admin/Reports.module.css","assets/settings.png","pages/default/RegisterModal.module.css","lib/preferences.js","pages/default/Default.module.css","pages/tutor/Profile.module.css","lib/utils/getAccountInfo.js","context/AccountContext.js","components/FooterContent.js","lib/utils/axiosConfig.js","pages/default/RegisterModal.js","pages/default/SignInModal.js","components/ForgotPasswordModal.js","components/AppLogo.js","pages/default/Default.js","lib/constants.js","components/ChangePasswordModal.js","components/SideBarLogo.js","lib/utils/formatTime.js","pages/student/Profile.js","pages/student/SubscriptionHistory.js","pages/student/ExtendSubscription.js","pages/student/Subscriptions.js","lib/socket.js","lib/Emitter.js","lib/MediaDevice.js","lib/PeerConnection.js","components/CallWindow.js","components/CallModal.js","pages/student/TutorCard.js","pages/admin/VideoPlayer.js","pages/student/TutorDetailModal.js","lib/utils/getReviewCount.js","components/ReviewSummary.js","components/Review.js","pages/student/TutorReviewModal.js","pages/student/TutorList.js","pages/student/FeedbackModal.js","components/VideoCall.js","pages/student/Study.js","components/CallRecordPlayer.js","pages/student/StudentCallDetailModal.js","components/ReportModal.js","pages/student/StudentCallHistories.js","pages/student/Student.js","pages/tutor/VideoRecorder.js","pages/tutor/VideoPlayer.js","pages/tutor/Profile.js","pages/tutor/Teaching.js","pages/tutor/TutorCallHistories.js","pages/tutor/Payments.js","pages/tutor/Reviews.js","pages/tutor/Stats.js","pages/tutor/Tutor.js","pages/admin/OnlineUsers.js","pages/admin/RecentCalls.js","pages/admin/MoneyStats.js","pages/admin/TopPaid.js","pages/admin/Dashboard.js","pages/admin/StudentSub.js","pages/admin/CallDetailModal.js","pages/admin/CallHistories.js","pages/admin/AccountReport.js","pages/admin/StudentProfile.js","pages/admin/Students.js","pages/admin/TutorPayment.js","pages/admin/TutorReviews.js","pages/admin/TutorProfile.js","pages/admin/Tutors.js","pages/admin/ReportDetailModal.js","pages/admin/Reports.js","pages/admin/Subscriptions.js","pages/admin/Payment.js","pages/admin/Settings.js","pages/admin/Admin.js","components/SignOut.js","components/Router.js","App.js","serviceWorker.js","index.js","pages/student/TutorCard.module.css","pages/tutor/Teaching.module.css","pages/admin/Payment.module.css","components/CallWindow.module.css","pages/student/TutorList.module.css"],"names":["module","exports","PREFERENCE_TYPE","Object","freeze","ENG_ACCENT","ENG_FLUENCY","TEACHING_STYLE","STUDENT_TYPE","STUDENT_LVL","SPECIALITY","SPECIALITIES","cookies","Cookies","removeAccountInfo","remove","AccountContext","createContext","AccountContextProvider","props","useState","account","setAccount","useEffect","existAccount","accessToken","get","jwtDecode","getAccountInfo","Provider","value","onSignIn","accountData","onSignOut","localStorage","clear","Footer","Layout","FooterContent","className","styles","footer","contactIconContainer","GithubOutlined","contactIcon","onClick","window","open","FacebookFilled","InstagramOutlined","contactInfoContainer","axiosRequest","axios","create","baseURL","withCredentials","RegisterModal","isStudent","setIsStudent","loading","setLoading","error","setError","Form","useForm","form","useContext","onFinish","values","a","url","accountInfo","username","password","email","name","post","result","data","setItem","location","reload","response","message","studentWelcome","registerWelcomeContent","welcomeImg","draggable","src","welcomeStudentImg","alt","tutorWelcome","welcomeTutorImg","visible","isVisible","title","onCancel","resetFields","onClose","width","registerContent","registerWelcome","formWrapper","style","marginBottom","type","showIcon","banner","closable","afterClose","scrollToFirstError","registerForm","labelCol","xs","span","sm","wrapperCol","Item","label","rules","required","whitespace","hasFeedback","Password","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","offset","htmlType","registerButton","shape","switchModeWrapper","switchMode","onSwitchSignIn","SignInModal","onSwitchRegister","onSwitchForgotPass","user","remember","signInForm","initialValues","prefix","UserOutlined","placeholder","LockOutlined","valuePropName","noStyle","signInForgot","signInButton","registerNow","ForgotPasswordModal","alert","defaultUser","submitBtn","AppLogo","headerWrapper","headerIcon","headerTitle","Header","Content","Default","isRegister","setRegister","isSignIn","setIsSignIn","isForgotPass","setIsForgotPass","showRegister","headerContent","userButtonContainer","userButton","defaultBody","introContainer","introImg","introContent","welcomeText","welcomeDescription","ROLES","ADMIN","TUTOR","STUDENT","STATES","ACTIVE","INACTIVE","VERIFICATION","VERIFIED","UNVERIFIED","PROFILE_STATUS","ACCEPTED","PENDING","REJECTED","serverUrl","SOCKET_EVENTS","INIT","REQUEST","CALL","END","DISCONNECT","GET_ONLINE_TUTORS","LEAVE","RECORD_STUDENT","RECORD_TUTOR","SAVE_VIDEOS","CREATE_CALL_HISTORY","GET_ONLINE_STUDENTS","STATUS","AVAILABLE","BUSY","OFFLINE","SUB_STATE","COMPLETED","CANCELED","SUB_TIER","NORMAL","SILVER","GOLD","PLATIUM","REPORT_REASONS","REPORT_STATE","RESOLVED","CANCELLED","PAYMENT_STATE","COUNTED","UNCOUNTED","PREFERENCE_TYPES","FAVORITE","RECOMMEND","ChangePasswordModal","onForgot","oldPassword","oldpassword","newPassword","id","role","forgotPass","SideBarLogo","collapsed","logoContainer","Logo","logo","logoText","getTimeFromMs","millisec","seconds","toFixed","minutes","Math","floor","hours","Option","Select","Panel","Collapse","Profile","loadingProfile","setLoadingProfile","profile","setProfile","loadingAva","setLoadingAva","avatar","setAvatar","getStudentProfile","student","avatarProfile","size","icon","onSubmit","put","uploadAvaProps","onRemove","file","beforeUpload","fileList","uploadAvatar","formData","FormData","append","method","resendConfirmation","spinning","accountInfoContainer","remaining_time","verification","color","collapse","phone","birthdate","moment","undefined","address","student_type","student_lvl","accent","specialities","JSON","parse","teaching_styles","defaultActiveKey","header","key","listType","FileImageOutlined","disabled","length","UploadOutlined","preferences","map","lvl","mode","spec","submitWrapper","SubscriptionHistory","studentSub","setStudentSub","getStudentSub","subscriptions","cancelSubscription","state","columns","dataIndex","render","createdAt","format","tier","duration","price","text","record","okText","cancelText","cancelBtn","onConfirm","ReloadOutlined","dataSource","pagination","rowKey","ExtendSubscription","purchaseLoading","setPurchaseLoading","discount","setDiscount","pricePerMin","setPricePerMin","createPurchase","studentId","settings","forEach","setting","content","Number","getSubPacks","extendSub","gutter","extendSubContent","subTier","extendDuration","tierImage","Normal","extendPrice","placement","Silver","extendSave","Gold","Platium","TabPane","Tabs","Subscriptions","tab","CreditCardOutlined","HistoryOutlined","tabPaneHistory","socket","io","Emitter","this","events","event","args","fn","push","_","isFunction","listeners","index","findIndex","_fn","splice","MediaDevice","navigator","mediaDevices","getUserMedia","video","facingMode","height","min","ideal","max","audio","echoCancellation","then","stream","emit","catch","err","DOMException","on","len","arguments","track","enabled","set","getTracks","stop","PC_CONFIG","iceServers","urls","PeerConnection","friendID","pc","RTCPeerConnection","onicecandidate","to","candidate","ontrack","streams","mediaDevice","isCaller","config","addTrack","createOffer","start","isStarter","close","off","getDescription","bind","createAnswer","desc","setLocalDescription","sdp","rtcSdp","RTCSessionDescription","setRemoteDescription","iceCandidate","RTCIceCandidate","addIceCandidate","CallWindow","peerSrc","localSrc","endCall","callWindow","peerVideo","useRef","localVideo","setVideo","setAudio","useBeforeunload","e","preventDefault","current","srcObject","toggle","toggleMediaDevice","deviceType","callWindowWrapper","videoScreenContainer","videoScreen","ref","autoPlay","muted","formatValue","lastUnit","callTime","Hours","Minutes","Seconds","videoControl","VideoCameraFilled","VideoCameraAddOutlined","AudioFilled","AudioMutedOutlined","StopOutlined","CallModal","callModal","callFrom","startCall","rejectCall","acceptWithVideo","callModalWrapper","caller","callerTxt","controlBtns","TutorCard","callWithVideo","openDetailModal","item","openReviewlModal","getPreferences","removeFav","delete","preId","console","actions","tutorCard","tutorInfo","tutorInfoDetail","tutorName","status","CheckCircleFilled","fontSize","marginLeft","MinusCircleFilled","certificates","review","reviewWrapper","defaultValue","round","avg","allowHalf","reviewCount","count","viewReviews","isFav","introduction","VideoPlayer","player","videoNode","videoJsOptions","controls","fluid","sources","autoplay","videojs","version_info","VERSION","log","dispose","data-vjs-player","node","playsInline","TutorDetailModal","selected","showDetailModal","setShowDetailModal","destroyOnClose","bodyStyle","overflow","detailWrapper","videoWrapper","bordered","column","fluency","speciality","interests","education","experience","profession","reason","detailTitle","uploadedCert","cert","href","path","FileDoneOutlined","originalname","getReviewCount","reviews","count0","count1","count2","count3","count4","count5","total","rating","rating0","rating1","rating2","rating3","rating4","rating5","ReviewSummary","reviewSummary","reviewOverall","reviewAvg","reviewNumber","marginRight","ratingCountList","ratingCount","showInfo","percent","Review","getTutorReview","deleteReview","deleteBtn","danger","author","comment","datetime","fromNow","TutorReviewModal","showReviewModal","setShowReviewModal","setReviews","maxHeight","itemLayout","renderItem","Search","Input","TutorList","onlineTutors","setTutor","remainingTime","setSelected","tutors","setTutors","keyword","setKeyword","setPreferences","favorites","setFavorites","recommend","setRecommend","valid","filteredTutors","tutor","toLowerCase","includes","filterTutorsByKeyword","favoriteTutors","pre","favTutor","tutorId","recommendTutors","recTutor","tutorList","searchTool","remainingTimeTitle","searchBar","enterButton","onSearch","TeamOutlined","tabPane","grid","LikeOutlined","RiseOutlined","FeedbackModal","showFeedback","setShowFeedBack","sucessAlert","setSuccessAlert","errorAlert","setErrorAlert","allowClear","TextArea","VideoCall","getStudent","setCallWindow","setCallModal","setCallFrom","setLocalSrc","setPeerSrc","pcRef","configRef","peerRecorder","localRecorder","end","setOnlineTutors","afterCallModal","setAfterCallModal","setShowFeedback","from","addNotification","theme","native","Date","now","setTimeout","online","MediaRecorder","mimeType","ondataavailable","stopRecording","renderCallFrom","btnHolder","addToFav","StarOutlined","videoCall","tutorProfile","isEmpty","afterCall","endCallImg","endUser","endDuration","Study","setStudent","renderStudy","unverify","timeoutImg","Timeout","unverifyTxt","unverifyImg","Unverify","study","CallRecordPlayer","StudentCallDetailModal","showCallDetail","setShowCallDetail","recordHolder","Report","showReport","setShowReport","accountId","callId","description","autoSize","minRows","StudentCallHistories","history","setHistory","searchKey","setSearchKey","getHistory","callHistories","viewRecordBtn","onViewRecord","onReportRecord","Sider","Student","isChangePass","setIsChangePass","userAvatar","margin","userMenu","KeyOutlined","LogoutOutlined","minHeight","collapsible","defaultSelectedKeys","selectedKeys","pathname","VideoCameraOutlined","ContactsOutlined","DollarCircleOutlined","userControl","overlay","DownOutlined","dropDownIcon","component","exact","plugins","maxLength","debug","VideoRecorder","cancelRecord","existedVideo","refreshProfile","recorded","setRecorded","uploadVideo","getPluginVersion","RecordRTC","version","recordedData","element","warn","deviceErrorCode","btnWrapper","videoBtn","btnWrapperNoCancel","recordNew","setFileList","uploading","setUploading","isRecord","setIsRecord","getTutorProfile","profileStatus","formItemLayout","uploadBtnLayout","uploadProps","indexOf","newFileList","slice","handleUpload","FileTextOutlined","introInstruct","introTips","Step","Steps","Teaching","getProfile","ProfileOutlined","teachingWrapper","teaching","SolutionOutlined","SmileOutlined","wait","waitImg","WaitImg","waitTxt","CompleteProfileImg","TutorCallHistories","paymentLoading","setPaymentLoading","setPrice","createPayment","getPrice","counted","onReport","payRate","Payments","payments","setPayments","getPayments","Reviews","reviewsRender","Stats","stats","Tutor","BarChartOutlined","OnlineUsers","onlineStudents","setOnlineStudents","datasets","backgroundColor","hoverBackgroundColor","labels","onlineUsers","RecentCalls","calls","setCalls","getRecentCalls","recentCalls","recentCallsTitle","MoneyStats","earn","pay","setStats","getMoneyStats","moneyStats","TopPaid","users","setUsers","topPaid","getTopPaid","topPaidTitle","Dashboard","dashboard","dashboardRow","StudentSub","CallDetailModal","recordTitle","CallHistories","onRow","AccountReport","reports","StudentProfile","getStudentsData","loadingDetail","setLoadingDetail","detail","setDetail","stateLoading","setStateLoading","updateStateUser","getStudentDetail","renderDetail","detailBasic","detailBasicInfo","banBtnHolder","changeStateBtn","detailAdditional","call_histories","Students","pageSize","setPageSize","students","setStudents","page","setPage","setTotal","tableData","totalResults","filters","filterMultiple","onFilter","toString","Boolean","studentsLayout","paginationWrapper","defaultCurrent","showSizeChanger","showTotal","onShowSizeChange","ceil","onChange","TutorPayment","TutorReviews","TutorProfile","getTutorsData","updateStatusLoading","setUpdateStatusLoading","updateProfileStatus","getTutorDetail","statusControl","statusControlBtnWrapper","borderColor","statusControlBtn","Tutors","tutorsLayout","ReportDetailModal","showReportDetail","setShowReportDetail","getReports","updateReport","reportDetail","reportDetailContent","reportLabel","reportContent","call_history","setReports","subs","sub","completeSubscription","acceptBtn","Payment","updatePayment","pendingBtn","Settings","studentPrice","setStudentPrice","tutorPrice","setTutorPrice","updatingStudent","setUpdatingStudent","updatingTutor","setUpdatingTutor","updatingDiscount","setUpdatingDiscount","getSettings","checkPrice","checkRate","updateTutorPrice","updateStudentPrice","updateDiscount","stringify","settingsContent","settingImg","SettingImg","settingTitle","layout","formatter","replace","parser","Admin","setCollapsed","onCollapse","adminMenu","IdcardOutlined","ExceptionOutlined","SettingOutlined","background","MenuUnfoldOutlined","menuIcon","MenuFoldOutlined","AvatarPic","Reports","SignOut","Router","withRouter","hostname","match","app","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7dc2f96c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailWrapper\":\"TutorDetailModal_detailWrapper__1-ZhW\",\"detailTitle\":\"TutorDetailModal_detailTitle__1Bhfv\",\"uploadedCert\":\"TutorDetailModal_uploadedCert__1t2bu\",\"videoWrapper\":\"TutorDetailModal_videoWrapper__3Bco0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"study\":\"Study_study__1m7u8\",\"unverify\":\"Study_unverify__3wQ3x\",\"unverifyImg\":\"Study_unverifyImg__2WWSo\",\"timeoutImg\":\"Study_timeoutImg__1giul\",\"unverifyTxt\":\"Study_unverifyTxt__YjQFO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"StudentProfile_detail__Hxd7l\",\"detailBasic\":\"StudentProfile_detailBasic__2XfWq\",\"detailName\":\"StudentProfile_detailName__3UQZu\",\"detailBasicInfo\":\"StudentProfile_detailBasicInfo__1iBLv\",\"banBtnHolder\":\"StudentProfile_banBtnHolder__1xaUf\",\"detailAdditional\":\"StudentProfile_detailAdditional__39B6A\",\"detailAdditionalRow\":\"StudentProfile_detailAdditionalRow__s7g9Q\",\"changeStateBtn\":\"StudentProfile_changeStateBtn__1pnrG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3GtsK\",\"settingsContent\":\"Settings_settingsContent__2uFPT\",\"settingTitle\":\"Settings_settingTitle__3XArO\",\"settingImg\":\"Settings_settingImg__1p_tt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"FooterContent_footer__1QDaf\",\"contactIcon\":\"FooterContent_contactIcon__1hOZQ\",\"contactInfoContainer\":\"FooterContent_contactInfoContainer__1hbrq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1KsTq\",\"accountInfoContainer\":\"Profile_accountInfoContainer__36-ca\",\"accountInfo\":\"Profile_accountInfo__36m1O\",\"name\":\"Profile_name__25jpy\",\"collapse\":\"Profile_collapse__3MZ62\",\"submitWrapper\":\"Profile_submitWrapper__3Aaab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoCall\":\"VideoCall_videoCall__1YbKV\",\"endCallImg\":\"VideoCall_endCallImg__25Quz\",\"afterCall\":\"VideoCall_afterCall__Am2pS\",\"endUser\":\"VideoCall_endUser__1v2Nl\",\"endDuration\":\"VideoCall_endDuration__1nRUs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"callModal\":\"CallModal_callModal__35GDR\",\"controlBtns\":\"CallModal_controlBtns__1uJMK\",\"caller\":\"CallModal_caller__3LaGC\",\"callerTxt\":\"CallModal_callerTxt__dCmne\",\"callModalWrapper\":\"CallModal_callModalWrapper__369uQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnWrapper\":\"VideoRecorder_btnWrapper__12vb1\",\"btnWrapperNoCancel\":\"VideoRecorder_btnWrapperNoCancel__2h8RG\",\"videoBtn\":\"VideoRecorder_videoBtn__QaDyQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoContainer\":\"Admin_logoContainer__5YP8N\",\"logo\":\"Admin_logo__3y50d\",\"logoText\":\"Admin_logoText__iG08w\",\"userControl\":\"Admin_userControl__2CV56\",\"dropDownIcon\":\"Admin_dropDownIcon__rm5ag\",\"adminMenu\":\"Admin_adminMenu__2W4DE\",\"menuIcon\":\"Admin_menuIcon__1kNaJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signInForm\":\"SignInModal_signInForm__1UsfZ\",\"signInForgot\":\"SignInModal_signInForgot__29zQP\",\"signInButton\":\"SignInModal_signInButton__2Cpbr\",\"registerNow\":\"SignInModal_registerNow__1BAGD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cancelBtn\":\"Subscriptions_cancelBtn__1choq\",\"reload\":\"Subscriptions_reload__1iCNI\",\"subscriptions\":\"Subscriptions_subscriptions__P0GgV\",\"acceptBtn\":\"Subscriptions_acceptBtn__2ljPh\"};","module.exports = __webpack_public_path__ + \"static/media/app-logo.05772604.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrapper\":\"AppLogo_headerWrapper__25kQj\",\"headerTitle\":\"AppLogo_headerTitle__2z-ww\",\"headerIcon\":\"AppLogo_headerIcon__uPmRj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoContainer\":\"SideBarLogo_logoContainer__3BU11\",\"logo\":\"SideBarLogo_logo__j38kN\",\"logoText\":\"SideBarLogo_logoText__1A9IP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StudentCallHistories\":\"StudentCallHistories_StudentCallHistories__2-zeT\",\"searchBar\":\"StudentCallHistories_searchBar__38t3d\",\"viewRecordBtn\":\"StudentCallHistories_viewRecordBtn__tAVri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TutorCallHistories\":\"TutorCallHistories_TutorCallHistories__2J6lF\",\"searchBar\":\"TutorCallHistories_searchBar__3n7wR\",\"payRate\":\"TutorCallHistories_payRate__3Daht\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__RTEsh\",\"dashboardRow\":\"Dashboard_dashboardRow__3x5rH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"studentsLayout\":\"Students_studentsLayout__3MTqw\",\"paginationWrapper\":\"Students_paginationWrapper__1ifQN\",\"searchBar\":\"Students_searchBar__OgN1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tutorsLayout\":\"Tutors_tutorsLayout__1Hpzr\",\"paginationWrapper\":\"Tutors_paginationWrapper__201Ai\",\"searchBar\":\"Tutors_searchBar__yTg_c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userControl\":\"Student_userControl__1_b1H\",\"sideMenu\":\"Student_sideMenu__3WPxY\",\"logoContainer\":\"Student_logoContainer__2FRB1\",\"logo\":\"Student_logo__HsotE\",\"logoText\":\"Student_logoText__WhrTV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgotPass\":\"ChangePasswordModal_forgotPass__2mFZo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subscriptions\":\"Subscriptions_subscriptions__2TvFB\",\"tabPaneHistory\":\"Subscriptions_tabPaneHistory__3jzUg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cancelBtn\":\"SubscriptionHistory_cancelBtn__3bslm\",\"reload\":\"SubscriptionHistory_reload__12dys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userControl\":\"Tutor_userControl__1WVk4\",\"sideMenu\":\"Tutor_sideMenu__3kkA_\",\"logoContainer\":\"Tutor_logoContainer__3UZOu\",\"logo\":\"Tutor_logo__2g0K_\",\"logoText\":\"Tutor_logoText__elIkt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recentCalls\":\"RecentCalls_recentCalls__2xgCD\",\"recentCallsTitle\":\"RecentCalls_recentCallsTitle__2EkRx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topPaid\":\"TopPaid_topPaid__3VbpS\",\"topPaidTitle\":\"TopPaid_topPaidTitle__1h0Yu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recordTitle\":\"CallDetailModal_recordTitle__1SF7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"TutorProfile_detail__ZkC-a\",\"detailBasic\":\"TutorProfile_detailBasic__2K4Hu\",\"detailName\":\"TutorProfile_detailName__23wlZ\",\"detailBasicInfo\":\"TutorProfile_detailBasicInfo__3Rr_6\",\"banBtnHolder\":\"TutorProfile_banBtnHolder__NhjcS\",\"detailAdditional\":\"TutorProfile_detailAdditional__PcE06\",\"detailAdditionalRow\":\"TutorProfile_detailAdditionalRow__1vG_M\",\"statusControl\":\"TutorProfile_statusControl__FY7mp\",\"statusControlBtnWrapper\":\"TutorProfile_statusControlBtnWrapper__eOpkW\",\"statusControlBtn\":\"TutorProfile_statusControlBtn__3WbCW\",\"changeStateBtn\":\"TutorProfile_changeStateBtn__10n4-\",\"detailWrapper\":\"TutorProfile_detailWrapper__1cIhT\",\"detailTitle\":\"TutorProfile_detailTitle__1pNY9\",\"uploadedCert\":\"TutorProfile_uploadedCert__3Cyz5\",\"videoWrapper\":\"TutorProfile_videoWrapper__25x9T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"extendSub\":\"ExtendSubscription_extendSub__3RML7\",\"extendSubContent\":\"ExtendSubscription_extendSubContent__3SHYr\",\"extendDuration\":\"ExtendSubscription_extendDuration__2KkDL\",\"extendPrice\":\"ExtendSubscription_extendPrice__dmScz\",\"extendSave\":\"ExtendSubscription_extendSave__2LkOJ\",\"tierImage\":\"ExtendSubscription_tierImage__1zkZo\",\"subTier\":\"ExtendSubscription_subTier__2uXtb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reportDetail\":\"ReportDetailModal_reportDetail__cdxgQ\",\"reportLabel\":\"ReportDetailModal_reportLabel__qepxr\",\"reportContent\":\"ReportDetailModal_reportContent__2FsSe\",\"banBtnHolder\":\"ReportDetailModal_banBtnHolder__2Uzt-\",\"statusControl\":\"ReportDetailModal_statusControl__zr4IP\",\"statusControlBtnWrapper\":\"ReportDetailModal_statusControlBtnWrapper__2a_wY\",\"statusControlBtn\":\"ReportDetailModal_statusControlBtn__1QDjW\"};","module.exports = __webpack_public_path__ + \"static/media/flame-welcome.2b090893.png\";","module.exports = __webpack_public_path__ + \"static/media/welcome-student.0c7630e5.png\";","module.exports = __webpack_public_path__ + \"static/media/welcome-tutor.66b32adc.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submitBtn\":\"ForgotPasswordModal_submitBtn__3hdXQ\"};","module.exports = __webpack_public_path__ + \"static/media/normal.e7bbb1c5.png\";","module.exports = __webpack_public_path__ + \"static/media/silver.f90e93f6.png\";","module.exports = __webpack_public_path__ + \"static/media/gold.5aac3e94.png\";","module.exports = __webpack_public_path__ + \"static/media/platium.d927c89d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewSummary\":\"ReviewSummary_reviewSummary__1bXME\",\"ratingCount\":\"ReviewSummary_ratingCount__2bZ6q\",\"ratingCountList\":\"ReviewSummary_ratingCountList__CKzd5\",\"rating\":\"ReviewSummary_rating__310az\",\"reviewAvg\":\"ReviewSummary_reviewAvg__3CHGn\",\"reviewOverall\":\"ReviewSummary_reviewOverall__2bnV6\",\"reviewNumber\":\"ReviewSummary_reviewNumber__10U5n\"};","module.exports = __webpack_public_path__ + \"static/media/endcall.6812f833.png\";","module.exports = __webpack_public_path__ + \"static/media/unverify.e737cc3d.png\";","module.exports = __webpack_public_path__ + \"static/media/timeout.5eb4aa73.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recordHolder\":\"StudentCallDetailModal_recordHolder__2_tf9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnWrapper\":\"VideoPlayer_btnWrapper__2FgjL\"};","module.exports = __webpack_public_path__ + \"static/media/tutor-wait.a732bc74.png\";","module.exports = __webpack_public_path__ + \"static/media/complete-profile.5dfe81ca.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stats\":\"Stats_stats__1dXkY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"payments\":\"Payments_payments__3iMPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviews\":\"Reviews_reviews__3g8Y-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"onlineUsers\":\"OnlineUsers_onlineUsers__2kML7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moneyStats\":\"MoneyStats_moneyStats__2Efr9\"};","module.exports = __webpack_public_path__ + \"static/media/admin-avatar.4fc32273.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reports\":\"Reports_reports__1gCNy\"};","module.exports = __webpack_public_path__ + \"static/media/settings.b69cd3a3.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registerContent\":\"RegisterModal_registerContent__VIZjp\",\"registerWelcome\":\"RegisterModal_registerWelcome__1FFXa\",\"registerForm\":\"RegisterModal_registerForm__1Y3PF\",\"registerButton\":\"RegisterModal_registerButton__3mZDu\",\"formWrapper\":\"RegisterModal_formWrapper__QXVyV\",\"switchMode\":\"RegisterModal_switchMode__1WPxv\",\"switchModeWrapper\":\"RegisterModal_switchModeWrapper__1DxCN\",\"welcomeImg\":\"RegisterModal_welcomeImg__1pZz7\",\"registerWelcomeContent\":\"RegisterModal_registerWelcomeContent___nFxy\"};","exports.PREFERENCE_TYPE = Object.freeze({\r\n  ENG_ACCENT: 'eng_accent',\r\n  ENG_FLUENCY: 'eng_fluency',\r\n  TEACHING_STYLE: 'teaching_style',\r\n  STUDENT_TYPE: 'student_type',\r\n  STUDENT_LVL: 'student_lvl',\r\n  SPECIALITY: 'speciality'\r\n});\r\n\r\nexports.ENG_ACCENT =  [\r\n  \"North America\",\r\n  \"North America - Canada\",\r\n  \"North America - USA\",\r\n  \"North America - Southern USA\",\r\n  \"North America - Other\",\r\n  \"British Isles\",\r\n  \"British Isles - Received Pronunciation\",\r\n  \"British Isle - Ireland\",\r\n  \"British Isles - Scotland\",\r\n  \"British Isles - Other\",\r\n  \"South Africa\",\r\n  \"Australia / New Zealand\",\r\n  \"Australia\",\r\n  \"New Zealand\",\r\n  \"Other\"\r\n];\r\n\r\nexports.ENG_FLUENCY = [\r\n  'Native',\r\n  'Fluent',\r\n  'Conversational',\r\n  'Basic'\r\n];\r\n\r\nexports.TEACHING_STYLE =  [\r\n  \"Kind & patient\" ,\r\n  \"Fun & gregarious\",\r\n  \"Scholarly & knowledgeable\"\r\n];\r\n\r\nexports.STUDENT_TYPE = [\r\n  \"Adult\",\r\n  \"Child\"\r\n];\r\n\r\nexports.STUDENT_LVL = [\r\n  \"Beginner\",\r\n  \"Intermeditate\",\r\n  \"Advanced\"\r\n];\r\n\r\nexports.SPECIALITIES = [\r\n  \"Friendly conversation\", \r\n  \"Business English\", \r\n  \"Public speaking\", \r\n  \"Test prep (IELTS, TOEFL, etc.)\", \r\n  \"Grammar instruction, Accent coaching\", \r\n  \"Correcting speech\", \r\n  \"Discussing current events\", \r\n  \"Vocational lessons\", \r\n  \"Culture (i.e. manners, customs)\",\r\n  \"Teaching idioms and slang\"\r\n];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerContent\":\"Default_headerContent__1AZME\",\"userButton\":\"Default_userButton__1sheO\",\"registerButton\":\"Default_registerButton__3_9k4\",\"userButtonContainer\":\"Default_userButtonContainer__13rjh\",\"defaultBody\":\"Default_defaultBody__2SFro\",\"introContainer\":\"Default_introContainer__2mKMi\",\"welcomeText\":\"Default_welcomeText__3V5pT\",\"welcomeDescription\":\"Default_welcomeDescription__3JyFy\",\"introContent\":\"Default_introContent__6VnKq\",\"introImg\":\"Default_introImg__13WSl\",\"becomeTutor\":\"Default_becomeTutor__r17GW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2KDIp\",\"accountInfoContainer\":\"Profile_accountInfoContainer__GEChU\",\"accountInfo\":\"Profile_accountInfo__Rms9a\",\"name\":\"Profile_name__dgEUU\",\"collapse\":\"Profile_collapse__4_nnt\",\"submitWrapper\":\"Profile_submitWrapper__1Rct5\",\"profileStatus\":\"Profile_profileStatus__3fk2b\",\"uploadedCert\":\"Profile_uploadedCert__FfGyt\",\"introTips\":\"Profile_introTips__2rDTa\",\"introInstruct\":\"Profile_introInstruct__E-NsA\"};","import Cookies from 'universal-cookie';\r\nimport jwtDecode from 'jwt-decode';\r\nconst cookies = new Cookies();\r\n\r\nexport const getAccountInfo = () => {\r\n  let account = null;\r\n  const accessToken = cookies.get('access_token');\r\n  if (accessToken) {\r\n    account = jwtDecode(accessToken);\r\n  }\r\n  return account;\r\n};\r\n\r\nexport const removeAccountInfo = () => {\r\n  cookies.remove('access_token');\r\n};\r\n","import React, { createContext, useState, useEffect } from 'react';\r\nimport { getAccountInfo, removeAccountInfo } from '../lib/utils/getAccountInfo';\r\nexport const AccountContext = createContext(null);\r\n\r\nconst initialAccount = null;\r\n\r\nconst AccountContextProvider = (props) => {\r\n  const [account, setAccount] = useState(initialAccount);\r\n\r\n  useEffect(() => {\r\n    const existAccount = getAccountInfo();\r\n    if (existAccount) {\r\n      setAccount(existAccount);\r\n    }\r\n  }, []);\r\n\r\n  const onSignIn = (accountData) => {\r\n    setAccount(accountData);\r\n  };\r\n\r\n  const onSignOut = () => {\r\n    removeAccountInfo();\r\n    localStorage.clear();\r\n    setAccount(null);\r\n  };\r\n\r\n  return (\r\n    <AccountContext.Provider value={{ account, onSignIn, onSignOut }} {...props} />\r\n  )\r\n}\r\n\r\nexport default AccountContextProvider;","import React from 'react';\r\nimport styles from './FooterContent.module.css';\r\nimport { GithubOutlined, FacebookFilled, InstagramOutlined } from '@ant-design/icons';\r\nimport { Layout } from 'antd';\r\nconst { Footer } = Layout;\r\nexport default function FooterContent() {\r\n  return (\r\n    <Footer className={styles.footer}>\r\n      <div className={styles.contactIconContainer}>\r\n        <GithubOutlined className={styles.contactIcon} onClick={() => window.open('https://github.com/huynguyend191')} />\r\n        <FacebookFilled className={styles.contactIcon} onClick={() => window.open('https://www.facebook.com/sneezingcat191')} />\r\n        <InstagramOutlined className={styles.contactIcon} onClick={() => window.open('https://www.instagram.com/sneezingcat191/')} />\r\n      </div>\r\n      <div className={styles.contactInfoContainer}>\r\n        Mirage 2020 - English Video Call Platform <br /> \r\n        Contact: huynguyend191@gmail.com\r\n      </div>\r\n    </Footer>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === 'development' ? 'https://localhost:3003/api' : 'https://mirage-video-call.herokuapp.com/api';\r\n\r\nconst axiosRequest = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n});\r\n\r\nexport default axiosRequest;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Modal, Form, Input, Button, Alert } from 'antd';\r\nimport styles from './RegisterModal.module.css';\r\nimport welcomeStudentImg from '../../assets/welcome-student.png';\r\nimport welcomeTutorImg from '../../assets/welcome-tutor.png';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\n\r\nexport default function RegisterModal(props) {\r\n  const [isStudent, setIsStudent] = useState(props.isStudent);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [form] = Form.useForm();\r\n  const { onSignIn } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    setIsStudent(props.isStudent)\r\n  }, [props.isStudent])\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const url = isStudent? '/students' : '/tutors';\r\n      const accountInfo = {\r\n        username: values.username,\r\n        password: values.password,\r\n        email: values.email,\r\n        name: values.name\r\n      };\r\n      const result = await axios.post(url + '/register', accountInfo);\r\n      setLoading(false);\r\n      onSignIn(result.data.account);\r\n      localStorage.setItem('remember', true);\r\n      window.location.reload(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n  const switchRole = () => {\r\n    setIsStudent(!isStudent);\r\n  };\r\n  const switchMode = () => {\r\n    props.onClose();\r\n    props.onSwitchSignIn();\r\n  };\r\n  const onClose = () => {\r\n    form.resetFields();\r\n    props.onClose();\r\n  }\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const tailFormItemLayout = {\r\n    wrapperCol: {\r\n      xs: {\r\n        span: 24,\r\n        offset: 0,\r\n      },\r\n      sm: {\r\n        span: 16,\r\n        offset: 8,\r\n      },\r\n    },\r\n  };\r\n  const studentWelcome = (\r\n    <div className={styles.registerWelcomeContent}>\r\n      <img className={styles.welcomeImg} draggable={false} src={welcomeStudentImg} alt=\"\" />\r\n      <h3>Experience new way of studying English</h3>\r\n      <h4>Improve your English anywhere anytime</h4>\r\n      <h4>Learn from interesting people around the world</h4>\r\n    </div>\r\n  )\r\n  \r\n  const tutorWelcome = (\r\n    <div className={styles.registerWelcomeContent}>\r\n      <img className={styles.welcomeImg} draggable={false} src={welcomeTutorImg} alt=\"\" />\r\n      <h3>Tutoring with Mirage is fun & rewarding</h3>\r\n      <h4>No experience necessary</h4>\r\n      <h4>Share your knowledge with people and get paid</h4>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <Modal\r\n      visible={props.isVisible}\r\n      footer={null}\r\n      title={isStudent? 'Register as student' : 'Register as tutor'}\r\n      onCancel={onClose}\r\n      width=\"800px\"\r\n    >\r\n      <div className={styles.registerContent}>\r\n        <div className={styles.registerWelcome}>\r\n          {\r\n            isStudent?\r\n            <div>{studentWelcome}</div> :\r\n            <div>{tutorWelcome}</div>\r\n          }\r\n        </div>\r\n        <div className={styles.formWrapper}>\r\n          {error ? <Alert style={{marginBottom: \"15px\"}} message={error} type=\"error\" showIcon banner closable afterClose={() => setError(null)} /> : null}\r\n          <Form\r\n            name=\"register\"\r\n            onFinish={onFinish}\r\n            scrollToFirstError\r\n            className={styles.registerForm}\r\n            form={form}\r\n            {...formItemLayout}\r\n          >\r\n            <Form.Item\r\n              name=\"email\"\r\n              label=\"E-mail\"\r\n              rules={[\r\n                {\r\n                  type: 'email',\r\n                  message: 'The input is not valid E-mail!',\r\n                },\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your E-mail!',\r\n                },\r\n              ]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"username\"\r\n              label=\"Username\"\r\n              rules={[{ required: true, message: 'Please input your username!', whitespace: false }]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your password!',\r\n                },\r\n              ]}\r\n              hasFeedback\r\n            >\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"confirm\"\r\n              label=\"Confirm Password\"\r\n              dependencies={['password']}\r\n              hasFeedback\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please confirm your password!',\r\n                },\r\n                ({ getFieldValue }) => ({\r\n                  validator(rule, value) {\r\n                    if (!value || getFieldValue('password') === value) {\r\n                      return Promise.resolve();\r\n                    }\r\n                    return Promise.reject('The two passwords that you entered do not match!');\r\n                  },\r\n                }),\r\n              ]}\r\n            >\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"name\"\r\n              label=\"Full name\"\r\n              rules={[{ required: true, message: 'Please input your fullname!', whitespace: true }]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n              <Button type=\"primary\" htmlType=\"submit\" className={styles.registerButton} shape=\"round\" loading={loading}>\r\n                Register\r\n              </Button>\r\n              <p className={styles.switchModeWrapper}>Or<span onClick={switchRole} className={styles.switchMode}> become a {isStudent? \"tutor\" : \"student\"} instead</span></p>\r\n              <p className={styles.switchModeWrapper}>Already have an account? <span onClick={switchMode} className={styles.switchMode}> Sign in</span></p>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { Modal, Form, Input, Button, Alert, Checkbox } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport styles from './SignInModal.module.css';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function SignInModal({ isVisible, onClose, onSwitchRegister, onSwitchForgotPass }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const { onSignIn } = useContext(AccountContext);\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const account = {\r\n        user: values.user,\r\n        password: values.password,\r\n        remember: values.remember\r\n      };\r\n      const result = await axios.post('/accounts/sign-in', account);\r\n      setLoading(false);\r\n      onSignIn(result.data.account);\r\n      window.location.reload(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const onChangeMode = () => {\r\n    onClose();\r\n    onSwitchRegister(true);\r\n  };\r\n\r\n  const onCancel = () => {\r\n    form.resetFields()\r\n    onClose();\r\n  };\r\n\r\n  const onForgotPass = () => {\r\n    onClose();\r\n    onSwitchForgotPass();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={isVisible}\r\n      footer={null}\r\n      onCancel={onCancel}\r\n      title=\"Sign in\"\r\n      width=\"400px\"\r\n    >\r\n      {error ? <Alert style={{ marginBottom: \"15px\" }} message={error} type=\"error\" showIcon banner closable afterClose={() => setError(null)} /> : null}\r\n      <Form\r\n        name=\"normal_sign_in\"\r\n        className={styles.signInForm}\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        form={form}\r\n      >\r\n        <Form.Item\r\n          name=\"user\"\r\n          rules={[{ required: true, message: 'Please input your username or email!' }]}\r\n        >\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username or email\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[{ required: true, message: 'Please input your Password!' }]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n            <Checkbox>Remember me</Checkbox>\r\n          </Form.Item>\r\n          <p onClick={onForgotPass} className={styles.signInForgot}>\r\n            Forgot password?\r\n          </p>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className={styles.signInButton} shape=\"round\" loading={loading}>\r\n            Sign in\r\n        </Button>\r\n          Don't have an account? <span className={styles.registerNow} onClick={onChangeMode}>Register!</span>\r\n        </Form.Item>\r\n\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { Modal, Button, Input, Form } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport styles from './ForgotPasswordModal.module.css';\r\nimport axios from '../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../context/AccountContext';\r\n\r\nexport default function ForgotPasswordModal({ isVisible, onClose }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const onFinish = async values => {\r\n    try {\r\n      setLoading(true);\r\n      await axios.post('/accounts/reset-password', { user: values.user });\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n  const onCancel = () => {\r\n    form.resetFields();\r\n    onClose();\r\n  };\r\n\r\n  const defaultUser = account ? account.email : null;\r\n\r\n  return (\r\n    <Modal visible={isVisible} footer={null} title=\"Reset your password\" width=\"350px\" onCancel={onCancel}>\r\n      <Form name=\"forgot_password\" form={form} onFinish={onFinish} initialValues={{ user: defaultUser }}>\r\n        <Form.Item name=\"user\" rules={[{ required: true, message: 'Please input your username or email!' }]}>\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Enter your username or email\" />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" shape=\"round\" loading={loading} className={styles.submitBtn}>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from'./AppLogo.module.css';\r\nimport headerIcon from '../assets/app-logo.png';\r\n\r\nexport default function AppLogo() {\r\n  return (\r\n    <div className={styles.headerWrapper}>\r\n      <img className={styles.headerIcon} src={headerIcon} draggable={false} alt=\"\" />\r\n      <h1 className={styles.headerTitle}>MIRAGE</h1>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport styles from './Default.module.css';\r\nimport { Button, Layout, Divider } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport introImg from '../../assets/flame-welcome.png';\r\nimport RegisterModal from './RegisterModal';\r\nimport SignInModal from './SignInModal';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport AppLogo from '../../components/AppLogo';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nexport default function Default() {\r\n  const [isRegister, setRegister] = useState(false);\r\n  const [isSignIn, setIsSignIn] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const [isStudent, setIsStudent] = useState(true);\r\n\r\n  const showRegister = (isStudent) => {\r\n    setIsStudent(isStudent);\r\n    setRegister(true);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <SignInModal isVisible={isSignIn} onClose={() => setIsSignIn(false)} onSwitchRegister={showRegister} onSwitchForgotPass={() => setIsForgotPass(true)} />\r\n      <RegisterModal isVisible={isRegister} onClose={() => {setRegister(false)}} isStudent={isStudent} onSwitchSignIn={() => setIsSignIn(true)} />\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <Header>\r\n        <div className={styles.headerContent}>\r\n          <AppLogo />\r\n          <div className={styles.userButtonContainer}>\r\n            <Button className={styles.userButton} type=\"secondary\" shape=\"round\" onClick={() => setIsSignIn(true)}>Sign in</Button>\r\n            <Button className={styles.userButton} type=\"primary\" shape=\"round\" onClick={() => showRegister(true)}>Register</Button>\r\n          </div>\r\n        </div>\r\n      </Header>\r\n      <Content>\r\n        <div className={styles.defaultBody}>\r\n          <div className={styles.introContainer}> \r\n            <img className={styles.introImg} draggable={false} src={introImg} alt=\"\" />\r\n            <div className={styles.introContent}>\r\n              <p className={styles.welcomeText}>Welcome to Mirage!</p>\r\n              <p className={styles.welcomeDescription}>“Go on, say something in English!”</p>\r\n              <Button className={styles.registerButton} type=\"primary\" shape=\"round\" onClick={() => showRegister(true)}>STUDY NOW</Button>\r\n              <Divider style={{ width: \"300px\" }}>OR</Divider>\r\n              <Button className={styles.registerButton} type=\"secondary\" shape=\"round\" onClick={() => showRegister(false)}>BECOME TUTOR</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n      <FooterContent />\r\n    </Layout>\r\n  )\r\n}\r\n","export const ROLES = Object.freeze({\r\n  ADMIN: 1,\r\n  TUTOR: 2,\r\n  STUDENT: 3\r\n});\r\n\r\nexport const STATES = Object.freeze({\r\n  ACTIVE: 1,\r\n  INACTIVE: 0\r\n});\r\n\r\nexport const VERIFICATION = Object.freeze({\r\n  VERIFIED: 1,\r\n  UNVERIFIED: 0\r\n});\r\n\r\nexport const PROFILE_STATUS = Object.freeze({\r\n  ACCEPTED: 1,\r\n  PENDING: 2,\r\n  REJECTED: 3\r\n});\r\n\r\nexport const serverUrl =\r\n  process.env.NODE_ENV === 'development' ? 'https://localhost:3003/' : 'https://mirage-video-call.herokuapp.com/';\r\n\r\nexport const SOCKET_EVENTS = Object.freeze({\r\n  INIT: 'init',\r\n  REQUEST: 'request',\r\n  CALL: 'call',\r\n  END: 'end',\r\n  DISCONNECT: 'disconnect',\r\n  GET_ONLINE_TUTORS: 'get_online_tutors',\r\n  LEAVE: 'leave',\r\n  RECORD_STUDENT: 'record_student',\r\n  RECORD_TUTOR: 'record_tutor',\r\n  SAVE_VIDEOS: 'save_videos',\r\n  CREATE_CALL_HISTORY: 'create_call_history',\r\n  GET_ONLINE_STUDENTS: 'get_online_students'\r\n});\r\n\r\nexport const STATUS = Object.freeze({\r\n  AVAILABLE: 1,\r\n  BUSY: 0,\r\n  OFFLINE: 2\r\n});\r\n\r\nexport const SUB_STATE = Object.freeze({\r\n  COMPLETED: 1,\r\n  PENDING: 2,\r\n  CANCELED: 3\r\n});\r\n\r\nexport const SUB_TIER = Object.freeze({\r\n  NORMAL: 1,\r\n  SILVER: 2,\r\n  GOLD: 3,\r\n  PLATIUM: 4\r\n});\r\n\r\nexport const REPORT_REASONS = ['Nudity', 'Harassment', 'Spam', 'Hate speech', 'Something else'];\r\n\r\nexport const REPORT_STATE = Object.freeze({\r\n  RESOLVED: 1,\r\n  PENDING: 2,\r\n  CANCELLED: 3\r\n});\r\n\r\nexport const HISTORY_COUNT = Object.freeze({\r\n  COUNTED: 1,\r\n  UNCOUNTED: 0\r\n});\r\n\r\nexport const PAYMENT_STATE = Object.freeze({\r\n  COMPLETED: 1,\r\n  PENDING: 2,\r\n  CANCELED: 3\r\n});\r\n\r\nexport const PREFERENCE_TYPES = Object.freeze({\r\n  FAVORITE: 1,\r\n  RECOMMEND: 2\r\n});\r\n\r\nexport const STUDENT_PRICE = 'student price';\r\nexport const TUTOR_PRICE = 'tutor price';\r\nexport const DISCOUNT_RATE = 'discount rate';\r\n","import React, { useState, useContext } from 'react';\r\nimport styles from './ChangePasswordModal.module.css';\r\nimport { Modal, Form, Input, Button } from 'antd';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport axios from '../lib/utils/axiosConfig';\r\nimport { ROLES } from '../lib/constants';\r\n\r\nexport default function ChangePasswordModal({ isVisible, onForgot, onClose }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const onFinish = async values => {\r\n    try {\r\n      setLoading(true);\r\n      const password = {\r\n        oldPassword: values.oldpassword,\r\n        newPassword: values.password\r\n      };\r\n      await axios.post('/accounts/' + account.id + '/change-password', password);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n  const onCancel = () => {\r\n    form.resetFields();\r\n    onClose();\r\n  };\r\n  const forgotPassword = () => {\r\n    onCancel();\r\n    onForgot();\r\n  };\r\n\r\n  const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 }\r\n  };\r\n  const tailLayout = {\r\n    wrapperCol: { offset: 8, span: 16 }\r\n  };\r\n\r\n  return (\r\n    <Modal visible={isVisible} footer={null} title=\"Change your password\" onCancel={onCancel} width=\"500px\">\r\n      <Form {...layout} name=\"change-password\" onFinish={onFinish} form={form}>\r\n        <Form.Item\r\n          name=\"oldpassword\"\r\n          label=\"Current password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your current password!'\r\n            }\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          label=\"New password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your new password!'\r\n            }\r\n          ]}\r\n          hasFeedback\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"confirm\"\r\n          label=\"Retype password\"\r\n          dependencies={['password']}\r\n          hasFeedback\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please confirm your password!'\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(rule, value) {\r\n                if (!value || getFieldValue('password') === value) {\r\n                  return Promise.resolve();\r\n                }\r\n                return Promise.reject('The two passwords that you entered do not match!');\r\n              }\r\n            })\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\" className={styles.registerButton} loading={loading}>\r\n            Update password\r\n          </Button>\r\n          {account.role === ROLES.ADMIN ? null : (\r\n            <span className={styles.forgotPass} onClick={forgotPassword}>\r\n              Forgot password?\r\n            </span>\r\n          )}\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Logo from '../assets/app-logo.png';\r\nimport styles from './SideBarLogo.module.css';\r\n\r\nexport default function SideBarLogo( {collapsed} ) {\r\n  return (\r\n    <div className={styles.logoContainer}>\r\n      <img src={Logo} alt=\"\" className={styles.logo} draggable={false} />\r\n      {collapsed ? null : <p className={styles.logoText}>MIRAGE</p>}\r\n    </div>\r\n  )\r\n}\r\n","export const getTimeFromMs = (millisec) => {\r\n  var seconds = (millisec / 1000).toFixed(0);\r\n  var minutes = Math.floor(seconds / 60);\r\n  var hours = \"\";\r\n  if (minutes > 59) {\r\n      hours = Math.floor(minutes / 60);\r\n      hours = (hours >= 10) ? hours : \"0\" + hours;\r\n      minutes = minutes - (hours * 60);\r\n      minutes = (minutes >= 10) ? minutes : \"0\" + minutes;\r\n  }\r\n\r\n  seconds = Math.floor(seconds % 60);\r\n  seconds = (seconds >= 10) ? seconds : \"0\" + seconds;\r\n  if (hours !== \"\") {\r\n      return hours + \":\" + minutes + \":\" + seconds;\r\n  }\r\n  return minutes + \":\" + seconds;\r\n}","import React, { useEffect, useState, useContext } from 'react';\r\nimport styles from './Profile.module.css';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Avatar, Collapse, Form, Input, DatePicker, Button, Select, Upload, Alert, Tag, Spin } from 'antd';\r\nimport { UserOutlined, UploadOutlined, FileImageOutlined } from '@ant-design/icons';\r\nimport preferences from '../../lib/preferences';\r\nimport moment from 'moment';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { getTimeFromMs } from '../../lib/utils/formatTime';\r\nconst { Option } = Select;\r\nconst { Panel } = Collapse;\r\n\r\nexport default function Profile() {\r\n  const [loadingProfile, setLoadingProfile] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profile, setProfile] = useState({ account: { email: null } });\r\n  const { account } = useContext(AccountContext);\r\n  const [loadingAva, setLoadingAva] = useState(false);\r\n  const [avatar, setAvatar] = useState([]);\r\n\r\n  const getStudentProfile = async () => {\r\n    try {\r\n      setLoadingProfile(true);\r\n      const result = await axios.get('/students/' + account.student.id);\r\n      setProfile(result.data.student);\r\n      setLoadingProfile(false);\r\n    } catch (error) {\r\n      setLoadingProfile(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStudentProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const avatarProfile =\r\n    profile && profile.avatar ? (\r\n      <Avatar src={serverUrl + profile.avatar} size={100} />\r\n    ) : (\r\n      <Avatar icon={<UserOutlined />} size={100} />\r\n    );\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 }\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 }\r\n    }\r\n  };\r\n  const uploadBtnLayout = {\r\n    wrapperCol: { offset: 5, span: 16 }\r\n  };\r\n  const onSubmit = async values => {\r\n    try {\r\n      setLoading(true);\r\n      await axios.put('/students/' + profile.id, values);\r\n      getStudentProfile();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const uploadAvaProps = {\r\n    onRemove: file => {\r\n      setAvatar([]);\r\n    },\r\n    beforeUpload: file => {\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n      if (isJpgOrPng) {\r\n        setAvatar([file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: avatar\r\n  };\r\n\r\n  const uploadAvatar = async () => {\r\n    try {\r\n      setLoadingAva(true);\r\n      const formData = new FormData();\r\n      formData.append('avatar', avatar[0]);\r\n      await axios('/students/avatar/' + profile.account.username, {\r\n        method: 'POST',\r\n        data: formData\r\n      });\r\n      await getStudentProfile();\r\n      window.location.reload(false);\r\n      setLoadingAva(false);\r\n    } catch (error) {\r\n      setLoadingAva(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const resendConfirmation = async () => {\r\n    try {\r\n      await axios.post('/accounts/resend-verify', { email: profile.account.email });\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Spin spinning={loadingProfile}>\r\n      <div className={styles.profile}>\r\n        <div className={styles.accountInfoContainer}>\r\n          {avatarProfile}\r\n          <div className={styles.accountInfo}>\r\n            <p className={styles.name}>{profile.name}</p>\r\n            <p>Email: {profile.account.email}</p>\r\n            <p>Remaining time: {getTimeFromMs(profile.remaining_time)}</p>\r\n            {account.verification ? (\r\n              <Tag color=\"success\">Verified</Tag>\r\n            ) : (\r\n              <span>\r\n                <Tag color=\"default\">Unverified</Tag>\r\n                <Button type=\"link\" onClick={resendConfirmation}>\r\n                  Resend confirmation email\r\n                </Button>\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className={styles.collapse}>\r\n          {profile.name ? (\r\n            <Form\r\n              {...formItemLayout}\r\n              onFinish={onSubmit}\r\n              initialValues={{\r\n                name: profile.name,\r\n                phone: profile.phone,\r\n                birthdate: profile.birthdate ? moment(profile.birthdate) : undefined,\r\n                address: profile.address,\r\n                student_type: profile.student_type ? profile.student_type : undefined,\r\n                student_lvl: profile.student_lvl ? profile.student_lvl : undefined,\r\n                accent: profile.accent ? profile.accent : undefined,\r\n                specialities: profile.specialities ? JSON.parse(profile.specialities) : undefined,\r\n                teaching_styles: profile.teaching_styles ? JSON.parse(profile.teaching_styles) : undefined\r\n              }}\r\n            >\r\n              <Collapse defaultActiveKey={['1', '2']}>\r\n                <Panel header=\"Basic info\" key=\"1\">\r\n                  <Form.Item label=\"Name\" name=\"name\" rules={[{ required: true, message: 'Please enter your name' }]}>\r\n                    <Input placeholder=\"Your fullname\" value={profile.name} />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"phone\" label=\"Phone\">\r\n                    <Input placeholder=\"Your phone number (optional)\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"birthdate\" label=\"Birthdate\">\r\n                    <DatePicker />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"avatar\" label=\"Upload avatar\">\r\n                    <Upload {...uploadAvaProps} listType=\"picture-card\">\r\n                      <Button icon={<FileImageOutlined />}>Change avatar</Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button\r\n                      disabled={avatar.length <= 0}\r\n                      onClick={uploadAvatar}\r\n                      loading={loadingAva}\r\n                      style={{ width: '159px' }}\r\n                    >\r\n                      <UploadOutlined /> Upload avatar\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Study preferences\" key=\"2\">\r\n                  <Alert\r\n                    style={{ marginBottom: '15px' }}\r\n                    message=\"Complete your profile to help finding appropriate tutors easier\"\r\n                    type=\"info\"\r\n                    showIcon\r\n                  />\r\n                  <Form.Item name=\"student_type\" label=\"Type\">\r\n                    <Select placeholder=\"What type of student are you?\">\r\n                      {preferences.STUDENT_TYPE.map(type => {\r\n                        return (\r\n                          <Option value={type} key={type}>\r\n                            {type}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"student_lvl\" label=\"Your level\">\r\n                    <Select placeholder=\"Your English level\">\r\n                      {preferences.STUDENT_LVL.map(lvl => {\r\n                        return (\r\n                          <Option value={lvl} key={lvl}>\r\n                            {lvl}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"accent\" label=\"Favorite accent\">\r\n                    <Select placeholder=\"What is your favorite English accent?\">\r\n                      {preferences.ENG_ACCENT.map(accent => {\r\n                        return (\r\n                          <Option value={accent} key={accent}>\r\n                            {accent}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"specialities\" label=\"Interests\">\r\n                    <Select mode=\"multiple\" placeholder=\"What do you want to study?\">\r\n                      {preferences.SPECIALITIES.map(spec => {\r\n                        return (\r\n                          <Option value={spec} key={spec}>\r\n                            {spec}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"teaching_styles\" label=\"Teaching styles\">\r\n                    <Select mode=\"multiple\" placeholder=\"Which styles of teaching do you prefer?\">\r\n                      {preferences.TEACHING_STYLE.map(style => {\r\n                        return (\r\n                          <Option value={style} key={style}>\r\n                            {style}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Panel>\r\n              </Collapse>\r\n              <div className={styles.submitWrapper}>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                  Update profile\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Table, Spin, Tag, Popconfirm, Button } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { SUB_STATE, SUB_TIER } from '../../lib/constants';\r\nimport moment from 'moment';\r\nimport styles from './SubscriptionHistory.module.css';\r\nimport { ReloadOutlined } from '@ant-design/icons';\r\n\r\nexport default function SubscriptionHistory() {\r\n  const { account } = useContext(AccountContext);\r\n  const [studentSub, setStudentSub] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getStudentSub = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await axios.get('/subscriptions/' + account.student.id);\r\n      setStudentSub(result.data.subscriptions);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const cancelSubscription = async id => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.put('/subscriptions/' + id, {\r\n        state: SUB_STATE.CANCELED\r\n      });\r\n      getStudentSub();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Tier',\r\n      dataIndex: 'tier',\r\n      render: tier => {\r\n        if (tier === SUB_TIER.SILVER) {\r\n          return <Tag color=\"#C0C0C0\">Silver</Tag>;\r\n        } else if (tier === SUB_TIER.GOLD) {\r\n          return <Tag color=\"#DAA520\">Gold</Tag>;\r\n        } else if (tier === SUB_TIER.PLATIUM) {\r\n          return <Tag color=\"processing\">Platium</Tag>;\r\n        } else {\r\n          return <Tag>Normal</Tag>;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Duration',\r\n      dataIndex: 'duration',\r\n      render: duration => {\r\n        return <div>{duration / 60000} mins</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Price',\r\n      dataIndex: 'price',\r\n      render: price => {\r\n        return <div>{price}$</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => {\r\n        if (state === SUB_STATE.COMPLETED) {\r\n          return <Tag color=\"success\">Completed</Tag>;\r\n        } else if (state === SUB_STATE.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Cancelled</Tag>;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: 'state',\r\n      render: (text, record) => {\r\n        if (record.state === SUB_STATE.PENDING) {\r\n          return (\r\n            <Popconfirm\r\n              title=\"Do you want to cancel this request?\"\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n              className={styles.cancelBtn}\r\n              onConfirm={() => cancelSubscription(record.id)}\r\n            >\r\n              Cancel\r\n            </Popconfirm>\r\n          );\r\n        } else {\r\n          return <div>N/A</div>;\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    getStudentSub();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <Spin spinning={loading}>\r\n      <Button className={styles.reload} onClick={getStudentSub} icon={<ReloadOutlined />}>\r\n        Reload\r\n      </Button>\r\n      <Table columns={columns} dataSource={studentSub} pagination={true} rowKey=\"id\" />\r\n    </Spin>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport styles from './ExtendSubscription.module.css';\r\nimport { Card, Row, Col, Divider, Button, Popconfirm, Spin } from 'antd';\r\nimport { SUB_TIER, STUDENT_PRICE, DISCOUNT_RATE } from '../../lib/constants';\r\nimport Normal from '../../assets/normal.png';\r\nimport Silver from '../../assets/silver.png';\r\nimport Gold from '../../assets/gold.png';\r\nimport Platium from '../../assets/platium.png';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\n\r\nexport default function ExtendSubscription() {\r\n  const [purchaseLoading, setPurchaseLoading] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [discount, setDiscount] = useState(null);\r\n  const [pricePerMin, setPricePerMin] = useState(null);\r\n  const { account } = useContext(AccountContext);\r\n  const createPurchase = async (duration, tier) => {\r\n    setPurchaseLoading(true);\r\n    try {\r\n      await axios.post('/subscriptions', {\r\n        duration: duration * 60 * 1000,\r\n        studentId: account.student.id,\r\n        tier: tier\r\n      });\r\n      setPurchaseLoading(false);\r\n    } catch (error) {\r\n      setPurchaseLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getSubPacks = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const result = await axios.get('/settings');\r\n        result.data.settings.forEach(setting => {\r\n          if (setting.type === DISCOUNT_RATE) {\r\n            setDiscount(JSON.parse(setting.content));\r\n          }\r\n          if (setting.type === STUDENT_PRICE) {\r\n            setPricePerMin(Number(setting.content));\r\n          }\r\n        });\r\n      } catch (error) {\r\n        alert(error.response.data.message);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getSubPacks();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.extendSub}>\r\n      <Spin spinning={loading}>\r\n        {discount && pricePerMin ? (\r\n          <Row gutter={24}>\r\n            <Col span={6}>\r\n              <Card>\r\n                <div className={styles.extendSubContent}>\r\n                  <div className={styles.subTier}>Normal</div>\r\n                  <div className={styles.extendDuration}>60 minutes</div>\r\n                  <Divider />\r\n                  <img className={styles.tierImage} src={Normal} alt=\"\" draggable=\"false\" />\r\n                  <div className={styles.extendPrice}>{Number(60 * pricePerMin * discount.NORMAL).toFixed(2)}$</div>\r\n                  <Popconfirm\r\n                    placement=\"top\"\r\n                    title=\"Do you want to create purchase request?\"\r\n                    onConfirm={() => createPurchase(60, SUB_TIER.NORMAL)}\r\n                    okText=\"Yes\"\r\n                    cancelText=\"No\"\r\n                  >\r\n                    <Button type=\"primary\" shape=\"round\" loading={purchaseLoading}>\r\n                      Purchase\r\n                    </Button>\r\n                  </Popconfirm>\r\n                </div>\r\n              </Card>\r\n            </Col>\r\n            <Col span={6}>\r\n              <Card>\r\n                <div className={styles.extendSubContent}>\r\n                  <div className={styles.subTier}>Silver</div>\r\n                  <div className={styles.extendDuration}>120 minutes</div>\r\n                  <Divider />\r\n                  <img className={styles.tierImage} src={Silver} alt=\"\" draggable=\"false\" />\r\n                  <div className={styles.extendPrice}>\r\n                    {Number(120 * pricePerMin * discount.SILVER).toFixed(2)}${' '}\r\n                    <span className={styles.extendSave}>(Save {100 - discount.SILVER * 100}%)</span>\r\n                  </div>\r\n                  <Popconfirm\r\n                    placement=\"top\"\r\n                    title=\"Do you want to create purchase request?\"\r\n                    onConfirm={() => createPurchase(120, SUB_TIER.SILVER)}\r\n                    okText=\"Yes\"\r\n                    cancelText=\"No\"\r\n                  >\r\n                    <Button type=\"primary\" shape=\"round\" loading={purchaseLoading}>\r\n                      Purchase\r\n                    </Button>\r\n                  </Popconfirm>\r\n                </div>\r\n              </Card>\r\n            </Col>\r\n            <Col span={6}>\r\n              <Card>\r\n                <div className={styles.extendSubContent}>\r\n                  <div className={styles.subTier}>Gold</div>\r\n                  <div className={styles.extendDuration}>480 minutes</div>\r\n                  <Divider />\r\n                  <img className={styles.tierImage} src={Gold} alt=\"\" draggable=\"false\" />\r\n                  <div className={styles.extendPrice}>\r\n                    {Number(480 * pricePerMin * discount.GOLD).toFixed(2)}${' '}\r\n                    <span className={styles.extendSave}>(Save {100 - discount.GOLD * 100}%)</span>\r\n                  </div>\r\n                  <Popconfirm\r\n                    placement=\"top\"\r\n                    title=\"Do you want to create purchase request?\"\r\n                    onConfirm={() => createPurchase(480, SUB_TIER.GOLD)}\r\n                    okText=\"Yes\"\r\n                    cancelText=\"No\"\r\n                  >\r\n                    <Button type=\"primary\" shape=\"round\" loading={purchaseLoading}>\r\n                      Purchase\r\n                    </Button>\r\n                  </Popconfirm>\r\n                </div>\r\n              </Card>\r\n            </Col>\r\n            <Col span={6}>\r\n              <Card>\r\n                <div className={styles.extendSubContent}>\r\n                  <div className={styles.subTier}>Platium</div>\r\n                  <div className={styles.extendDuration}>720 minutes</div>\r\n                  <Divider />\r\n                  <img className={styles.tierImage} src={Platium} alt=\"\" draggable=\"false\" />\r\n                  <div className={styles.extendPrice}>\r\n                    {Number(720 * pricePerMin * discount.PLATIUM).toFixed(2)}${' '}\r\n                    <span className={styles.extendSave}>(Save {100 - discount.PLATIUM * 100}%)</span>\r\n                  </div>\r\n                  <Popconfirm\r\n                    placement=\"top\"\r\n                    title=\"Do you want to create purchase request?\"\r\n                    onConfirm={() => createPurchase(720, SUB_TIER.PLATIUM)}\r\n                    okText=\"Yes\"\r\n                    cancelText=\"No\"\r\n                  >\r\n                    <Button type=\"primary\" shape=\"round\" loading={purchaseLoading}>\r\n                      Purchase\r\n                    </Button>\r\n                  </Popconfirm>\r\n                </div>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        ) : null}\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './Subscriptions.module.css';\r\nimport { HistoryOutlined, CreditCardOutlined } from '@ant-design/icons';\r\nimport { Tabs } from 'antd';\r\nimport SubscriptionHistory from './SubscriptionHistory';\r\nimport ExtendSubscription from './ExtendSubscription';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Subscriptions() {\r\n\r\n  return (\r\n    <div className={styles.subscriptions}>\r\n      <Tabs\r\n        defaultActiveKey=\"extend\"\r\n        type=\"card\"\r\n      >\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <CreditCardOutlined />\r\n              Extend subscriptions\r\n            </span>\r\n          }\r\n          key=\"extend\"\r\n        >\r\n          <ExtendSubscription />\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <HistoryOutlined />\r\n              Subscriptions history\r\n            </span>\r\n          }\r\n          key=\"history\"\r\n          className={styles.tabPaneHistory}\r\n        >\r\n          <SubscriptionHistory />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n}\r\n","import io from 'socket.io-client';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nconst accessToken = cookies.get('access_token');\r\n\r\nconst socketURL =\r\n  process.env.NODE_ENV === 'development' ? 'https://localhost:3003' : 'https://mirage-video-call.herokuapp.com/';\r\n\r\nconst socket = io(`${socketURL}?token=${accessToken}`);\r\n\r\nexport default socket;\r\n","import _ from 'lodash';\r\n\r\nclass Emitter {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n\r\n  emit(event, ...args) {\r\n    if (this.events[event]) {\r\n      this.events[event].forEach(fn => fn(...args));\r\n    }\r\n    return this;\r\n  }\r\n\r\n  on(event, fn) {\r\n    if (this.events[event]) this.events[event].push(fn);\r\n    else this.events[event] = [fn];\r\n    return this;\r\n  }\r\n\r\n  off(event, fn) {\r\n    if (event && _.isFunction(fn)) {\r\n      const listeners = this.events[event];\r\n      const index = listeners.findIndex(_fn => _fn === fn);\r\n      listeners.splice(index, 1);\r\n    } else this.events[event] = [];\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default Emitter;\r\n","import _ from 'lodash';\r\nimport Emitter from './Emitter';\r\n\r\n/**\r\n * Manage all media devices\r\n */\r\nclass MediaDevice extends Emitter {\r\n  /**\r\n   * Start media devices and send stream\r\n   */\r\n  start() {\r\n    const constraints = {\r\n      video: {\r\n        facingMode: 'user',\r\n        height: { min: 360, ideal: 720, max: 1080 }\r\n      },\r\n      audio: {\r\n        echoCancellation: false\r\n      }\r\n    };\r\n\r\n    navigator.mediaDevices\r\n      .getUserMedia(constraints)\r\n      .then(stream => {\r\n        this.stream = stream;\r\n        this.emit('stream', stream);\r\n      })\r\n      .catch(err => {\r\n        if (err instanceof DOMException) {\r\n          alert('Cannot open webcam and/or microphone');\r\n        } else {\r\n          alert(err);\r\n        }\r\n      });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Turn on/off a device\r\n   * @param {String} type - Type of the device\r\n   * @param {Boolean} [on] - State of the device\r\n   */\r\n  toggle(type, on) {\r\n    const len = arguments.length;\r\n    if (this.stream) {\r\n      this.stream[`get${type}Tracks`]().forEach(track => {\r\n        const state = len === 2 ? on : !track.enabled;\r\n        _.set(track, 'enabled', state);\r\n      });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Stop all media track of devices\r\n   */\r\n  stop() {\r\n    if (this.stream) {\r\n      this.stream.getTracks().forEach(track => track.stop());\r\n    }\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default MediaDevice;\r\n","import MediaDevice from './MediaDevice';\r\nimport Emitter from './Emitter';\r\nimport socket from './socket';\r\n\r\nconst PC_CONFIG = { iceServers: [{ urls: ['stun:stun.l.google.com:19302'] }] };\r\n\r\nclass PeerConnection extends Emitter {\r\n  /**\r\n   * Create a PeerConnection.\r\n   * @param {String} friendID - ID of the friend you want to call.\r\n   */\r\n  constructor(friendID) {\r\n    super();\r\n    this.pc = new RTCPeerConnection(PC_CONFIG);\r\n    this.pc.onicecandidate = event =>\r\n      socket.emit('call', {\r\n        to: this.friendID,\r\n        candidate: event.candidate\r\n      });\r\n    this.pc.ontrack = event => this.emit('peerStream', event.streams[0]);\r\n\r\n    this.mediaDevice = new MediaDevice();\r\n    this.friendID = friendID;\r\n  }\r\n\r\n  /**\r\n   * Starting the call\r\n   * @param {Boolean} isCaller\r\n   * @param {Object} config - configuration for the call {audio: boolean, video: boolean}\r\n   */\r\n  start(isCaller, config) {\r\n    this.mediaDevice\r\n      .on('stream', stream => {\r\n        stream.getTracks().forEach(track => {\r\n          this.pc.addTrack(track, stream);\r\n        });\r\n        this.emit('localStream', stream);\r\n        if (isCaller) socket.emit('request', { to: this.friendID });\r\n        else this.createOffer();\r\n      })\r\n      .start(config);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Stop the call\r\n   * @param {Boolean} isStarter\r\n   */\r\n  stop(isStarter) {\r\n    if (isStarter) {\r\n      socket.emit('end', { to: this.friendID });\r\n    }\r\n    this.mediaDevice.stop();\r\n    if (this.pc) {\r\n      this.pc.close();\r\n    }\r\n    this.pc = null;\r\n    this.off();\r\n    return this;\r\n  }\r\n\r\n  createOffer() {\r\n    this.pc\r\n      .createOffer()\r\n      .then(this.getDescription.bind(this))\r\n      .catch(err => alert(err));\r\n    return this;\r\n  }\r\n\r\n  createAnswer() {\r\n    this.pc\r\n      .createAnswer()\r\n      .then(this.getDescription.bind(this))\r\n      .catch(err => alert(err));\r\n    return this;\r\n  }\r\n\r\n  getDescription(desc) {\r\n    this.pc.setLocalDescription(desc);\r\n    socket.emit('call', { to: this.friendID, sdp: desc });\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {Object} sdp - Session description\r\n   */\r\n  setRemoteDescription(sdp) {\r\n    const rtcSdp = new RTCSessionDescription(sdp);\r\n    this.pc.setRemoteDescription(rtcSdp);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {Object} candidate - ICE Candidate\r\n   */\r\n  addIceCandidate(candidate) {\r\n    if (candidate) {\r\n      const iceCandidate = new RTCIceCandidate(candidate);\r\n      this.pc.addIceCandidate(iceCandidate);\r\n    }\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default PeerConnection;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useBeforeunload } from 'react-beforeunload';\r\nimport { Button } from 'antd';\r\nimport { VideoCameraFilled, AudioFilled, StopOutlined, AudioMutedOutlined, VideoCameraAddOutlined } from '@ant-design/icons';\r\nimport styles from './CallWindow.module.css';\r\nimport Timer from 'react-compound-timer';\r\n\r\nexport default function CallWindow({ peerSrc, localSrc, config, mediaDevice, endCall, callWindow }) {\r\n  const peerVideo = useRef(null);\r\n  const localVideo = useRef(null);\r\n  const [video, setVideo] = useState(config.video);\r\n  const [audio, setAudio] = useState(config.audio);\r\n  useBeforeunload((e) => {\r\n    e.preventDefault();\r\n    endCall(true)\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (peerVideo.current && peerSrc) peerVideo.current.srcObject = peerSrc;\r\n    if (localVideo.current && localSrc) localVideo.current.srcObject = localSrc;\r\n  }, [localSrc, peerSrc]);\r\n\r\n  useEffect(() => {\r\n    if (mediaDevice) {\r\n      mediaDevice.toggle('Video', video);\r\n      mediaDevice.toggle('Audio', audio);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Turn on/off a media device\r\n   * @param {String} deviceType - Type of the device eg: Video, Audio\r\n   */\r\n  const toggleMediaDevice = (deviceType) => {\r\n    if (deviceType === 'video') {\r\n      setVideo(!video);\r\n      mediaDevice.toggle('Video');\r\n    }\r\n    if (deviceType === 'audio') {\r\n      setAudio(!audio);\r\n      mediaDevice.toggle('Audio');\r\n    }\r\n  };\r\n  return (\r\n    callWindow ? (\r\n      <div className={styles.callWindowWrapper}>\r\n        <div className={styles.callWindow}>\r\n          <div className={styles.videoScreenContainer}>\r\n            <video className={styles.videoScreen} ref={localVideo} autoPlay muted />\r\n            {peerSrc && <video className={styles.videoScreen} ref={peerVideo} autoPlay />}\r\n          </div>\r\n          {peerSrc && (\r\n            <div>\r\n              <Timer\r\n                formatValue={(value) => `${(value < 10 ? `0${value}` : value)}`}\r\n                lastUnit=\"h\"\r\n                className={styles.callTime}\r\n              >\r\n                <Timer.Hours />:\r\n            <Timer.Minutes />:\r\n            <Timer.Seconds />\r\n              </Timer>\r\n            </div>\r\n\r\n          )}\r\n          <div className={styles.videoControl}>\r\n            <Button\r\n              shape=\"circle\"\r\n              type={video ? \"primary\" : \"danger\"}\r\n              icon={video ? <VideoCameraFilled /> : <VideoCameraAddOutlined />}\r\n              onClick={() => toggleMediaDevice('video')}\r\n              size=\"large\"\r\n            />\r\n            <Button\r\n              shape=\"circle\"\r\n              type={audio ? \"primary\" : \"danger\"}\r\n              icon={audio ? <AudioFilled /> : <AudioMutedOutlined />}\r\n              onClick={() => toggleMediaDevice('audio')}\r\n              size=\"large\"\r\n            />\r\n            <Button\r\n              shape=\"circle\"\r\n              type=\"danger\"\r\n              onClick={() => endCall(true)}\r\n              icon={<StopOutlined />}\r\n              size=\"large\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ) : null\r\n\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useBeforeunload } from 'react-beforeunload';\r\nimport { Button, Avatar } from 'antd';\r\nimport { VideoCameraFilled, AudioFilled, StopOutlined, UserOutlined } from '@ant-design/icons';\r\nimport styles from './CallModal.module.css';\r\nimport { serverUrl } from '../lib/constants';\r\n\r\nexport default function CallModal({ callModal, callFrom, startCall, rejectCall }) {\r\n  useBeforeunload((e) => {\r\n    // e.preventDefault();\r\n    rejectCall();\r\n  });\r\n  const acceptWithVideo = (video) => {\r\n    const config = { audio: true, video };\r\n    return () => startCall(false, callFrom.username, config);\r\n  };\r\n  return (\r\n    callModal ?\r\n      (\r\n        <div className={styles.callModalWrapper}>\r\n        <div className={styles.callModal}>\r\n          <div className={styles.caller}>\r\n            {(callFrom.student && callFrom.student.avatar) ?\r\n              <Avatar src={serverUrl + callFrom.student.avatar} size={50} />\r\n              : <Avatar icon={<UserOutlined />} size={50} />}\r\n            {(callFrom.student) && (\r\n              <span className={styles.callerTxt}>{`${callFrom.student.name} is calling...`}</span>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.controlBtns}>\r\n            <Button\r\n              shape=\"round\"\r\n              type=\"primary\"\r\n              icon={<VideoCameraFilled />}\r\n              onClick={acceptWithVideo(true)}\r\n              size=\"large\"\r\n            >\r\n              Video call\r\n            </Button>\r\n            <Button\r\n              shape=\"round\"\r\n              type=\"primary\"\r\n              icon={<AudioFilled />}\r\n              onClick={acceptWithVideo(false)}\r\n              size=\"large\"\r\n            >\r\n              Audio call\r\n            </Button>\r\n            <Button\r\n              shape=\"round\"\r\n              type=\"danger\"\r\n              onClick={rejectCall}\r\n              icon={<StopOutlined />}\r\n              size=\"large\"\r\n            >\r\n              Reject call\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      ) : null\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from './TutorCard.module.css';\r\nimport { Card, Avatar, Tooltip, Tag, Rate } from 'antd';\r\nimport { VideoCameraFilled, AudioFilled, UserOutlined, CheckCircleFilled, MinusCircleFilled } from '@ant-design/icons';\r\nimport { serverUrl, STATUS } from '../../lib/constants';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function TutorCard({ callWithVideo, openDetailModal, item, openReviewlModal, getPreferences }) {\r\n  const removeFav = async () => {\r\n    try {\r\n      await axios.delete('/preferences/' + item.preId);\r\n      getPreferences();\r\n    } catch (error) {\r\n      console.error(error.response);\r\n    }\r\n  };\r\n  return (\r\n    <Card\r\n      actions={[\r\n        <Tooltip title=\"Video call\">\r\n          <VideoCameraFilled onClick={() => callWithVideo(true, item)} />\r\n        </Tooltip>,\r\n        <Tooltip title=\"Audio call\">\r\n          <AudioFilled onClick={() => callWithVideo(false, item)} />\r\n        </Tooltip>,\r\n        <Tooltip title=\"Profile\">\r\n          <UserOutlined onClick={() => openDetailModal(item)} />\r\n        </Tooltip>\r\n      ]}\r\n    >\r\n      <div className={styles.tutorCard}>\r\n        <div className={styles.tutorInfo}>\r\n          <div>\r\n            {item.profile.avatar ? (\r\n              <Avatar src={serverUrl + item.profile.avatar} size={80} />\r\n            ) : (\r\n              <Avatar icon={<UserOutlined />} size={80} />\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.tutorInfoDetail}>\r\n            <div className={styles.tutorName}>\r\n              {item.profile.name}\r\n              {item.status === STATUS.AVAILABLE ? (\r\n                <Tooltip title=\"Online\">\r\n                  <CheckCircleFilled style={{ color: '#52c41a', fontSize: '12px', marginLeft: '3px' }} />\r\n                </Tooltip>\r\n              ) : null}\r\n              {item.status === STATUS.BUSY ? (\r\n                <Tooltip title=\"Busy\">\r\n                  <MinusCircleFilled style={{ color: 'red', fontSize: '12px', marginLeft: '3px' }} />\r\n                </Tooltip>\r\n              ) : null}\r\n              {item.status === STATUS.OFFLINE ? (\r\n                <Tooltip title=\"Offline\">\r\n                  <MinusCircleFilled style={{ color: 'gray', fontSize: '12px', marginLeft: '3px' }} />\r\n                </Tooltip>\r\n              ) : null}\r\n            </div>\r\n            <div>\r\n              {item.profile.certificates && JSON.parse(item.profile.certificates.length) > 0 ? (\r\n                <Tag>Teaching certificates</Tag>\r\n              ) : null}\r\n            </div>\r\n            {item.profile.review ? (\r\n              <Tooltip placement=\"bottomRight\" title=\"Click to show reviews\">\r\n                <div onClick={() => openReviewlModal(item)} className={styles.reviewWrapper}>\r\n                  <Rate\r\n                    disabled\r\n                    defaultValue={Number((Math.round(item.profile.review.avg * 2) / 2).toFixed(1))}\r\n                    allowHalf\r\n                  />\r\n                  <span className={styles.reviewCount}>/ {item.profile.review.count} review(s)</span>\r\n                </div>\r\n              </Tooltip>\r\n            ) : (\r\n              <p className={styles.viewReviews} onClick={() => openReviewlModal(item)}>\r\n                View reviews\r\n              </p>\r\n            )}\r\n            {item.isFav ? (\r\n              <div className={styles.removeFav} onClick={() => removeFav()}>\r\n                Remove\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n        <p>{item.profile.introduction}</p>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport { serverUrl } from '../../lib/constants';\r\n\r\nexport default function VideoPlayer({ username }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const videoJsOptions = {\r\n    controls: true,\r\n    width: 513,\r\n    height: 360,\r\n    fluid: false,\r\n    sources: [{\r\n      src: serverUrl + 'api/tutors/video/' + username,\r\n      type: 'video/webm'\r\n    }],\r\n    autoplay: false\r\n  };\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION\r\n      videojs.log(version_info);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div data-vjs-player>\r\n      <video id=\"myVideo\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin vjs-big-play-centered\" playsInline></video>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './TutorDetailModal.module.css';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport VideoPlayer from '../admin/VideoPlayer';\r\nimport { FileDoneOutlined } from '@ant-design/icons';\r\nimport { Tag, Modal, Descriptions } from 'antd';\r\n\r\nexport default function TutorDetailModal({ selected, showDetailModal, setShowDetailModal }) {\r\n  return (\r\n    <Modal\r\n      title={selected ? selected.profile.name : null}\r\n      visible={showDetailModal}\r\n      onCancel={() => setShowDetailModal(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: \"600px\", overflow: \"auto\" }}\r\n    >\r\n      <div>\r\n        <div>\r\n          {selected ? (\r\n            <div>\r\n              <div className={styles.detailWrapper}>\r\n                {selected.profile.video ? <div className={styles.videoWrapper}><VideoPlayer username={selected.username} /></div> : null}\r\n                {selected.profile.introduction}\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"Teaching preferences\">\r\n                  <Descriptions.Item label=\"Student level\">{selected.profile.student_lvl}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Student type\">{selected.profile.student_type}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Accent\">{selected.profile.accent}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Fluency\">{selected.profile.fluency}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Tutor styles\"> {selected.profile.teaching_styles ? JSON.parse(selected.profile.teaching_styles).map(style => { return <Tag key={style}>{style}</Tag> }) : null}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Specialities\">{selected.profile.specialities ? JSON.parse(selected.profile.specialities).map(speciality => { return <Tag key={speciality}>{speciality}</Tag> }) : null}</Descriptions.Item>\r\n                </Descriptions>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"CV\">\r\n                  <Descriptions.Item label=\"Interests\">{selected.profile.interests}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Education\">{selected.profile.education}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Experience\">{selected.profile.experience}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Profession\">{selected.profile.profession}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Reason\">{selected.profile.reason}</Descriptions.Item>\r\n                </Descriptions>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <p className={styles.detailTitle}>Certificates</p>\r\n                <div className={styles.uploadedCert}>\r\n                  {selected.profile.certificates ? (\r\n                    JSON.parse(selected.profile.certificates).map((cert, index) => {\r\n                      return (<a key={index} href={serverUrl + cert.path}><FileDoneOutlined />{cert.originalname}</a>);\r\n                    })\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n","\r\nexport const getReviewCount = (reviews) => {\r\n  let count0 = 0;\r\n  let count1 = 0;\r\n  let count2 = 0;\r\n  let count3 = 0;\r\n  let count4 = 0;\r\n  let count5 = 0;\r\n  const total = reviews.length;\r\n  reviews.forEach(review => {\r\n    switch (review.rating) {\r\n      case 0: \r\n        count0++;\r\n        break;\r\n      case 1:\r\n        count1++;\r\n        break;\r\n      case 2:\r\n        count2++;\r\n        break;\r\n      case 3:\r\n        count3++;\r\n        break;\r\n      case 4:\r\n        count4++;\r\n        break;\r\n      case 5:\r\n        count5++;\r\n        break;\r\n      default: \r\n        break;\r\n    }\r\n  })\r\n  return {\r\n    rating0: (count0 / total) * 100,\r\n    rating1: (count1 / total) * 100,\r\n    rating2: (count2 / total) * 100,\r\n    rating3: (count3 / total) * 100,\r\n    rating4: (count4 / total) * 100,\r\n    rating5: (count5 / total) * 100,\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styles from './ReviewSummary.module.css';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { Progress, Rate } from 'antd';\r\n\r\nexport default function ReviewSummary({ reviews }) {\r\n  return (\r\n    <div className={styles.reviewSummary}>\r\n      <div className={styles.reviewOverall}>\r\n        <div className={styles.reviewAvg}>{Number(reviews.avg).toFixed(1)}</div>\r\n        <Rate disabled defaultValue={Number((Math.round(reviews.avg * 2) / 2).toFixed(1))} allowHalf style={{ fontSize: '15px' }} />\r\n        <div className={styles.reviewNumber}><UserOutlined style={{ marginRight: '3px' }} />{reviews.count}</div>\r\n      </div>\r\n      <div className={styles.ratingCountList}>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>5</span><Progress showInfo={false} percent={reviews.ratingCount.rating5} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>4</span><Progress showInfo={false} percent={reviews.ratingCount.rating4} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>3</span><Progress showInfo={false} percent={reviews.ratingCount.rating3} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>2</span><Progress showInfo={false} percent={reviews.ratingCount.rating2} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>1</span><Progress showInfo={false} percent={reviews.ratingCount.rating1} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>0</span><Progress showInfo={false} percent={reviews.ratingCount.rating0} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport moment from 'moment';\r\nimport { Comment, Avatar, Rate, Button } from 'antd';\r\nimport { serverUrl } from '../lib/constants';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport { ROLES } from '../lib/constants';\r\nimport axios from '../lib/utils/axiosConfig';\r\n\r\nexport default function Review({ review, getTutorReview }) {\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const deleteReview = async id => {\r\n    try {\r\n      await axios.delete('/reviews/' + id);\r\n      getTutorReview();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  let deleteBtn = null;\r\n  if (account.role === ROLES.ADMIN || (account.role === ROLES.STUDENT && account.student.id === review.studentId)) {\r\n    deleteBtn = (\r\n      <Button type=\"link\" danger onClick={() => deleteReview(review.id)}>\r\n        Delete\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Comment\r\n      author={review.student.name}\r\n      avatar={\r\n        review.student.avatar ? <Avatar src={serverUrl + review.student.avatar} /> : <Avatar icon={<UserOutlined />} />\r\n      }\r\n      content={<p>{review.comment}</p>}\r\n      datetime={moment(review.createdAt).fromNow()}\r\n      actions={[<Rate disabled defaultValue={review.rating} style={{ fontSize: '12px' }} />, deleteBtn]}\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Modal, List } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { getReviewCount } from '../../lib/utils/getReviewCount';\r\nimport ReviewSummary from '../../components/ReviewSummary';\r\nimport Review from '../../components/Review';\r\n\r\nexport default function TutorReviewModal({ selected, showReviewModal, setShowReviewModal }) {\r\n  const [reviews, setReviews] = useState(null);\r\n\r\n  const getTutorReview = async () => {\r\n    try {\r\n      const result = await axios.get('/reviews/' + selected.profile.id);\r\n      const ratingCount = getReviewCount(result.data.reviews);\r\n      setReviews({ ...result.data, ratingCount });\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      getTutorReview();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selected]);\r\n\r\n  return (\r\n    <Modal\r\n      title={selected ? selected.profile.name : null}\r\n      visible={showReviewModal}\r\n      onCancel={() => setShowReviewModal(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ maxHeight: '600px', overflow: 'auto' }}\r\n    >\r\n      {reviews ? (\r\n        <div>\r\n          <ReviewSummary reviews={reviews} />\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={reviews.reviews}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <Review review={item} getTutorReview={getTutorReview} />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { List, Tabs, Input } from 'antd';\r\nimport { RiseOutlined, LikeOutlined, TeamOutlined } from '@ant-design/icons';\r\nimport styles from './TutorList.module.css';\r\nimport TutorCard from './TutorCard';\r\nimport TutorDetailModal from './TutorDetailModal';\r\nimport TutorReviewModal from './TutorReviewModal';\r\nimport { getTimeFromMs } from '../../lib/utils/formatTime';\r\nimport { STATUS, PREFERENCE_TYPES } from '../../lib/constants';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nconst { TabPane } = Tabs;\r\nconst { Search } = Input;\r\n\r\nexport default function TutorList({ startCall, onlineTutors, setTutor, remainingTime }) {\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [showReviewModal, setShowReviewModal] = useState(false);\r\n  const [tutors, setTutors] = useState([]);\r\n  const [keyword, setKeyword] = useState('');\r\n  const [preferences, setPreferences] = useState([]);\r\n  const { account } = useContext(AccountContext);\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [recommend, setRecommend] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let valid = false;\r\n    const filterTutorsByKeyword = tutors => {\r\n      if (keyword !== '') {\r\n        const filteredTutors = [];\r\n        tutors.forEach(tutor => {\r\n          valid = false;\r\n          if (tutor.profile.name && tutor.profile.name.toLowerCase().includes(keyword)) {\r\n            valid = true;\r\n          }\r\n          if (tutor.profile.specialities && tutor.profile.specialities.toLowerCase().includes(keyword)) {\r\n            valid = true;\r\n          }\r\n          if (tutor.profile.teaching_styles && tutor.profile.teaching_styles.toLowerCase().includes(keyword)) {\r\n            valid = true;\r\n          }\r\n          if (tutor.profile.accent && tutor.profile.accent.toLowerCase().includes(keyword)) {\r\n            valid = true;\r\n          }\r\n          if (tutor.profile.student_lvl && tutor.profile.student_lvl.toLowerCase().includes(keyword)) {\r\n            valid = true;\r\n          }\r\n          if (tutor.profile.student_type && tutor.profile.student_type.toLowerCase().includes(keyword)) {\r\n            valid = true;\r\n          }\r\n          if (tutor.profile.interests && tutor.profile.interests.toLowerCase().includes(keyword)) {\r\n            valid = true;\r\n          }\r\n          if (tutor.profile.fluency && tutor.profile.fluency.toLowerCase().includes(keyword)) {\r\n            valid = true;\r\n          }\r\n          if (valid) {\r\n            filteredTutors.push(tutor);\r\n          }\r\n        });\r\n        return filteredTutors;\r\n      } else {\r\n        return tutors;\r\n      }\r\n    };\r\n    setTutors(filterTutorsByKeyword(onlineTutors));\r\n  }, [onlineTutors, keyword]);\r\n\r\n  useEffect(() => {\r\n    getPreferences();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const favoriteTutors = [];\r\n    preferences.forEach(pre => {\r\n      if (pre.type === PREFERENCE_TYPES.FAVORITE) {\r\n        const favTutor = {\r\n          preId: pre.id,\r\n          profile: pre.tutor,\r\n          status: STATUS.OFFLINE,\r\n          username: pre.tutor.account.username,\r\n          isFav: true\r\n        };\r\n        onlineTutors.forEach(tutor => {\r\n          if (tutor.profile.id === pre.tutorId) {\r\n            favTutor.status = tutor.status;\r\n          }\r\n        });\r\n        favoriteTutors.push(favTutor);\r\n      }\r\n    });\r\n    setFavorites(favoriteTutors);\r\n  }, [onlineTutors, preferences]);\r\n\r\n  useEffect(() => {\r\n    const recommendTutors = [];\r\n    preferences.forEach(pre => {\r\n      if (pre.type === PREFERENCE_TYPES.RECOMMEND) {\r\n        const recTutor = {\r\n          profile: pre.tutor,\r\n          status: STATUS.OFFLINE,\r\n          username: pre.tutor.account.username\r\n        };\r\n        onlineTutors.forEach(tutor => {\r\n          if (tutor.profile.id === pre.tutorId) {\r\n            recTutor.status = tutor.status;\r\n          }\r\n        });\r\n        recommendTutors.push(recTutor);\r\n      }\r\n    });\r\n    setRecommend(recommendTutors);\r\n  }, [onlineTutors, preferences]);\r\n\r\n  const getPreferences = async () => {\r\n    try {\r\n      const result = await axios.get('/preferences?studentId=' + account.student.id);\r\n      setPreferences(result.data.preferences);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const callWithVideo = (video, user) => {\r\n    if (user.status === STATUS.AVAILABLE) {\r\n      setTutor(user.profile);\r\n      const config = { audio: true, video };\r\n      startCall(true, user.username, config);\r\n    } else {\r\n      alert('This tutor is not available at the moment!');\r\n    }\r\n  };\r\n\r\n  const openDetailModal = tutor => {\r\n    setSelected(tutor);\r\n    setShowDetailModal(true);\r\n  };\r\n\r\n  const openReviewlModal = tutor => {\r\n    setSelected(tutor);\r\n    setShowReviewModal(true);\r\n  };\r\n\r\n  const searchTutors = value => {\r\n    setKeyword(value.toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <div className={styles.tutorList}>\r\n      <TutorDetailModal selected={selected} showDetailModal={showDetailModal} setShowDetailModal={setShowDetailModal} />\r\n      <TutorReviewModal selected={selected} showReviewModal={showReviewModal} setShowReviewModal={setShowReviewModal} />\r\n      <div className={styles.searchTool}>\r\n        <div>\r\n          <span className={styles.remainingTimeTitle}>Remaining time: </span>\r\n          {getTimeFromMs(remainingTime)}\r\n        </div>\r\n        <div className={styles.searchBar}>\r\n          <Search placeholder=\"Search name, interests, subjects, ... \" enterButton onSearch={searchTutors} />\r\n        </div>\r\n      </div>\r\n      <Tabs defaultActiveKey=\"online\" type=\"card\">\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <TeamOutlined />\r\n              Online\r\n            </span>\r\n          }\r\n          key=\"online\"\r\n          className={styles.tabPane}\r\n        >\r\n          <List\r\n            grid={{ gutter: 16, column: 3 }}\r\n            dataSource={tutors}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <TutorCard\r\n                  item={item}\r\n                  callWithVideo={callWithVideo}\r\n                  openDetailModal={openDetailModal}\r\n                  openReviewlModal={openReviewlModal}\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <LikeOutlined />\r\n              Favorite\r\n            </span>\r\n          }\r\n          key=\"favorite\"\r\n          className={styles.tabPane}\r\n        >\r\n          <List\r\n            grid={{ gutter: 16, column: 3 }}\r\n            dataSource={favorites}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <TutorCard\r\n                  item={item}\r\n                  callWithVideo={callWithVideo}\r\n                  openDetailModal={openDetailModal}\r\n                  openReviewlModal={openReviewlModal}\r\n                  getPreferences={getPreferences}\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <RiseOutlined />\r\n              Recommend\r\n            </span>\r\n          }\r\n          key=\"recommend\"\r\n          className={styles.tabPane}\r\n        >\r\n          <List\r\n            grid={{ gutter: 16, column: 3 }}\r\n            dataSource={recommend}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <TutorCard\r\n                  item={item}\r\n                  callWithVideo={callWithVideo}\r\n                  openDetailModal={openDetailModal}\r\n                  openReviewlModal={openReviewlModal}\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { Modal, Form, Rate, Input, Button, Alert } from 'antd';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function FeedbackModal({ showFeedback, setShowFeedBack, tutor }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [sucessAlert, setSuccessAlert] = useState(false);\r\n  const [errorAlert, setErrorAlert] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const layout = {\r\n    labelCol: { span: 4 },\r\n    wrapperCol: { span: 16 }\r\n  };\r\n\r\n  const tailLayout = {\r\n    wrapperCol: { offset: 4, span: 16 }\r\n  };\r\n\r\n  const onSubmit = async values => {\r\n    try {\r\n      setLoading(true);\r\n      const data = {\r\n        ...values,\r\n        studentId: account.student.id,\r\n        tutorId: tutor.id\r\n      };\r\n      await axios.post('/reviews/', data);\r\n      setLoading(false);\r\n      setSuccessAlert(true);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setErrorAlert(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const closeFeedback = () => {\r\n    setShowFeedBack(false);\r\n    setSuccessAlert(false);\r\n    setErrorAlert(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={showFeedback}\r\n      destroyOnClose\r\n      onCancel={closeFeedback}\r\n      footer={false}\r\n      title=\"Feedback about this tutor\"\r\n    >\r\n      {sucessAlert ? <Alert message=\"Review submitted\" type=\"success\" showIcon /> : null}\r\n      {errorAlert ? <Alert message=\"Fail to submit, please try again\" type=\"error\" showIcon /> : null}\r\n      <Form {...layout} onFinish={onSubmit}>\r\n        <Form.Item name=\"rating\" label=\"Rating\">\r\n          <Rate allowClear={true} defaultValue={0} />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"comment\"\r\n          label=\"Comment\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your comment'\r\n            }\r\n          ]}\r\n        >\r\n          <Input.TextArea placeholder=\"Share your experience\" />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport socket from '../lib/socket';\r\nimport { SOCKET_EVENTS, ROLES } from '../lib/constants';\r\nimport PeerConnection from '../lib/PeerConnection';\r\nimport _ from 'lodash';\r\nimport CallWindow from './CallWindow';\r\nimport CallModal from './CallModal';\r\nimport TutorList from '../pages/student/TutorList';\r\nimport styles from './VideoCall.module.css';\r\nimport { getTimeFromMs } from '../lib/utils/formatTime';\r\nimport endCallImg from '../assets/endcall.png';\r\nimport { Modal, Button, Popconfirm } from 'antd';\r\nimport { StarOutlined, LikeOutlined } from '@ant-design/icons';\r\nimport FeedbackModal from '../pages/student/FeedbackModal';\r\nimport axios from '../lib/utils/axiosConfig';\r\nimport { PREFERENCE_TYPES } from '../lib/constants';\r\nimport addNotification from 'react-push-notification';\r\n\r\nexport default function VideoCall({ account, remainingTime, getStudent }) {\r\n  // video call\r\n  const [callWindow, setCallWindow] = useState(false);\r\n  const [callModal, setCallModal] = useState(false);\r\n  const [callFrom, setCallFrom] = useState({});\r\n  const [localSrc, setLocalSrc] = useState(null);\r\n  const [peerSrc, setPeerSrc] = useState(null);\r\n  const pcRef = useRef({});\r\n  const configRef = useRef(null);\r\n  // record videos when calling\r\n  const peerRecorder = useRef(null);\r\n  const localRecorder = useRef(null);\r\n  // call timer\r\n  const start = useRef(0);\r\n  const end = useRef(0);\r\n  // tutor called with student\r\n  const [onlineTutors, setOnlineTutors] = useState([]);\r\n  const tutor = useRef(null);\r\n  const student = useRef(null);\r\n\r\n  // control after call modal like report, review, ...\r\n  const [afterCallModal, setAfterCallModal] = useState(false);\r\n  const [showFeedback, setShowFeedback] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //TODO check time with student, refresh after each call to get new time\r\n    socket\r\n      .on(SOCKET_EVENTS.INIT, () => {})\r\n      .on(SOCKET_EVENTS.REQUEST, ({ from }) => {\r\n        addNotification({\r\n          title: 'Someone is calling...',\r\n          message: 'Return to Mirage to receive phone call',\r\n          duration: 10000,\r\n          theme: 'darkblue',\r\n          native: true // when using native, your OS will handle theming.\r\n        });\r\n        setCallModal(true);\r\n        setCallFrom(from);\r\n        student.current = from;\r\n      })\r\n      .on(SOCKET_EVENTS.CALL, data => {\r\n        if (data.sdp) {\r\n          pcRef.current.setRemoteDescription(data.sdp);\r\n          if (data.sdp.type === 'offer') pcRef.current.createAnswer();\r\n        } else pcRef.current.addIceCandidate(data.candidate);\r\n        start.current = Date.now();\r\n        if (account.role === ROLES.TUTOR) {\r\n          // record stream from tutor side\r\n          socket.emit(SOCKET_EVENTS.SAVE_VIDEOS);\r\n        }\r\n        // auto end call if student runs out of time\r\n        if (account.role === ROLES.STUDENT) {\r\n          setTimeout(() => endCall(true), remainingTime);\r\n        }\r\n      })\r\n      .on(SOCKET_EVENTS.END, () => endCall(false))\r\n      .on(SOCKET_EVENTS.GET_ONLINE_TUTORS, data => {\r\n        setOnlineTutors(data.online);\r\n      })\r\n      .emit(SOCKET_EVENTS.INIT, { account });\r\n    return () => {\r\n      rejectCall();\r\n      socket.emit(SOCKET_EVENTS.LEAVE);\r\n      socket\r\n        .off(SOCKET_EVENTS.INIT)\r\n        .off(SOCKET_EVENTS.REQUEST)\r\n        .off(SOCKET_EVENTS.CALL)\r\n        .off(SOCKET_EVENTS.END)\r\n        .off(SOCKET_EVENTS.GET_ONLINE_TUTORS);\r\n    };\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [account]);\r\n\r\n  useEffect(() => {\r\n    if (peerSrc && account.role === ROLES.TUTOR) {\r\n      peerRecorder.current = new MediaRecorder(peerSrc, { mimeType: 'video/webm; codecs=vp9' });\r\n      peerRecorder.current.ondataavailable = e => {\r\n        if (e.data && e.data.size > 0) {\r\n          socket.emit(SOCKET_EVENTS.RECORD_STUDENT, e.data);\r\n        }\r\n      };\r\n      peerRecorder.current.start(1000);\r\n    }\r\n  }, [peerSrc, account.role]);\r\n\r\n  useEffect(() => {\r\n    if (localSrc && account.role === ROLES.TUTOR) {\r\n      localRecorder.current = new MediaRecorder(localSrc, { mimeType: 'video/webm; codecs=vp9' });\r\n      localRecorder.current.ondataavailable = e => {\r\n        if (e.data && e.data.size > 0) {\r\n          socket.emit(SOCKET_EVENTS.RECORD_TUTOR, e.data);\r\n        }\r\n      };\r\n      localRecorder.current.start(1000);\r\n    }\r\n  }, [localSrc, account.role]);\r\n\r\n  const setTutor = tutorProfile => {\r\n    tutor.current = tutorProfile;\r\n  };\r\n\r\n  const startCall = (isCaller, friendID, config) => {\r\n    configRef.current = config;\r\n    pcRef.current = new PeerConnection(friendID)\r\n      .on('localStream', src => {\r\n        if (!isCaller) {\r\n          setCallModal(false);\r\n        }\r\n        setCallWindow(true);\r\n        setLocalSrc(src);\r\n      })\r\n      .on('peerStream', src => setPeerSrc(src))\r\n      .start(isCaller, config);\r\n  };\r\n\r\n  const rejectCall = () => {\r\n    socket.emit(SOCKET_EVENTS.END, { to: callFrom.username });\r\n    setCallModal(false);\r\n  };\r\n\r\n  const endCall = async isStarter => {\r\n    if (account.role === ROLES.TUTOR) {\r\n      socket.emit(SOCKET_EVENTS.CREATE_CALL_HISTORY, student.current.student);\r\n    }\r\n    if (account.role === ROLES.STUDENT) {\r\n      // refresh remaining time\r\n      getStudent();\r\n    }\r\n    end.current = Date.now();\r\n    if (start.current > 0) {\r\n      setAfterCallModal(true);\r\n    }\r\n    if (_.isFunction(pcRef.current.stop)) {\r\n      pcRef.current.stop(isStarter);\r\n    }\r\n    await stopRecording();\r\n    pcRef.current = {};\r\n    configRef.current = null;\r\n    setCallModal(false);\r\n    setCallWindow(false);\r\n    setLocalSrc(null);\r\n    setPeerSrc(null);\r\n  };\r\n\r\n  const stopRecording = async e => {\r\n    if (account.role === ROLES.STUDENT) {\r\n      if (peerRecorder.current && peerSrc) {\r\n        peerRecorder.current.stop();\r\n      }\r\n      if (localRecorder.current && localSrc) {\r\n        localRecorder.current.stop();\r\n      }\r\n    }\r\n  };\r\n\r\n  const closeAfterCall = () => {\r\n    setAfterCallModal(false);\r\n    start.current = 0;\r\n    end.current = 0;\r\n  };\r\n\r\n  let renderCallFrom = null;\r\n  let btnHolder = null;\r\n  if (callFrom.student) {\r\n    renderCallFrom = callFrom.student.name;\r\n  } else if (tutor.current) {\r\n    renderCallFrom = tutor.current.name;\r\n    btnHolder = (\r\n      <div>\r\n        <Popconfirm title=\"Add this tutor to your favorites?\" okText=\"Yes\" cancelText=\"No\" onConfirm={() => addToFav()}>\r\n          <Button shape=\"round\" type=\"primary\" icon={<LikeOutlined />} size=\"small\">\r\n            Favorite\r\n          </Button>\r\n        </Popconfirm>\r\n\r\n        <Button shape=\"round\" icon={<StarOutlined />} size=\"small\" onClick={() => setShowFeedback(true)}>\r\n          Feedback\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const addToFav = async () => {\r\n    try {\r\n      await axios.post('/preferences', {\r\n        studentId: account.student.id,\r\n        tutorId: tutor.current.id,\r\n        type: PREFERENCE_TYPES.FAVORITE\r\n      });\r\n      alert('Tutor is added to your favorites');\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.videoCall}>\r\n      <FeedbackModal tutor={tutor.current} showFeedback={showFeedback} setShowFeedBack={setShowFeedback} />\r\n      {account.role === ROLES.STUDENT && !callWindow && (\r\n        <TutorList\r\n          onlineTutors={onlineTutors}\r\n          startCall={startCall}\r\n          setTutor={setTutor}\r\n          remainingTime={remainingTime}\r\n        />\r\n      )}\r\n      {!_.isEmpty(configRef.current) && (\r\n        <CallWindow\r\n          callWindow={callWindow}\r\n          localSrc={localSrc}\r\n          peerSrc={peerSrc}\r\n          config={configRef.current}\r\n          mediaDevice={pcRef.current.mediaDevice}\r\n          endCall={endCall}\r\n        />\r\n      )}\r\n      <CallModal callModal={callModal} startCall={startCall} rejectCall={rejectCall} callFrom={callFrom} />\r\n      <Modal\r\n        visible={afterCallModal}\r\n        title=\"Call ended\"\r\n        onCancel={closeAfterCall}\r\n        destroyOnClose\r\n        footer={false}\r\n        width=\"600px\"\r\n      >\r\n        <div className={styles.afterCall}>\r\n          <img className={styles.endCallImg} src={endCallImg} draggable={false} alt=\"\" />\r\n          <div>\r\n            <div className={styles.endUser}>Call with {renderCallFrom}</div>\r\n            <div className={styles.endDuration}>Duration: {getTimeFromMs(end.current - start.current)}</div>\r\n            <div className={styles.btnHolder}>{btnHolder}</div>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport VideoCall from '../../components/VideoCall';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport styles from './Study.module.css';\r\nimport Unverify from '../../assets/unverify.png';\r\nimport Timeout from '../../assets/timeout.png';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function Study() {\r\n  const { account } = useContext(AccountContext);\r\n  const [student, setStudent] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getStudent();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [account]);\r\n\r\n  const getStudent = async () => {\r\n    try {\r\n      const result = await axios.get('/students/' + account.student.id);\r\n      setStudent(result.data.student);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  let renderStudy = null;\r\n  if (account && account.verification) {\r\n    if (student && student.remaining_time > 0) {\r\n      renderStudy = <VideoCall account={account} remainingTime={student.remaining_time} getStudent={getStudent} />;\r\n    } else {\r\n      renderStudy = (\r\n        <div className={styles.unverify}>\r\n          <img className={styles.timeoutImg} src={Timeout} alt=\"\" draggable=\"false\" />\r\n          <div className={styles.unverifyTxt}>\r\n            <p>Sorry, you have run out of study time!</p>\r\n            <p>Please subscribe to continue.</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  } else {\r\n    renderStudy = (\r\n      <div className={styles.unverify}>\r\n        <img className={styles.unverifyImg} src={Unverify} alt=\"\" draggable=\"false\" />\r\n        <div className={styles.unverifyTxt}>\r\n          <p>You are almost ready!</p>\r\n          <p>Verify your account to start now!</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <div className={styles.study}>{renderStudy}</div>;\r\n}\r\n","import React, { useEffect, useRef } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\n\r\nexport default function CallRecordPlayer({ url }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const videoJsOptions = {\r\n    controls: true,\r\n    width: 513,\r\n    height: 360,\r\n    fluid: false,\r\n    sources: [{\r\n      src: url,\r\n      type: 'video/webm'\r\n    }],\r\n    autoplay: false\r\n  };\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION\r\n      videojs.log(version_info);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [url]);\r\n  return (\r\n    <div data-vjs-player>\r\n      <video id=\"myVideo\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin vjs-big-play-centered\" playsInline></video>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Modal } from 'antd';\r\nimport 'video.js/dist/video-js.css';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport styles from './StudentCallDetailModal.module.css';\r\nimport moment from 'moment';\r\nimport CallRecordPlayer from '../../components/CallRecordPlayer';\r\n\r\nexport default function StudentCallDetailModal({ showCallDetail, selected, setShowCallDetail }) {\r\n  return selected ? (\r\n    <Modal\r\n      title={\"Tutor recorded video - \" + moment(selected.createdAt).format('MMMM Do YYYY, h:mm:ss a')}\r\n      visible={showCallDetail}\r\n      onCancel={() => setShowCallDetail(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: \"450px\", overflow: \"auto\" }}\r\n    >\r\n      <div className={styles.recordHolder}>\r\n        <CallRecordPlayer\r\n          url={`${serverUrl}api/call-histories/${selected.id}/tutorVideo`}\r\n        />\r\n      </div>\r\n    </Modal>\r\n  ) : null\r\n}","import React, { useState, useContext } from 'react';\r\nimport { Modal, Form, Button, Input, Select } from 'antd';\r\nimport { REPORT_REASONS, ROLES } from '../lib/constants';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport axios from '../lib/utils/axiosConfig';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function Report({ showReport, selected, setShowReport }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n  const layout = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 16 }\r\n  };\r\n\r\n  const tailLayout = {\r\n    wrapperCol: { offset: 6, span: 16 }\r\n  };\r\n\r\n  const onSubmit = async values => {\r\n    let accountId = null;\r\n    if (account.role === ROLES.STUDENT) {\r\n      accountId = selected.tutor.account.id;\r\n    } else {\r\n      accountId = selected.student.account.id;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      await axios.post('/reports', {\r\n        accountId,\r\n        callId: selected.id,\r\n        description: values.description,\r\n        reason: values.reason\r\n      });\r\n      setLoading(false);\r\n      alert('Report submitted');\r\n      setShowReport(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return selected ? (\r\n    <Modal\r\n      title=\"Report to Admin\"\r\n      visible={showReport}\r\n      onCancel={() => setShowReport(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: '300px', overflow: 'auto' }}\r\n    >\r\n      <Form {...layout} onFinish={onSubmit}>\r\n        <Form.Item name=\"reason\" label=\"Reason\" rules={[{ required: true, message: 'Please select a reason' }]}>\r\n          <Select placeholder=\"Select a reason\">\r\n            {REPORT_REASONS.map(reason => {\r\n              return (\r\n                <Option value={reason} key={reason}>\r\n                  {reason}\r\n                </Option>\r\n              );\r\n            })}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item name=\"description\" label=\"Description\">\r\n          <Input.TextArea\r\n            autoSize={{ minRows: 4 }}\r\n            placeholder=\"Please specify your reasons or provide extra information (E.g timestamp)\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" danger htmlType=\"submit\" loading={loading}>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  ) : null;\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport styles from './StudentCallHistories.module.css';\r\nimport { Table, Spin, Button, Input } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport moment from 'moment';\r\nimport { getTimeFromMs } from '../../lib/utils/formatTime';\r\nimport StudentCallDetailModal from './StudentCallDetailModal';\r\nimport ReportModal from '../../components/ReportModal';\r\nconst { Search } = Input;\r\n\r\nexport default function StudentCallHistories() {\r\n  const { account } = useContext(AccountContext);\r\n  const [history, setHistory] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showCallDetail, setShowCallDetail] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [searchKey, setSearchKey] = useState('');\r\n  const [showReport, setShowReport] = useState(false);\r\n\r\n  const getHistory = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await axios.get('/call-histories?studentId=' + account.student.id + '&search=' + searchKey);\r\n      setHistory(result.data.callHistories);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getHistory();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchKey]);\r\n  const onViewRecord = record => {\r\n    setSelected(record);\r\n    setShowCallDetail(true);\r\n  };\r\n\r\n  const onReportRecord = record => {\r\n    setSelected(record);\r\n    setShowReport(true);\r\n  };\r\n\r\n  const searchCall = value => {\r\n    setSearchKey(value);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Tutor',\r\n      dataIndex: 'tutor',\r\n      render: tutor => {\r\n        return <div>{tutor.name}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'tutor',\r\n      render: tutor => {\r\n        return <div>{tutor.account.username}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Duration',\r\n      dataIndex: 'duration',\r\n      render: duration => {\r\n        return <div>{getTimeFromMs(duration)}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Action',\r\n      render: (text, record) => {\r\n        return (\r\n          <div>\r\n            <Button className={styles.viewRecordBtn} onClick={() => onViewRecord(record)}>\r\n              View record\r\n            </Button>\r\n            <Button danger onClick={() => onReportRecord(record)}>\r\n              Report\r\n            </Button>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className={styles.StudentCallHistories}>\r\n      <StudentCallDetailModal\r\n        setShowCallDetail={setShowCallDetail}\r\n        showCallDetail={showCallDetail}\r\n        selected={selected}\r\n      />\r\n      <ReportModal setShowReport={setShowReport} showReport={showReport} selected={selected} />\r\n      <div className={styles.searchBar}>\r\n        <Search placeholder=\"Search for username, name\" onSearch={searchCall} enterButton />\r\n      </div>\r\n      <Spin spinning={loading}>\r\n        <Table columns={columns} dataSource={history} pagination={true} rowKey=\"id\" />\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Layout, Avatar, Dropdown, Menu } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport styles from './Student.module.css';\r\nimport { UserOutlined, DownOutlined, KeyOutlined, LogoutOutlined, DollarCircleOutlined, ContactsOutlined, VideoCameraOutlined, HistoryOutlined } from '@ant-design/icons';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\nimport Profile from './Profile';\r\nimport Subscriptions from './Subscriptions';\r\nimport Study from './Study';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport StudentCallHistories from './StudentCallHistories';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Student(props) {\r\n  const { account, onSignOut } = useContext(AccountContext);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { location } = props;\r\n  const userAvatar = (account.student && account.student.avatar) ?\r\n    <Avatar style={{ margin: \"10px\" }} src={serverUrl + account.student.avatar} /> :\r\n    <Avatar style={{ margin: \"10px\" }} icon={<UserOutlined />} />\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined /><span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined /><span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <Layout style={{ minHeight: '100vh' }}>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider collapsible>\r\n        <SideBarLogo collapsed={false} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={[\"/student/video-call\"]} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/student/study\">\r\n            <VideoCameraOutlined /><Link to=\"/student/study\"><span>Study</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/student\">\r\n            <ContactsOutlined /><Link to=\"/student\"><span>Profile</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/student/subscriptions\">\r\n            <DollarCircleOutlined /><Link to=\"/student/subscriptions\"><span>Subscriptions</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/student/call-histories\">\r\n            <HistoryOutlined /><Link to=\"/student/call-histories\"><span>Call histories</span></Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header>\r\n          <div className={styles.userControl}>\r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div>\r\n                {userAvatar}<DownOutlined className={styles.dropDownIcon} />\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/student/subscriptions\" component={Subscriptions} />\r\n            <Route path=\"/student/study\" component={Study} />\r\n            <Route path=\"/student/call-histories\" component={StudentCallHistories} />\r\n            <Route path=\"/student\" component={Profile} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useState, useContext } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport 'webrtc-adapter';\r\nimport RecordRTC from 'recordrtc';\r\nimport 'videojs-record/dist/css/videojs.record.css';\r\nimport 'videojs-record/dist/videojs.record.js';\r\nimport { Button } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport styles from './VideoRecorder.module.css';\r\n\r\nconst videoJsOptions = {\r\n  controls: true,\r\n  width: 480,\r\n  height: 360,\r\n  fluid: false,\r\n  plugins: {\r\n    record: {\r\n      audio: true,\r\n      video: true,\r\n      maxLength: 120,\r\n      debug: true\r\n    }\r\n  }\r\n};\r\n\r\nexport default function VideoRecorder({ cancelRecord, existedVideo, refreshProfile }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const [recorded, setRecorded] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n  const uploadVideo = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append('video', recorded, 'introVideo.webm');\r\n      await axios('/tutors/video/' + account.username, {\r\n        data: formData,\r\n        method: 'POST'\r\n      });\r\n      cancelRecord();\r\n      refreshProfile();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info =\r\n        'Using video.js ' +\r\n        videojs.VERSION +\r\n        ' with videojs-record ' +\r\n        videojs.getPluginVersion('record') +\r\n        ' and recordrtc ' +\r\n        RecordRTC.version;\r\n      videojs.log(version_info);\r\n    });\r\n    player.current.on('deviceReady', () => {\r\n      console.log('device is ready!');\r\n    });\r\n    player.current.on('startRecord', () => {\r\n      console.log('started recording!');\r\n    });\r\n\r\n    // user completed recording and stream is available\r\n    player.current.on('finishRecord', () => {\r\n      // recordedData is a blob object containing the recorded data that\r\n      // can be downloaded by the user, stored on server etc.\r\n      setRecorded(player.current.recordedData);\r\n    });\r\n\r\n    // error handling\r\n    player.current.on('error', (element, error) => {\r\n      console.warn(error);\r\n    });\r\n\r\n    player.current.on('deviceError', () => {\r\n      console.error('device error:', player.current.deviceErrorCode);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    };\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <div data-vjs-player>\r\n        <video\r\n          id=\"myVideoRecord\"\r\n          ref={node => (videoNode.current = node)}\r\n          className=\"video-js vjs-default-skin\"\r\n          playsInline\r\n        ></video>\r\n      </div>\r\n      {existedVideo ? (\r\n        <div className={styles.btnWrapper}>\r\n          <Button className={styles.videoBtn} onClick={uploadVideo} loading={loading} disabled={recorded === null}>\r\n            Upload\r\n          </Button>\r\n          <Button className={styles.videoBtn} type=\"danger\" onClick={cancelRecord}>\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.btnWrapperNoCancel}>\r\n          <Button className={styles.videoBtn} onClick={uploadVideo} loading={loading} disabled={recorded === null}>\r\n            Upload\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useContext } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport { Button } from 'antd';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport styles from './VideoPlayer.module.css';\r\n\r\nexport default function VideoPlayer({ recordNew }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const { account } = useContext(AccountContext);\r\n  const videoJsOptions = {\r\n    controls: true,\r\n    width: 480,\r\n    height: 360,\r\n    fluid: false,\r\n    sources: [{\r\n      src: serverUrl + 'api/tutors/video/' + account.username,\r\n      type: 'video/webm'\r\n    }],\r\n    autoplay: false\r\n  };\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION\r\n      videojs.log(version_info);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <div data-vjs-player>\r\n        <video id=\"myVideo\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin vjs-big-play-centered\" playsInline></video>\r\n      </div>\r\n      <div className={styles.btnWrapper} >\r\n       <Button onClick={recordNew}>Record new video</Button>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport styles from './Profile.module.css';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { UserOutlined, UploadOutlined, FileTextOutlined, FileImageOutlined, FileDoneOutlined } from '@ant-design/icons';\r\nimport { Avatar, Collapse, Form, Input, DatePicker, Button, Select, Upload, Alert, Tag, Spin } from 'antd';\r\nimport preferences from '../../lib/preferences';\r\nimport moment from 'moment';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport VideoRecorder from './VideoRecorder';\r\nimport VideoPlayer from './VideoPlayer';\r\nimport { PROFILE_STATUS } from '../../lib/constants';\r\nconst { Panel } = Collapse;\r\nconst { Option } = Select;\r\n\r\nexport default function Profile() {\r\n  const [loadingProfile, setLoadingProfile] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profile, setProfile] = useState({ account: { email: null } });\r\n  const { account } = useContext(AccountContext);\r\n  const [fileList, setFileList] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [loadingAva, setLoadingAva] = useState(false);\r\n  const [avatar, setAvatar] = useState([]);\r\n  const [isRecord, setIsRecord] = useState(true);\r\n\r\n  const getTutorProfile = async () => {\r\n    try {\r\n      setLoadingProfile(true);\r\n      const result = await axios.get('/tutors/' + account.tutor.id);\r\n      setProfile(result.data.tutor);\r\n      if (result.data.tutor.video) {\r\n        setIsRecord(false);\r\n      }\r\n      setLoadingProfile(false);\r\n    } catch (error) {\r\n      setLoadingProfile(true);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTutorProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const avatarProfile =\r\n    profile && profile.avatar ? (\r\n      <Avatar src={serverUrl + profile.avatar} size={100} />\r\n    ) : (\r\n      <Avatar icon={<UserOutlined />} size={100} />\r\n    );\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 }\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 }\r\n    }\r\n  };\r\n  const uploadBtnLayout = {\r\n    wrapperCol: { offset: 5, span: 16 }\r\n  };\r\n  const onSubmit = async values => {\r\n    try {\r\n      setLoading(true);\r\n      await axios.put('/tutors/' + profile.id, values);\r\n      getTutorProfile();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n  const uploadProps = {\r\n    onRemove: file => {\r\n      const index = fileList.indexOf(file);\r\n      const newFileList = fileList.slice();\r\n      newFileList.splice(index, 1);\r\n      setFileList(newFileList);\r\n    },\r\n    beforeUpload: file => {\r\n      const isPdfOrWord =\r\n        file.type === 'application/pdf' ||\r\n        file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n      if (isPdfOrWord) {\r\n        setFileList([...fileList, file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: fileList\r\n  };\r\n  const uploadAvaProps = {\r\n    onRemove: file => {\r\n      setAvatar([]);\r\n    },\r\n    beforeUpload: file => {\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n      if (isJpgOrPng) {\r\n        setAvatar([file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: avatar\r\n  };\r\n  const handleUpload = async () => {\r\n    try {\r\n      setUploading(true);\r\n      const formData = new FormData();\r\n      fileList.forEach(file => {\r\n        formData.append('certificates', file);\r\n      });\r\n      await axios('/tutors/certificates/' + profile.account.username, {\r\n        method: 'POST',\r\n        data: formData\r\n      });\r\n      await getTutorProfile();\r\n      setUploading(false);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const uploadAvatar = async () => {\r\n    try {\r\n      setLoadingAva(true);\r\n      const formData = new FormData();\r\n      formData.append('avatar', avatar[0]);\r\n      await axios('/tutors/avatar/' + profile.account.username, {\r\n        method: 'POST',\r\n        data: formData\r\n      });\r\n      await getTutorProfile();\r\n      window.location.reload(false);\r\n      setLoadingAva(false);\r\n    } catch (error) {\r\n      setLoadingAva(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const resendConfirmation = async () => {\r\n    try {\r\n      await axios.post('/accounts/resend-verify', { email: profile.account.email });\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  let profileStatus;\r\n  if (profile.profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n    profileStatus = <Alert message=\"Your tutor profile is ready\" type=\"success\" showIcon />;\r\n  } else if (profile.profileStatus === PROFILE_STATUS.PENDING) {\r\n    profileStatus = <Alert message=\"Your tutor profile is being reviewed by Admin\" type=\"info\" showIcon />;\r\n  } else if (profile.profileStatus === PROFILE_STATUS.REJECTED) {\r\n    profileStatus = <Alert message=\"Your tutor profile is rejected, edit now\" type=\"error\" showIcon />;\r\n  }\r\n  return (\r\n    <Spin spinning={loadingProfile}>\r\n      <div className={styles.profile}>\r\n        <div className={styles.accountInfoContainer}>\r\n          {avatarProfile}\r\n          <div className={styles.accountInfo}>\r\n            <p className={styles.name}>{profile.name}</p>\r\n            <p>Email: {profile.account.email}</p>\r\n            {account.verification ? (\r\n              <Tag color=\"success\">Verified</Tag>\r\n            ) : (\r\n              <span>\r\n                <Tag color=\"default\">Unverified</Tag>\r\n                <Button type=\"link\" onClick={resendConfirmation}>\r\n                  Resend confirmation email\r\n                </Button>\r\n              </span>\r\n            )}\r\n            <div className={styles.profileStatus}>{profileStatus}</div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.collapse}>\r\n          {profile.name ? (\r\n            <Form\r\n              {...formItemLayout}\r\n              onFinish={onSubmit}\r\n              initialValues={{\r\n                name: profile.name,\r\n                phone: profile.phone,\r\n                birthdate: profile.birthdate ? moment(profile.birthdate) : undefined,\r\n                address: profile.address,\r\n                interests: profile.interests,\r\n                education: profile.education,\r\n                experience: profile.experience,\r\n                profession: profile.profession,\r\n                student_type: profile.student_type ? profile.student_type : undefined,\r\n                student_lvl: profile.student_lvl ? profile.student_lvl : undefined,\r\n                accent: profile.accent ? profile.accent : undefined,\r\n                fluency: profile.fluency ? profile.fluency : undefined,\r\n                reason: profile.reason,\r\n                specialities: profile.specialities ? JSON.parse(profile.specialities) : undefined,\r\n                introduction: profile.introduction,\r\n                teaching_styles: profile.teaching_styles ? JSON.parse(profile.teaching_styles) : undefined\r\n              }}\r\n            >\r\n              <Collapse defaultActiveKey={['1']}>\r\n                <Panel header=\"Basic info\" key=\"1\">\r\n                  <Form.Item label=\"Name\" name=\"name\" rules={[{ required: true, message: 'Please enter your name' }]}>\r\n                    <Input placeholder=\"Your fullname\" value={profile.name} />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"phone\" label=\"Phone\">\r\n                    <Input placeholder=\"Your phone number (optional)\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"birthdate\" label=\"Birthdate\">\r\n                    <DatePicker />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"address\" label=\"Address\">\r\n                    <Input placeholder=\"Where do you from? E.g Hanoi, Vietnam\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"avatar\" label=\"Upload avatar\">\r\n                    <Upload {...uploadAvaProps} listType=\"picture-card\">\r\n                      <Button icon={<FileImageOutlined />}>Change avatar</Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button\r\n                      disabled={avatar.length <= 0}\r\n                      onClick={uploadAvatar}\r\n                      loading={loadingAva}\r\n                      style={{ width: '159px' }}\r\n                      icon={<UploadOutlined />}\r\n                    >\r\n                      Upload avatar\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"CV\" key=\"2\">\r\n                  <Form.Item name=\"interests\" label=\"Interests\">\r\n                    <Input.TextArea placeholder=\"Share with us everything you want such as interests, hobbies, life experiences\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"education\" label=\"Education\">\r\n                    <Input.TextArea placeholder=\"E.g Bachelor of Information Technology\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"experience\" label=\"Experience\">\r\n                    <Input.TextArea placeholder=\"Your working experience\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"profession\" label=\"Profession\">\r\n                    <Input placeholder=\"Your current or previous jobs\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"reason\" label=\"Reason\">\r\n                    <Input.TextArea placeholder=\"Why do you want to join Mirage?\" />\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Teaching preferences\" key=\"3\">\r\n                  <Form.Item name=\"student_type\" label=\"Target\">\r\n                    <Select placeholder=\"Who do you want to teach?\">\r\n                      {preferences.STUDENT_TYPE.map(type => {\r\n                        return (\r\n                          <Option value={type} key={type}>\r\n                            {type}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"student_lvl\" label=\"Student level\">\r\n                    <Select placeholder=\"You are good at teaching students who are\">\r\n                      {preferences.STUDENT_LVL.map(lvl => {\r\n                        return (\r\n                          <Option value={lvl} key={lvl}>\r\n                            {lvl}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"accent\" label=\"Accent\">\r\n                    <Select placeholder=\"Your English accent\">\r\n                      {preferences.ENG_ACCENT.map(accent => {\r\n                        return (\r\n                          <Option value={accent} key={accent}>\r\n                            {accent}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"fluency\" label=\"Fluency\">\r\n                    <Select placeholder=\"Your fluency\">\r\n                      {preferences.ENG_FLUENCY.map(fluency => {\r\n                        return (\r\n                          <Option value={fluency} key={fluency}>\r\n                            {fluency}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"specialities\" label=\"Specialities\">\r\n                    <Select mode=\"multiple\" placeholder=\"Select your specialities\">\r\n                      {preferences.SPECIALITIES.map(spec => {\r\n                        return (\r\n                          <Option value={spec} key={spec}>\r\n                            {spec}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"teaching_styles\" label=\"Teaching styles\">\r\n                    <Select mode=\"multiple\" placeholder=\"Your styles\">\r\n                      {preferences.TEACHING_STYLE.map(style => {\r\n                        return (\r\n                          <Option value={style} key={style}>\r\n                            {style}\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Teaching certificates (optional)\" key=\"4\">\r\n                  {/* render uploaded files */}\r\n                  {profile.certificates && JSON.parse(profile.certificates).length > 0 ? (\r\n                    <Form.Item {...formItemLayout} label=\"Uploaded file(s)\">\r\n                      <div className={styles.uploadedCert}>\r\n                        {profile.certificates\r\n                          ? JSON.parse(profile.certificates).map((cert, index) => {\r\n                              return (\r\n                                <a key={index} href={serverUrl + cert.path}>\r\n                                  <FileDoneOutlined />\r\n                                  {cert.originalname}\r\n                                </a>\r\n                              );\r\n                            })\r\n                          : null}\r\n                      </div>\r\n                    </Form.Item>\r\n                  ) : null}\r\n                  <Form.Item name=\"files\" label=\"Upload certificate\">\r\n                    <Upload {...uploadProps} listType=\"picture-card\">\r\n                      <Button icon={<FileTextOutlined />}>Select File</Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button\r\n                      onClick={handleUpload}\r\n                      loading={uploading}\r\n                      style={{ width: '132px' }}\r\n                      icon={<UploadOutlined />}\r\n                    >\r\n                      Upload\r\n                    </Button>\r\n                  </Form.Item>\r\n                  <Alert\r\n                    message=\"Warning: All your previous upload will be removed when uploading new certificates\"\r\n                    type=\"warning\"\r\n                    showIcon\r\n                  />\r\n                </Panel>\r\n                <Panel header=\"Introduce yourself\" key=\"5\">\r\n                  <Form.Item name=\"introduction\" label=\"Introduction\">\r\n                    <Input.TextArea placeholder=\"Introduce yourself\" />\r\n                  </Form.Item>\r\n                  <div>\r\n                    <p className={styles.introInstruct}>\r\n                      Record a video to emphasize your teaching style, expertise and personality to help students\r\n                      overcome their nerve when speaking with foreigners. A friendly video will encourage the stundents\r\n                      to call you. A few helpful tips:\r\n                    </p>\r\n                    <div className={styles.introTips}>\r\n                      <p>1. Make sure your camera/webcam is working properly</p>\r\n                      <p>2. Find a clean and quiet room</p>\r\n                      <p>3. Look at the camera and smile</p>\r\n                      <p>4. Dress smart</p>\r\n                      <p>5. Speak for 1-2 minutes</p>\r\n                    </div>\r\n                  </div>\r\n                  <Form.Item label=\"Intro video\">\r\n                    {isRecord ? (\r\n                      <VideoRecorder\r\n                        cancelRecord={() => setIsRecord(false)}\r\n                        existedVideo={profile.video}\r\n                        refreshProfile={getTutorProfile}\r\n                      />\r\n                    ) : (\r\n                      <VideoPlayer recordNew={() => setIsRecord(true)} />\r\n                    )}\r\n                  </Form.Item>\r\n                </Panel>\r\n              </Collapse>\r\n              <div className={styles.submitWrapper}>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                  Update profile\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport VideoCall from '../../components/VideoCall';\r\nimport { Spin, Steps } from 'antd';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { SolutionOutlined, ProfileOutlined, SmileOutlined } from '@ant-design/icons';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport styles from './Teaching.module.css';\r\nimport { PROFILE_STATUS } from '../../lib/constants';\r\nimport WaitImg from '../../assets/tutor-wait.png';\r\nimport CompleteProfileImg from '../../assets/complete-profile.png';\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Teaching() {\r\n  const { account } = useContext(AccountContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profile, setProfile] = useState({});\r\n\r\n  const getProfile = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get('/tutors/' + account.tutor.id);\r\n      account.tutor = result.data.tutor;\r\n      setProfile(result.data.tutor);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  let profileStatus;\r\n  if (profile.profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n    profileStatus = <Step status=\"finish\" title=\"Profile approval\" icon={<ProfileOutlined />} />;\r\n  } else if (profile.profileStatus === PROFILE_STATUS.PENDING) {\r\n    profileStatus = <Step status=\"wait\" title=\"Profile approval\" icon={<ProfileOutlined />} />;\r\n  } else if (profile.profileStatus === PROFILE_STATUS.REJECTED) {\r\n    profileStatus = <Step status=\"error\" title=\"Profile approval\" icon={<ProfileOutlined />} />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.teachingWrapper}>\r\n      <div className={styles.teaching}>\r\n        <Spin size=\"large\" spinning={loading}>\r\n          <Steps style={{ width: '100%' }}>\r\n            <Step\r\n              status={profile.account && profile.account.verification ? 'finish' : 'wait'}\r\n              title=\"Verification\"\r\n              icon={<SolutionOutlined />}\r\n            />\r\n            {profileStatus}\r\n            <Step\r\n              status={\r\n                profile.account && profile.account.verification && profile.profileStatus === PROFILE_STATUS.ACCEPTED\r\n                  ? 'finish'\r\n                  : 'wait'\r\n              }\r\n              title=\"Ready\"\r\n              icon={<SmileOutlined />}\r\n            />\r\n          </Steps>\r\n          {profile.account && profile.account.verification && profile.profileStatus === PROFILE_STATUS.ACCEPTED ? (\r\n            <div className={styles.wait}>\r\n              <img className={styles.waitImg} src={WaitImg} alt=\"\" draggable=\"false\" />\r\n              <div className={styles.waitTxt}>\r\n                <p>You are all set!</p>\r\n                <p>Be patient and stay here.</p>\r\n                <p>Students will start calling you soon.</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className={styles.wait}>\r\n              <img className={styles.waitImg} src={CompleteProfileImg} alt=\"\" draggable=\"false\" />\r\n              <div className={styles.waitTxt}>\r\n                <p>You are almost ready!</p>\r\n                <p>Complete your profile to start now!</p>\r\n                <p>Students are waiting to see you.</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {loading ? null : <VideoCall account={account} />}\r\n        </Spin>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport styles from './TutorCallHistories.module.css';\r\nimport { Table, Spin, Button, Input, Tag } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport moment from 'moment';\r\nimport { getTimeFromMs } from '../../lib/utils/formatTime';\r\nimport ReportModal from '../../components/ReportModal';\r\nimport { TUTOR_PRICE } from '../../lib/constants';\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function TutorCallHistories() {\r\n  const { account } = useContext(AccountContext);\r\n  const [history, setHistory] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showReport, setShowReport] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [searchKey, setSearchKey] = useState('');\r\n  const [paymentLoading, setPaymentLoading] = useState(false);\r\n  const [price, setPrice] = useState(0);\r\n\r\n  const getHistory = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await axios.get('/call-histories?tutorId=' + account.tutor.id + '&search=' + searchKey);\r\n      setHistory(result.data.callHistories);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createPayment = async () => {\r\n    setPaymentLoading(true);\r\n    try {\r\n      await axios.post('/payments', {\r\n        tutorId: account.tutor.id\r\n      });\r\n      setPaymentLoading(false);\r\n      getHistory();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setPaymentLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getPrice = async () => {\r\n      try {\r\n        const result = await axios.get('/settings');\r\n        result.data.settings.forEach(setting => {\r\n          if (setting.type === TUTOR_PRICE) {\r\n            setPrice(Number(setting.content));\r\n          }\r\n        });\r\n      } catch (error) {\r\n        alert(error.response.data.message);\r\n      }\r\n    };\r\n    getHistory();\r\n    getPrice();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchKey]);\r\n  const onReport = record => {\r\n    setSelected(record);\r\n    setShowReport(true);\r\n  };\r\n\r\n  const searchCall = value => {\r\n    setSearchKey(value);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Student',\r\n      dataIndex: 'student',\r\n      render: student => {\r\n        return <div>{student.name}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'student',\r\n      render: student => {\r\n        return <div>{student.account.username}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Duration',\r\n      dataIndex: 'duration',\r\n      render: duration => {\r\n        return <div>{getTimeFromMs(duration)}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Payment state',\r\n      dataIndex: 'counted',\r\n      render: counted => {\r\n        if (counted) {\r\n          return <Tag color=\"success\">Counted</Tag>;\r\n        } else {\r\n          return <Tag>Uncounted</Tag>;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Action',\r\n      render: (text, record) => {\r\n        return (\r\n          <div>\r\n            <Button danger onClick={() => onReport(record)}>\r\n              Report\r\n            </Button>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className={styles.TutorCallHistories}>\r\n      <ReportModal setShowReport={setShowReport} showReport={showReport} selected={selected} />\r\n      <Button type=\"primary\" onClick={createPayment} loading={paymentLoading}>\r\n        Create payment request\r\n      </Button>\r\n      <span className={styles.payRate}>*Payment rate: {price}$/min</span>\r\n      <div className={styles.searchBar}>\r\n        <Search placeholder=\"Search for username, name\" onSearch={searchCall} enterButton />\r\n      </div>\r\n      <Spin spinning={loading}>\r\n        <Table columns={columns} dataSource={history} pagination={true} rowKey=\"id\" />\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport styles from './Payments.module.css';\r\nimport { Table, Spin, Tag } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { PAYMENT_STATE } from '../../lib/constants';\r\nimport moment from 'moment';\r\nimport { AccountContext } from '../../context/AccountContext';\r\n\r\nexport default function Payments() {\r\n  const [payments, setPayments] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Price',\r\n      dataIndex: 'price',\r\n      render: price => {\r\n        return <div>{price}$</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => {\r\n        if (state === PAYMENT_STATE.COMPLETED) {\r\n          return <Tag color=\"success\">Completed</Tag>;\r\n        } else if (state === PAYMENT_STATE.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Cancelled</Tag>;\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  const getPayments = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await axios.get('/payments/' + account.tutor.id);\r\n      setPayments(result.data.payments);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPayments();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className={styles.payments}>\r\n      <Spin spinning={loading}>\r\n        <Table rowKey=\"id\" columns={columns} dataSource={payments} pagination={true} />\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport ReviewSummary from '../../components/ReviewSummary';\r\nimport Review from '../../components/Review';\r\nimport { List } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { getReviewCount } from '../../lib/utils/getReviewCount';\r\nimport styles from './Reviews.module.css';\r\n\r\nexport default function Reviews() {\r\n  const { account } = useContext(AccountContext);\r\n  const [reviews, setReviews] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const getTutorReview = async () => {\r\n      try {\r\n        const result = await axios.get('/reviews/' + account.tutor.id);\r\n        const ratingCount = getReviewCount(result.data.reviews);\r\n        setReviews({ ...result.data, ratingCount });\r\n      } catch (error) {\r\n        alert(error.response.data.message);\r\n      }\r\n    };\r\n    getTutorReview();\r\n  }, [account.tutor.id]);\r\n  let reviewsRender = null;\r\n  if (reviews) {\r\n    reviewsRender = (\r\n      <div className={styles.reviews}>\r\n        <ReviewSummary reviews={reviews} />\r\n        <List\r\n          itemLayout=\"horizontal\"\r\n          dataSource={reviews.reviews}\r\n          renderItem={item => (\r\n            <List.Item>\r\n              <Review review={item} />\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  return reviewsRender;\r\n}\r\n","import React from 'react';\r\nimport styles from './Stats.module.css';\r\nimport Payments from './Payments';\r\nimport Reviews from './Reviews';\r\n\r\nexport default function Stats() {\r\n  return (\r\n    <div className={styles.stats}>\r\n      <Payments />\r\n      <Reviews />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Layout, Avatar, Dropdown, Menu } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport styles from './Tutor.module.css';\r\nimport {\r\n  UserOutlined,\r\n  DownOutlined,\r\n  KeyOutlined,\r\n  LogoutOutlined,\r\n  ContactsOutlined,\r\n  VideoCameraOutlined,\r\n  HistoryOutlined,\r\n  BarChartOutlined\r\n} from '@ant-design/icons';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport Profile from './Profile';\r\nimport Teaching from './Teaching';\r\nimport TutorCallHistories from './TutorCallHistories';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport Stats from './Stats';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Tutor(props) {\r\n  const { account, onSignOut } = useContext(AccountContext);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { location } = props;\r\n  const userAvatar =\r\n    account.tutor && account.tutor.avatar ? (\r\n      <Avatar style={{ margin: '10px' }} src={serverUrl + account.tutor.avatar} />\r\n    ) : (\r\n      <Avatar style={{ margin: '10px' }} icon={<UserOutlined />} />\r\n    );\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined />\r\n        <span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined />\r\n        <span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <Layout style={{ minHeight: '100vh' }}>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider collapsible>\r\n        <SideBarLogo collapsed={false} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={['/tutor']} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/tutor\">\r\n            <ContactsOutlined />\r\n            <Link to=\"/tutor\">\r\n              <span>Profile</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/tutor/teaching\">\r\n            <VideoCameraOutlined />\r\n            <Link to=\"/tutor/teaching\">\r\n              <span>Teaching</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/tutor/call-histories\">\r\n            <HistoryOutlined />\r\n            <Link to=\"/tutor/call-histories\">\r\n              <span>Call histories</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/tutor/stats\">\r\n            <BarChartOutlined />\r\n            <Link to=\"/tutor/stats\">\r\n              <span>Stats</span>\r\n            </Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header>\r\n          <div className={styles.userControl}>\r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div>\r\n                {userAvatar}\r\n                <DownOutlined className={styles.dropDownIcon} />\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/tutor/stats\" component={Stats} />\r\n            <Route path=\"/tutor/teaching\" component={Teaching} />\r\n            <Route path=\"/tutor/call-histories\" component={TutorCallHistories} />\r\n            <Route path=\"/tutor\" component={Profile} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport socket from '../../lib/socket';\r\nimport { SOCKET_EVENTS } from '../../lib/constants';\r\nimport styles from './OnlineUsers.module.css';\r\nimport { Doughnut } from 'react-chartjs-2';\r\n\r\nexport default function OnlineUsers() {\r\n  const [onlineTutors, setOnlineTutors] = useState([]);\r\n  const [onlineStudents, setOnlineStudents] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket\r\n      .on(SOCKET_EVENTS.GET_ONLINE_TUTORS, data => {\r\n        setOnlineTutors(data.online);\r\n      })\r\n      .on(SOCKET_EVENTS.GET_ONLINE_STUDENTS, data => {\r\n        setOnlineStudents(data.online);\r\n      });\r\n    return () => {\r\n      socket.off(SOCKET_EVENTS.GET_ONLINE_STUDENTS).off(SOCKET_EVENTS.GET_ONLINE_TUTORS);\r\n    };\r\n  }, []);\r\n\r\n  const data = {\r\n    datasets: [\r\n      {\r\n        data: [onlineStudents.length, onlineTutors.length],\r\n        backgroundColor: ['#FF6384', '#36A2EB'],\r\n        hoverBackgroundColor: ['#FF6384', '#36A2EB']\r\n      }\r\n    ],\r\n    labels: ['Students', 'Tutors']\r\n  };\r\n\r\n  return (\r\n    <div className={styles.onlineUsers}>\r\n      <p>Online users</p>\r\n      <Doughnut data={data} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Table } from 'antd';\r\nimport moment from 'moment';\r\nimport { getTimeFromMs } from '../../lib/utils/formatTime';\r\nimport styles from './RecentCalls.module.css';\r\n\r\nexport default function RecentCalls() {\r\n  const [calls, setCalls] = useState([]);\r\n  useEffect(() => {\r\n    const getRecentCalls = async () => {\r\n      try {\r\n        const result = await axios.get('/call-histories');\r\n        setCalls(result.data.callHistories.slice(0, 5));\r\n      } catch (error) {\r\n        alert(error.response.data.message);\r\n      }\r\n    };\r\n    getRecentCalls();\r\n  }, []);\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Student',\r\n      dataIndex: 'student',\r\n      render: student => {\r\n        return <div>{student.name}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Tutor',\r\n      dataIndex: 'tutor',\r\n      render: tutor => {\r\n        return <div>{tutor.name}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Duration',\r\n      dataIndex: 'duration',\r\n      render: duration => {\r\n        return <div>{getTimeFromMs(duration)}</div>;\r\n      }\r\n    }\r\n  ];\r\n  return (\r\n    <div className={styles.recentCalls}>\r\n      <p className={styles.recentCallsTitle}>Recent calls</p>\r\n      <Table columns={columns} dataSource={calls} pagination={false} rowKey=\"id\" />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './MoneyStats.module.css';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function MoneyStats() {\r\n  const [stats, setStats] = useState({ earn: 0, pay: 0 });\r\n\r\n  useEffect(() => {\r\n    const getMoneyStats = async () => {\r\n      try {\r\n        const result = await axios.get('/stats/money');\r\n        setStats(result.data.stats);\r\n      } catch (error) {\r\n        alert(error.response.data.message);\r\n      }\r\n    };\r\n    getMoneyStats();\r\n  }, []);\r\n\r\n  const data = {\r\n    datasets: [\r\n      {\r\n        data: [stats.earn, stats.pay],\r\n        backgroundColor: ['#FF6384', '#36A2EB'],\r\n        label: `Profit: ${(stats.earn - stats.pay).toFixed(2)}$`\r\n      }\r\n    ],\r\n    labels: ['Earn', 'Pay']\r\n  };\r\n\r\n  return (\r\n    <div className={styles.moneyStats}>\r\n      <p>Money</p>\r\n      <Bar data={data} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Table } from 'antd';\r\nimport styles from './TopPaid.module.css';\r\n\r\nexport default function TopPaid() {\r\n  const [users, setUsers] = useState([]);\r\n  useEffect(() => {\r\n    const getTopPaid = async () => {\r\n      try {\r\n        const result = await axios.get('/stats/top-paid');\r\n        setUsers(result.data.topPaid);\r\n      } catch (error) {\r\n        alert(error.response.data.message);\r\n      }\r\n    };\r\n    getTopPaid();\r\n  }, []);\r\n  const columns = [\r\n    {\r\n      title: 'Rank',\r\n      key: 'index',\r\n      render: (text, record, index) => {\r\n        return index + 1;\r\n      }\r\n    },\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'student',\r\n      render: student => {\r\n        return <div>{student.name}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Amount',\r\n      dataIndex: 'total',\r\n      render: total => {\r\n        return <div>{total.toFixed(2)}$</div>;\r\n      }\r\n    }\r\n  ];\r\n  return (\r\n    <div className={styles.topPaid}>\r\n      <p className={styles.topPaidTitle}>Top paid student</p>\r\n      <Table columns={columns} dataSource={users} pagination={false} rowKey=\"studentId\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport OnlineUsers from './OnlineUsers';\r\nimport styles from './Dashboard.module.css';\r\nimport RecentCalls from './RecentCalls';\r\nimport MoneyStats from './MoneyStats';\r\nimport TopPaid from './TopPaid';\r\n\r\nexport default function Dashboard() {\r\n  return (\r\n    <div className={styles.dashboard}>\r\n      <div className={styles.dashboardRow}>\r\n        <OnlineUsers />\r\n        <RecentCalls />\r\n      </div>\r\n      <div className={styles.dashboardRow}>\r\n        <MoneyStats />\r\n\r\n        <TopPaid />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Tag, Table } from 'antd';\r\nimport { SUB_STATE, SUB_TIER } from '../../lib/constants';\r\nimport moment from 'moment';\r\n\r\nexport default function StudentSub({ subscriptions }) {\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Tier',\r\n      dataIndex: 'tier',\r\n      render: tier => {\r\n        if (tier === SUB_TIER.SILVER) {\r\n          return <Tag color=\"#C0C0C0\">Silver</Tag>;\r\n        } else if (tier === SUB_TIER.GOLD) {\r\n          return <Tag color=\"#DAA520\">Gold</Tag>;\r\n        } else if (tier === SUB_TIER.PLATIUM) {\r\n          return <Tag color=\"processing\">Platium</Tag>;\r\n        } else {\r\n          return <Tag>Normal</Tag>;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Duration',\r\n      dataIndex: 'duration',\r\n      render: duration => {\r\n        return <div>{duration / 60000} mins</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Price',\r\n      dataIndex: 'price',\r\n      render: price => {\r\n        return <div>{price}$</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => {\r\n        if (state === SUB_STATE.COMPLETED) {\r\n          return <Tag color=\"success\">Completed</Tag>;\r\n        } else if (state === SUB_STATE.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Cancelled</Tag>;\r\n        }\r\n      }\r\n    }\r\n  ];\r\n  return (\r\n    <div>\r\n      <Table columns={columns} dataSource={subscriptions} pagination={true} rowKey=\"id\" size=\"small\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Modal } from 'antd';\r\nimport 'video.js/dist/video-js.css';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport CallRecordPlayer from '../../components/CallRecordPlayer';\r\nimport styles from './CallDetailModal.module.css';\r\nimport moment from 'moment';\r\n\r\nexport default function CallDetailModal({ showCallDetail, selected, setShowCallDetail }) {\r\n  return selected ? (\r\n    <Modal\r\n      title={\"Call - \" + moment(selected.createdAt).format('MMMM Do YYYY, h:mm:ss a')}\r\n      visible={showCallDetail}\r\n      onCancel={() => setShowCallDetail(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: \"600px\", overflow: \"auto\" }}\r\n    >\r\n      <div>\r\n        <div className={styles.recordTitle}>Student record:</div>\r\n        <CallRecordPlayer\r\n          url={`${serverUrl}api/call-histories/${selected.id}/studentVideo`}\r\n        />\r\n        <div className={styles.recordTitle}>Tutor record:</div>\r\n        <CallRecordPlayer\r\n          url={`${serverUrl}api/call-histories/${selected.id}/tutorVideo`}\r\n        />\r\n      </div>\r\n    </Modal>\r\n  ) : null\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Table } from 'antd';\r\nimport moment from 'moment';\r\nimport { getTimeFromMs } from '../../lib/utils/formatTime';\r\nimport CallDetailModal from './CallDetailModal';\r\n\r\nexport default function CallHistories({ callHistories }) {\r\n  const [showCallDetail, setShowCallDetail] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Student',\r\n      dataIndex: 'student',\r\n      render: student => {\r\n        return <div>{student.name}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Tutor',\r\n      dataIndex: 'tutor',\r\n      render: tutor => {\r\n        return <div>{tutor.name}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Duration',\r\n      dataIndex: 'duration',\r\n      render: duration => {\r\n        return <div>{getTimeFromMs(duration)}</div>;\r\n      }\r\n    }\r\n  ];\r\n  const onSelectRow = (record, index) => {\r\n    return {\r\n      onClick: event => {\r\n        setSelected(record);\r\n        setShowCallDetail(true);\r\n      }\r\n    };\r\n  };\r\n  return (\r\n    <div>\r\n      <CallDetailModal setShowCallDetail={setShowCallDetail} showCallDetail={showCallDetail} selected={selected} />\r\n      <Table\r\n        columns={columns}\r\n        dataSource={callHistories}\r\n        pagination={true}\r\n        onRow={onSelectRow}\r\n        rowKey=\"id\"\r\n        size=\"small\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Tag, Table } from 'antd';\r\nimport { REPORT_STATE } from '../../lib/constants';\r\nimport moment from 'moment';\r\n\r\nexport default function AccountReport({ reports }) {\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Reason',\r\n      dataIndex: 'reason'\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => {\r\n        if (state === REPORT_STATE.RESOLVED) {\r\n          return <Tag color=\"success\">Resolved</Tag>;\r\n        } else if (state === REPORT_STATE.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Cancelled</Tag>;\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Table rowKey=\"id\" columns={columns} dataSource={reports} pagination={true} size=\"small\" />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './StudentProfile.module.css';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Tag, Spin, Modal, Avatar, Tabs, Button, Descriptions } from 'antd';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport { STATES } from '../../lib/constants';\r\nimport { getTimeFromMs } from '../../lib/utils/formatTime';\r\nimport StudentSub from './StudentSub';\r\nimport CallHistories from './CallHistories';\r\nimport AccountReport from './AccountReport';\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function StudentProfile({ selected, getStudentsData, setShowDetailModal, showDetailModal }) {\r\n  const [loadingDetail, setLoadingDetail] = useState(false);\r\n  const [detail, setDetail] = useState(null);\r\n  const [stateLoading, setStateLoading] = useState(false);\r\n\r\n  const updateStateUser = async state => {\r\n    try {\r\n      setStateLoading(true);\r\n      await axios.put('/accounts/' + selected.accountId, { state: state });\r\n      await getStudentsData();\r\n      setStateLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setStateLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getStudentDetail = async () => {\r\n      try {\r\n        setLoadingDetail(true);\r\n        const result = await axios.get('/students/' + selected.id);\r\n        setDetail(result.data.student);\r\n        setLoadingDetail(false);\r\n      } catch (error) {\r\n        setLoadingDetail(false);\r\n      }\r\n    };\r\n    if (selected) {\r\n      getStudentDetail();\r\n    }\r\n  }, [selected]);\r\n\r\n  const renderDetail = detail ? (\r\n    <Tabs defaultActiveKey=\"profile\" type=\"card\">\r\n      <TabPane tab=\"Profile\" key=\"profile\">\r\n        <div className={styles.detail}>\r\n          <div className={styles.detailBasic}>\r\n            {detail.avatar ? (\r\n              <Avatar src={serverUrl + detail.avatar} size={100} />\r\n            ) : (\r\n              <Avatar icon={<UserOutlined />} size={100} />\r\n            )}\r\n            <div className={styles.detailBasicInfo}>\r\n              <Descriptions size=\"small\" column={1} title={detail.name} bordered>\r\n                <Descriptions.Item label=\"Username\">{selected.username}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Email\">{selected.email}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Birthdate\">\r\n                  {detail.birthdate ? moment(detail.birthdate).format('YYYY-MM-DD') : null}\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"Remaining time\">{getTimeFromMs(detail.remaining_time)}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Status\">\r\n                  {selected.verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>}\r\n                  {selected.state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>}\r\n                </Descriptions.Item>\r\n              </Descriptions>\r\n            </div>\r\n          </div>\r\n          <div className={styles.banBtnHolder}>\r\n            {selected.state ? (\r\n              <Button\r\n                loading={stateLoading}\r\n                className={styles.changeStateBtn}\r\n                type=\"primary\"\r\n                danger\r\n                onClick={() => updateStateUser(STATES.INACTIVE)}\r\n              >\r\n                Ban\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                loading={stateLoading}\r\n                className={styles.changeStateBtn}\r\n                type=\"primary\"\r\n                onClick={() => updateStateUser(STATES.ACTIVE)}\r\n              >\r\n                Unban\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <div className={styles.detailAdditional}>\r\n            <Descriptions bordered size=\"small\" column={1}>\r\n              <Descriptions.Item label=\"Phone\">{detail.phone}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Birthdate\">\r\n                {detail.birthdate ? moment(detail.birthdate).format('YYYY-MM-DD') : null}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Student level\">{detail.student_lvl}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Student type\">{detail.student_type}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Favorite accent\">{detail.accent}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Favorite tutor styles\">\r\n                {' '}\r\n                {detail.teaching_styles\r\n                  ? JSON.parse(detail.teaching_styles).map(style => {\r\n                      return <Tag key={style}>{style}</Tag>;\r\n                    })\r\n                  : null}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Interests\">\r\n                {detail.specialities\r\n                  ? JSON.parse(detail.specialities).map(speciality => {\r\n                      return <Tag key={speciality}>{speciality}</Tag>;\r\n                    })\r\n                  : null}\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n          </div>\r\n        </div>\r\n      </TabPane>\r\n      <TabPane tab=\"History\" key=\"history\">\r\n        <CallHistories callHistories={detail.call_histories} />\r\n      </TabPane>\r\n      <TabPane tab=\"Report\" key=\"report\">\r\n        <AccountReport reports={detail.account.reports} />\r\n      </TabPane>\r\n      <TabPane tab=\"Subscription\" key=\"subscription\">\r\n        <StudentSub subscriptions={detail.subscriptions} />\r\n      </TabPane>\r\n    </Tabs>\r\n  ) : null;\r\n\r\n  return (\r\n    <Modal\r\n      title={selected ? selected.name : null}\r\n      visible={showDetailModal}\r\n      onCancel={() => setShowDetailModal(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: '400px', overflow: 'auto' }}\r\n    >\r\n      <Spin spinning={loadingDetail}>{renderDetail}</Spin>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Table, Tag, Pagination, Spin, Input } from 'antd';\r\nimport styles from './Students.module.css';\r\nimport StudentProfile from './StudentProfile';\r\nimport { STATES, VERIFICATION } from '../../lib/constants';\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function Students() {\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [students, setStudents] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [searchKey, setSearchKey] = useState('');\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const getStudentsData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`/students?page=${page}&size=${pageSize}&search=` + searchKey);\r\n      const tableData = [];\r\n      result.data.students.forEach(student => {\r\n        tableData.push({\r\n          key: student.id,\r\n          id: student.id,\r\n          name: student.name,\r\n          username: student.account.username,\r\n          email: student.account.email,\r\n          state: student.account.state,\r\n          verification: student.account.verification,\r\n          accountId: student.account.id\r\n        });\r\n      });\r\n      setTotal(result.data.totalResults);\r\n      setStudents(tableData);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStudentsData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, pageSize, searchKey]);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name'\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username'\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email'\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => (state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>),\r\n      filters: [\r\n        {\r\n          text: 'Active',\r\n          value: STATES.ACTIVE\r\n        },\r\n        {\r\n          text: 'Inactive',\r\n          value: STATES.INACTIVE\r\n        }\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.state.toString().indexOf(Boolean(value)) === 0\r\n    },\r\n    {\r\n      title: 'Verification',\r\n      dataIndex: 'verification',\r\n      render: verification =>\r\n        verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>,\r\n      filters: [\r\n        {\r\n          text: 'Verified',\r\n          value: VERIFICATION.VERIFIED\r\n        },\r\n        {\r\n          text: 'Unverified',\r\n          value: VERIFICATION.UNVERIFIED\r\n        }\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.verification.toString().indexOf(Boolean(value)) === 0\r\n    }\r\n  ];\r\n\r\n  const showTotal = () => {\r\n    return `Total ${total} results`;\r\n  };\r\n\r\n  const changePageSize = (current, size) => {\r\n    setPageSize(size);\r\n    setPage(Math.ceil(total / size));\r\n  };\r\n\r\n  const changePage = (page, pageSize) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const onSelectRow = (record, index) => {\r\n    return {\r\n      onClick: event => {\r\n        setSelected(record);\r\n        setShowDetailModal(true);\r\n      }\r\n    };\r\n  };\r\n\r\n  const searchUser = value => {\r\n    setSearchKey(value);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.studentsLayout}>\r\n      <StudentProfile\r\n        setShowDetailModal={setShowDetailModal}\r\n        showDetailModal={showDetailModal}\r\n        getStudentsData={getStudentsData}\r\n        selected={selected}\r\n      />\r\n      <div className={styles.searchBar}>\r\n        <Search placeholder=\"Search for username, name or email\" onSearch={searchUser} enterButton />\r\n      </div>\r\n      <Spin spinning={loading}>\r\n        <Table columns={columns} dataSource={students} pagination={false} onRow={onSelectRow} />\r\n      </Spin>\r\n      <div className={styles.paginationWrapper}>\r\n        <Pagination\r\n          current={page}\r\n          defaultCurrent={page}\r\n          total={total}\r\n          pageSize={pageSize}\r\n          showSizeChanger\r\n          showTotal={showTotal}\r\n          onShowSizeChange={changePageSize}\r\n          onChange={changePage}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Tag, Table } from 'antd';\r\nimport { PAYMENT_STATE } from '../../lib/constants';\r\nimport moment from 'moment';\r\n\r\nexport default function TutorPayment({ payments }) {\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Price',\r\n      dataIndex: 'price'\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => {\r\n        if (state === PAYMENT_STATE.COMPLETED) {\r\n          return <Tag color=\"success\">Completed</Tag>;\r\n        } else if (state === PAYMENT_STATE.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Cancelled</Tag>;\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Table rowKey=\"id\" columns={columns} dataSource={payments} pagination={true} size=\"small\" />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport ReviewSummary from '../../components/ReviewSummary';\r\nimport Review from '../../components/Review';\r\nimport { List } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { getReviewCount } from '../../lib/utils/getReviewCount';\r\n\r\nexport default function TutorReviews({ selected }) {\r\n  const [reviews, setReviews] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      const getTutorReview = async () => {\r\n        try {\r\n          const result = await axios.get('/reviews/' + selected.id);\r\n          const ratingCount = getReviewCount(result.data.reviews);\r\n          setReviews({ ...result.data, ratingCount });\r\n        } catch (error) {\r\n          alert(error.response.data.message);\r\n        }\r\n      };\r\n      getTutorReview();\r\n    }\r\n  }, [selected]);\r\n  const reload = async () => {\r\n    try {\r\n      const result = await axios.get('/reviews/' + selected.id);\r\n      const ratingCount = getReviewCount(result.data.reviews);\r\n      setReviews({ ...result.data, ratingCount });\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n  let reviewsRender = null;\r\n  if (reviews) {\r\n    reviewsRender = (\r\n      <div>\r\n        <ReviewSummary reviews={reviews} />\r\n        <List\r\n          itemLayout=\"horizontal\"\r\n          dataSource={reviews.reviews}\r\n          renderItem={item => (\r\n            <List.Item>\r\n              <Review review={item} getTutorReview={reload} />\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  return reviewsRender;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './TutorProfile.module.css';\r\nimport { Tag, Spin, Modal, Avatar, Tabs, Button, Alert, Descriptions } from 'antd';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { UserOutlined, FileDoneOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport { STATES, PROFILE_STATUS } from '../../lib/constants';\r\nimport VideoPlayer from './VideoPlayer';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport CallHistories from './CallHistories';\r\nimport AccountReport from './AccountReport';\r\nimport TutorPayment from './TutorPayment';\r\nimport TutorReviews from './TutorReviews';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function TutorProfile({ selected, setShowDetailModal, getTutorsData, showDetailModal }) {\r\n  const [loadingDetail, setLoadingDetail] = useState(false);\r\n  const [detail, setDetail] = useState(null);\r\n  const [updateStatusLoading, setUpdateStatusLoading] = useState(false);\r\n  const [stateLoading, setStateLoading] = useState(false);\r\n\r\n  const updateProfileStatus = async status => {\r\n    try {\r\n      setUpdateStatusLoading(true);\r\n      await axios.put('/tutors/' + selected.id, { profileStatus: status });\r\n      await getTutorsData();\r\n      setUpdateStatusLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setUpdateStatusLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateStateUser = async state => {\r\n    try {\r\n      setStateLoading(true);\r\n      await axios.put('/accounts/' + selected.accountId, { state: state });\r\n      await getTutorsData();\r\n      setStateLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setStateLoading(false);\r\n      alert(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getTutorDetail = async () => {\r\n      try {\r\n        setLoadingDetail(true);\r\n        const result = await axios.get('/tutors/' + selected.id);\r\n        setDetail(result.data.tutor);\r\n        setLoadingDetail(false);\r\n      } catch (error) {\r\n        setLoadingDetail(false);\r\n      }\r\n    };\r\n    if (selected) {\r\n      getTutorDetail();\r\n    }\r\n  }, [selected]);\r\n\r\n  let statusControl = (\r\n    <div className={styles.statusControl}>\r\n      <Alert showIcon message=\"Rejected\" type=\"error\" />\r\n      <div className={styles.statusControlBtnWrapper}>\r\n        <Button\r\n          type=\"primary\"\r\n          style={{ backgroundColor: '#52c41a', color: 'white', borderColor: '#52c41a' }}\r\n          className={styles.statusControlBtn}\r\n          onClick={() => updateProfileStatus(PROFILE_STATUS.ACCEPTED)}\r\n        >\r\n          Accept\r\n        </Button>\r\n        <Button className={styles.statusControlBtn} onClick={() => updateProfileStatus(PROFILE_STATUS.PENDING)}>\r\n          Pending\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n  if (selected && selected.profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n    statusControl = (\r\n      <div className={styles.statusControl}>\r\n        <Alert showIcon message=\"Accepted\" type=\"success\" />\r\n        <div className={styles.statusControlBtnWrapper}>\r\n          <Button className={styles.statusControlBtn} onClick={() => updateProfileStatus(PROFILE_STATUS.PENDING)}>\r\n            Pending\r\n          </Button>\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            className={styles.statusControlBtn}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.REJECTED)}\r\n          >\r\n            Reject\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  if (selected && selected.profileStatus === PROFILE_STATUS.PENDING) {\r\n    statusControl = (\r\n      <div className={styles.statusControl}>\r\n        <Alert showIcon message=\"Pending\" type=\"info\" />\r\n        <div className={styles.statusControlBtnWrapper}>\r\n          <Button\r\n            className={styles.statusControlBtn}\r\n            style={{ backgroundColor: '#52c41a', color: 'white', borderColor: '#52c41a' }}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.ACCEPTED)}\r\n          >\r\n            Accept\r\n          </Button>\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            className={styles.statusControlBtn}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.REJECTED)}\r\n          >\r\n            Reject\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const tutorProfile = (\r\n    <div>\r\n      <Spin spinning={updateStatusLoading}>\r\n        {statusControl}\r\n        <div>\r\n          {detail ? (\r\n            <div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"Teaching preferences\">\r\n                  <Descriptions.Item label=\"Student level\">{detail.student_lvl}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Student type\">{detail.student_type}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Accent\">{detail.accent}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Fluency\">{detail.fluency}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Tutor styles\">\r\n                    {' '}\r\n                    {detail.teaching_styles\r\n                      ? JSON.parse(detail.teaching_styles).map(style => {\r\n                          return <Tag key={style}>{style}</Tag>;\r\n                        })\r\n                      : null}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"Specialities\">\r\n                    {detail.specialities\r\n                      ? JSON.parse(detail.specialities).map(speciality => {\r\n                          return <Tag key={speciality}>{speciality}</Tag>;\r\n                        })\r\n                      : null}\r\n                  </Descriptions.Item>\r\n                </Descriptions>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"CV\">\r\n                  <Descriptions.Item label=\"Interests\">{detail.interests}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Education\">{detail.education}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Experience\">{detail.experience}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Profession\">{detail.profession}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Reason\">{detail.reason}</Descriptions.Item>\r\n                </Descriptions>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <p className={styles.detailTitle}>Certificates</p>\r\n                <div className={styles.uploadedCert}>\r\n                  {detail.certificates\r\n                    ? JSON.parse(detail.certificates).map((cert, index) => {\r\n                        return (\r\n                          <a key={index} href={serverUrl + cert.path}>\r\n                            <FileDoneOutlined />\r\n                            {cert.originalname}\r\n                          </a>\r\n                        );\r\n                      })\r\n                    : null}\r\n                </div>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"Introduction\">\r\n                  <Descriptions.Item label=\"Introduction\">{detail.introduction}</Descriptions.Item>\r\n                </Descriptions>\r\n                {detail.video ? (\r\n                  <div className={styles.videoWrapper}>\r\n                    <VideoPlayer username={selected.username} />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </Spin>\r\n    </div>\r\n  );\r\n\r\n  const renderDetail = detail ? (\r\n    <Tabs defaultActiveKey=\"info\" type=\"card\">\r\n      <TabPane tab=\"Info\" key=\"info\">\r\n        <div className={styles.detail}>\r\n          <div className={styles.detailBasic}>\r\n            {detail.avatar ? (\r\n              <Avatar src={serverUrl + detail.avatar} size={100} />\r\n            ) : (\r\n              <Avatar icon={<UserOutlined />} size={100} />\r\n            )}\r\n            <div className={styles.detailBasicInfo}>\r\n              <Descriptions size=\"small\" column={1} title={detail.name} bordered>\r\n                <Descriptions.Item label=\"Username\">{selected.username}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Email\">{selected.email}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Phone\">{detail.phone}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Address\">{detail.address}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Birthdate\">\r\n                  {detail.birthdate ? moment(detail.birthdate).format('YYYY-MM-DD') : null}\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"Status\">\r\n                  {selected.verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>}\r\n                  {selected.state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>}\r\n                </Descriptions.Item>\r\n              </Descriptions>\r\n            </div>\r\n          </div>\r\n          <div className={styles.banBtnHolder}>\r\n            {selected.state ? (\r\n              <Button\r\n                loading={stateLoading}\r\n                className={styles.changeStateBtn}\r\n                type=\"primary\"\r\n                danger\r\n                onClick={() => updateStateUser(STATES.INACTIVE)}\r\n              >\r\n                Ban\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                loading={stateLoading}\r\n                className={styles.changeStateBtn}\r\n                type=\"primary\"\r\n                onClick={() => updateStateUser(STATES.ACTIVE)}\r\n              >\r\n                Unban\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </TabPane>\r\n      <TabPane tab=\"Profile\" key=\"profile\">\r\n        {tutorProfile}\r\n      </TabPane>\r\n      <TabPane tab=\"History\" key=\"history\">\r\n        <CallHistories callHistories={detail.call_histories} />\r\n      </TabPane>\r\n      <TabPane tab=\"Report\" key=\"report\">\r\n        <AccountReport reports={detail.account.reports} />\r\n      </TabPane>\r\n      <TabPane tab=\"Payment\" key=\"payment\">\r\n        <TutorPayment payments={detail.payments} />\r\n      </TabPane>\r\n      <TabPane tab=\"Reviews\" key=\"reviews\">\r\n        <TutorReviews selected={detail} />\r\n      </TabPane>\r\n    </Tabs>\r\n  ) : null;\r\n\r\n  return (\r\n    <Modal\r\n      title={selected ? selected.name : null}\r\n      visible={showDetailModal}\r\n      onCancel={() => setShowDetailModal(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: '400px', overflow: 'auto' }}\r\n    >\r\n      <Spin spinning={loadingDetail}>{renderDetail}</Spin>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Table, Tag, Pagination, Input, Spin } from 'antd';\r\nimport styles from './Tutors.module.css';\r\nimport { PROFILE_STATUS, STATES, VERIFICATION } from '../../lib/constants';\r\nimport TutorProfile from './TutorProfile';\r\nconst { Search } = Input;\r\n\r\nexport default function Tutors() {\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [tutors, setTutors] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [searchKey, setSearchKey] = useState('');\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const getTutorsData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`/tutors?page=${page}&size=${pageSize}&search=` + searchKey);\r\n      const tableData = [];\r\n      result.data.tutors.forEach(tutor => {\r\n        tableData.push({\r\n          key: tutor.id,\r\n          id: tutor.id,\r\n          name: tutor.name,\r\n          username: tutor.account.username,\r\n          email: tutor.account.email,\r\n          state: tutor.account.state,\r\n          verification: tutor.account.verification,\r\n          accountId: tutor.account.id,\r\n          profileStatus: tutor.profileStatus\r\n        });\r\n      });\r\n      setTotal(result.data.totalResults);\r\n      setTutors(tableData);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTutorsData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, pageSize, searchKey]);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name'\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username'\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email'\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => (state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>),\r\n      filters: [\r\n        {\r\n          text: 'Active',\r\n          value: STATES.ACTIVE\r\n        },\r\n        {\r\n          text: 'Inactive',\r\n          value: STATES.INACTIVE\r\n        }\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.state.toString().indexOf(Boolean(value)) === 0\r\n    },\r\n    {\r\n      title: 'Verification',\r\n      dataIndex: 'verification',\r\n      render: verification =>\r\n        verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>,\r\n      filters: [\r\n        {\r\n          text: 'Verified',\r\n          value: VERIFICATION.VERIFIED\r\n        },\r\n        {\r\n          text: 'Unverified',\r\n          value: VERIFICATION.UNVERIFIED\r\n        }\r\n      ],\r\n      filterMultiple: false,\r\n      onFilter: (value, record) => record.verification.toString().indexOf(Boolean(value)) === 0\r\n    },\r\n    {\r\n      title: 'Profile status',\r\n      dataIndex: 'profileStatus',\r\n      render: profileStatus => {\r\n        if (profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n          return <Tag color=\"success\">Accepted</Tag>;\r\n        } else if (profileStatus === PROFILE_STATUS.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Rejected</Tag>;\r\n        }\r\n      },\r\n      filters: [\r\n        {\r\n          text: 'Accepted',\r\n          value: PROFILE_STATUS.ACCEPTED\r\n        },\r\n        {\r\n          text: 'Pending',\r\n          value: PROFILE_STATUS.PENDING\r\n        },\r\n        {\r\n          text: 'Rejected',\r\n          value: PROFILE_STATUS.REJECTED\r\n        }\r\n      ],\r\n      onFilter: (value, record) => record.profileStatus.toString().indexOf(value) === 0\r\n    }\r\n  ];\r\n\r\n  const showTotal = () => {\r\n    return `Total ${total} results`;\r\n  };\r\n\r\n  const changePageSize = (current, size) => {\r\n    setPageSize(size);\r\n    setPage(Math.ceil(total / size));\r\n  };\r\n\r\n  const changePage = (page, pageSize) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const onSelectRow = (record, index) => {\r\n    return {\r\n      onClick: event => {\r\n        setSelected(record);\r\n        setShowDetailModal(true);\r\n      }\r\n    };\r\n  };\r\n\r\n  const searchUser = value => {\r\n    setSearchKey(value);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.tutorsLayout}>\r\n      <TutorProfile\r\n        selected={selected}\r\n        setShowDetailModal={setShowDetailModal}\r\n        showDetailModal={showDetailModal}\r\n        getTutorsData={getTutorsData}\r\n      />\r\n      <div className={styles.searchBar}>\r\n        <Search placeholder=\"Search for username, name or email\" onSearch={searchUser} enterButton />\r\n      </div>\r\n      <Spin spinning={loading}>\r\n        <Table columns={columns} dataSource={tutors} pagination={false} onRow={onSelectRow} />\r\n      </Spin>\r\n      <div className={styles.paginationWrapper}>\r\n        <Pagination\r\n          current={page}\r\n          defaultCurrent={page}\r\n          total={total}\r\n          pageSize={pageSize}\r\n          showSizeChanger\r\n          showTotal={showTotal}\r\n          onShowSizeChange={changePageSize}\r\n          onChange={changePage}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Modal, Button } from 'antd';\r\nimport 'video.js/dist/video-js.css';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport CallRecordPlayer from '../../components/CallRecordPlayer';\r\nimport styles from './ReportDetailModal.module.css';\r\nimport moment from 'moment';\r\nimport { REPORT_STATE, ROLES } from '../../lib/constants';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function ReportDetailModal({ showReportDetail, selected, setShowReportDetail, getReports }) {\r\n  const updateReport = async state => {\r\n    try {\r\n      await axios.put('/reports/' + selected.id, {\r\n        state\r\n      });\r\n      getReports();\r\n      setShowReportDetail(false);\r\n    } catch (error) {\r\n      setShowReportDetail(false);\r\n    }\r\n  };\r\n  return selected ? (\r\n    <Modal\r\n      title={'Report - ' + moment(selected.createdAt).format('MMMM Do YYYY, h:mm:ss a')}\r\n      visible={showReportDetail}\r\n      onCancel={() => setShowReportDetail(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: '600px', overflow: 'auto' }}\r\n    >\r\n      <div className={styles.reportDetail}>\r\n        <div className={styles.reportDetailContent}>\r\n          <div className={styles.reportLabel}>\r\n            Call at:{' '}\r\n            <span className={styles.reportContent}>\r\n              {moment(selected.call_history.createdAt).format('MMMM Do YYYY, h:mm:ss a')}\r\n            </span>\r\n          </div>\r\n          <div className={styles.reportLabel}>\r\n            Reason: <span className={styles.reportContent}>{selected.reason}</span>\r\n          </div>\r\n          <div className={styles.reportLabel}>\r\n            Description: <span className={styles.reportContent}>{selected.description}</span>\r\n          </div>\r\n          {selected.account.role === ROLES.STUDENT ? (\r\n            <div>\r\n              <div className={styles.reportLabel}>\r\n                Name: <span className={styles.reportContent}>{selected.call_history.student.name}</span>\r\n              </div>\r\n              <CallRecordPlayer url={`${serverUrl}api/call-histories/${selected.call_history.id}/studentVideo`} />\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className={styles.reportLabel}>\r\n                Name: <span className={styles.reportContent}>{selected.call_history.tutor.name}</span>\r\n              </div>\r\n              <CallRecordPlayer url={`${serverUrl}api/call-histories/${selected.call_history.id}/tutorVideo`} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        {selected.state === REPORT_STATE.PENDING ? (\r\n          <div className={styles.statusControlBtnWrapper}>\r\n            <Button\r\n              className={styles.statusControlBtn}\r\n              style={{ backgroundColor: '#52c41a', color: 'white', borderColor: '#52c41a' }}\r\n              onClick={() => updateReport(REPORT_STATE.RESOLVED)}\r\n            >\r\n              Resolve\r\n            </Button>\r\n            <Button\r\n              type=\"primary\"\r\n              danger\r\n              className={styles.statusControlBtn}\r\n              onClick={() => updateReport(REPORT_STATE.CANCELLED)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n        {selected.state === REPORT_STATE.RESOLVED ? (\r\n          <div className={styles.statusControlBtnWrapper}>\r\n            <Button className={styles.statusControlBtn} onClick={() => updateReport(REPORT_STATE.PENDING)}>\r\n              Pending\r\n            </Button>\r\n            <Button\r\n              type=\"primary\"\r\n              danger\r\n              className={styles.statusControlBtn}\r\n              onClick={() => updateReport(REPORT_STATE.CANCELLED)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n        {selected.state === REPORT_STATE.CANCELLED ? (\r\n          <div className={styles.statusControlBtnWrapper}>\r\n            <Button\r\n              className={styles.statusControlBtn}\r\n              style={{ backgroundColor: '#52c41a', color: 'white', borderColor: '#52c41a' }}\r\n              onClick={() => updateReport(REPORT_STATE.RESOLVED)}\r\n            >\r\n              Resolve\r\n            </Button>\r\n            <Button className={styles.statusControlBtn} onClick={() => updateReport(REPORT_STATE.PENDING)}>\r\n              Pending\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </Modal>\r\n  ) : null;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Table, Spin, Tag } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { REPORT_STATE, ROLES } from '../../lib/constants';\r\nimport moment from 'moment';\r\nimport styles from './Reports.module.css';\r\nimport ReportDetailModal from './ReportDetailModal';\r\n\r\nexport default function Report() {\r\n  const [reports, setReports] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [showReportDetail, setShowReportDetail] = useState(false);\r\n\r\n  const getReports = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await axios.get('/reports');\r\n      setReports(result.data.reports);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getReports();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Username',\r\n      render: (text, record) => {\r\n        return <div>{record.account.username}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Role',\r\n      render: (text, record) => {\r\n        if (record.account.role === ROLES.STUDENT) {\r\n          return <div>Student</div>;\r\n        } else {\r\n          return <div>Tutor</div>;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: 'Reason',\r\n      dataIndex: 'reason'\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => {\r\n        if (state === REPORT_STATE.RESOLVED) {\r\n          return <Tag color=\"success\">Resolved</Tag>;\r\n        } else if (state === REPORT_STATE.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Cancelled</Tag>;\r\n        }\r\n      },\r\n      filters: [\r\n        {\r\n          text: 'Resolved',\r\n          value: REPORT_STATE.RESOLVED\r\n        },\r\n        {\r\n          text: 'Pending',\r\n          value: REPORT_STATE.PENDING\r\n        },\r\n        {\r\n          text: 'Cancelled',\r\n          value: REPORT_STATE.CANCELLED\r\n        }\r\n      ],\r\n      onFilter: (value, record) => record.state.toString().indexOf(value) === 0\r\n    }\r\n  ];\r\n\r\n  const onSelectRow = (record, index) => {\r\n    return {\r\n      onClick: event => {\r\n        setSelected(record);\r\n        setShowReportDetail(true);\r\n      }\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className={styles.reports}>\r\n      <ReportDetailModal\r\n        setShowReportDetail={setShowReportDetail}\r\n        showReportDetail={showReportDetail}\r\n        selected={selected}\r\n        getReports={getReports}\r\n      />\r\n      <Spin spinning={loading}>\r\n        <Table columns={columns} dataSource={reports} pagination={true} rowKey=\"id\" onRow={onSelectRow} />\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Table, Spin, Tag, Popconfirm, Button } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { SUB_STATE, SUB_TIER } from '../../lib/constants';\r\nimport moment from 'moment';\r\nimport styles from './Subscriptions.module.css';\r\nimport { ReloadOutlined } from '@ant-design/icons';\r\n\r\nexport default function Subscriptions() {\r\n  const [studentSub, setStudentSub] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getStudentSub = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await axios.get('/subscriptions/');\r\n      const subs = [];\r\n      result.data.subscriptions.forEach(sub => {\r\n        sub.key = sub.id;\r\n        sub.username = sub.student.account.username;\r\n        sub.name = sub.student.name;\r\n        subs.push(sub);\r\n      });\r\n      setStudentSub(subs);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const cancelSubscription = async id => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.put('/subscriptions/' + id, {\r\n        state: SUB_STATE.CANCELED\r\n      });\r\n      getStudentSub();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const completeSubscription = async id => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.put('/subscriptions/' + id, {\r\n        state: SUB_STATE.COMPLETED\r\n      });\r\n      getStudentSub();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name'\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username'\r\n    },\r\n    {\r\n      title: 'Tier',\r\n      dataIndex: 'tier',\r\n      render: tier => {\r\n        if (tier === SUB_TIER.SILVER) {\r\n          return <Tag color=\"#C0C0C0\">Silver</Tag>;\r\n        } else if (tier === SUB_TIER.GOLD) {\r\n          return <Tag color=\"#DAA520\">Gold</Tag>;\r\n        } else if (tier === SUB_TIER.PLATIUM) {\r\n          return <Tag color=\"processing\">Platium</Tag>;\r\n        } else {\r\n          return <Tag>Normal</Tag>;\r\n        }\r\n      },\r\n      filters: [\r\n        {\r\n          text: 'Normal',\r\n          value: SUB_TIER.NORMAL\r\n        },\r\n        {\r\n          text: 'Silver',\r\n          value: SUB_TIER.SILVER\r\n        },\r\n        {\r\n          text: 'Gold',\r\n          value: SUB_TIER.GOLD\r\n        },\r\n        {\r\n          text: 'Platium',\r\n          value: SUB_TIER.PLATIUM\r\n        }\r\n      ],\r\n      onFilter: (value, record) => record.tier.toString().indexOf(value) === 0\r\n    },\r\n    {\r\n      title: 'Duration',\r\n      dataIndex: 'duration',\r\n      render: duration => {\r\n        return <div>{duration / 60000} mins</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Price',\r\n      dataIndex: 'price',\r\n      render: price => {\r\n        return <div>{price}$</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => {\r\n        if (state === SUB_STATE.COMPLETED) {\r\n          return <Tag color=\"success\">Completed</Tag>;\r\n        } else if (state === SUB_STATE.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Canceled</Tag>;\r\n        }\r\n      },\r\n      filters: [\r\n        {\r\n          text: 'Completed',\r\n          value: SUB_STATE.COMPLETED\r\n        },\r\n        {\r\n          text: 'Pending',\r\n          value: SUB_STATE.PENDING\r\n        },\r\n        {\r\n          text: 'Canceled',\r\n          value: SUB_STATE.CANCELED\r\n        }\r\n      ],\r\n      onFilter: (value, record) => record.state.toString().indexOf(value) === 0\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: 'state',\r\n      render: (text, record) => {\r\n        if (record.state === SUB_STATE.PENDING) {\r\n          return (\r\n            <div>\r\n              <Popconfirm\r\n                title=\"Do you want to accept this request?\"\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                className={styles.acceptBtn}\r\n                onConfirm={() => completeSubscription(record.id)}\r\n              >\r\n                Complete\r\n              </Popconfirm>\r\n              <Popconfirm\r\n                title=\"Do you want to cancel this request?\"\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                className={styles.cancelBtn}\r\n                onConfirm={() => cancelSubscription(record.id)}\r\n              >\r\n                Cancel\r\n              </Popconfirm>\r\n            </div>\r\n          );\r\n        } else {\r\n          return <div>N/A</div>;\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    getStudentSub();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className={styles.subscriptions}>\r\n      <Spin spinning={loading}>\r\n        <Button className={styles.reload} onClick={getStudentSub} icon={<ReloadOutlined />}>\r\n          Reload\r\n        </Button>\r\n        <Table columns={columns} dataSource={studentSub} pagination={true} />\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './Payment.module.css';\r\nimport { Table, Spin, Tag, Popconfirm, Button } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { PAYMENT_STATE } from '../../lib/constants';\r\nimport moment from 'moment';\r\nimport { ReloadOutlined } from '@ant-design/icons';\r\n\r\nexport default function Payment() {\r\n  const [payments, setPayments] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getPayments = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await axios.get('/payments/');\r\n      setPayments(result.data.payments);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updatePayment = async (id, state) => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.put('/payments/' + id, {\r\n        state: state\r\n      });\r\n      getPayments();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'createdAt',\r\n      render: createdAt => {\r\n        return <div>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'Name',\r\n      render: (text, record) => {\r\n        return record.tutor.name;\r\n      }\r\n    },\r\n    {\r\n      title: 'Username',\r\n      render: (text, record) => {\r\n        return record.tutor.account.username;\r\n      }\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'state',\r\n      render: (text, record) => {\r\n        return record.tutor.account.email;\r\n      }\r\n    },\r\n    {\r\n      title: 'Price',\r\n      dataIndex: 'price',\r\n      render: price => {\r\n        return <div>{price}$</div>;\r\n      }\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => {\r\n        if (state === PAYMENT_STATE.COMPLETED) {\r\n          return <Tag color=\"success\">Completed</Tag>;\r\n        } else if (state === PAYMENT_STATE.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>;\r\n        } else {\r\n          return <Tag color=\"error\">Cancelled</Tag>;\r\n        }\r\n      },\r\n      filters: [\r\n        {\r\n          text: 'Completed',\r\n          value: PAYMENT_STATE.COMPLETED\r\n        },\r\n        {\r\n          text: 'Pending',\r\n          value: PAYMENT_STATE.PENDING\r\n        },\r\n        {\r\n          text: 'Canceled',\r\n          value: PAYMENT_STATE.CANCELED\r\n        }\r\n      ],\r\n      onFilter: (value, record) => record.state.toString().indexOf(value) === 0\r\n    },\r\n    {\r\n      title: 'Action',\r\n      render: (text, record) => {\r\n        if (record.state === PAYMENT_STATE.PENDING) {\r\n          return (\r\n            <div>\r\n              <Popconfirm\r\n                title=\"Do you want to perform this action?\"\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                className={styles.acceptBtn}\r\n                onConfirm={() => updatePayment(record.id, PAYMENT_STATE.COMPLETED)}\r\n              >\r\n                Complete\r\n              </Popconfirm>\r\n              <Popconfirm\r\n                title=\"Do you want to perform this action?\"\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                className={styles.cancelBtn}\r\n                onConfirm={() => updatePayment(record.id, PAYMENT_STATE.CANCELED)}\r\n              >\r\n                Cancel\r\n              </Popconfirm>\r\n            </div>\r\n          );\r\n        } else if (record.state === PAYMENT_STATE.COMPLETED) {\r\n          return (\r\n            <div>\r\n              <Popconfirm\r\n                title=\"Do you want to perform this action?\"\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                className={styles.pendingBtn}\r\n                onConfirm={() => updatePayment(record.id, PAYMENT_STATE.PENDING)}\r\n              >\r\n                Pending\r\n              </Popconfirm>\r\n              <Popconfirm\r\n                title=\"Do you want to perform this action?\"\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                className={styles.cancelBtn}\r\n                onConfirm={() => updatePayment(record.id, PAYMENT_STATE.CANCELED)}\r\n              >\r\n                Cancel\r\n              </Popconfirm>\r\n            </div>\r\n          );\r\n        } else {\r\n          return (\r\n            <div>\r\n              <Popconfirm\r\n                title=\"Do you want to perform this action?\"\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                className={styles.acceptBtn}\r\n                onConfirm={() => updatePayment(record.id, PAYMENT_STATE.COMPLETED)}\r\n              >\r\n                Complete\r\n              </Popconfirm>\r\n              <Popconfirm\r\n                title=\"Do you want to perform this action?\"\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                className={styles.pendingBtn}\r\n                onConfirm={() => updatePayment(record.id, PAYMENT_STATE.PENDING)}\r\n              >\r\n                Pending\r\n              </Popconfirm>\r\n            </div>\r\n          );\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    getPayments();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className={styles.payments}>\r\n      <Spin spinning={loading}>\r\n        <Button className={styles.reload} onClick={getPayments} icon={<ReloadOutlined />}>\r\n          Reload\r\n        </Button>\r\n        <Table rowKey=\"id\" columns={columns} dataSource={payments} pagination={true} />\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { TUTOR_PRICE, STUDENT_PRICE, DISCOUNT_RATE } from '../../lib/constants';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Spin, Form, InputNumber, Button } from 'antd';\r\nimport SettingImg from '../../assets/settings.png';\r\nimport styles from './Settings.module.css';\r\n\r\nexport default function Settings() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [discount, setDiscount] = useState(null);\r\n  const [studentPrice, setStudentPrice] = useState(null);\r\n  const [tutorPrice, setTutorPrice] = useState(null);\r\n\r\n  const [updatingStudent, setUpdatingStudent] = useState(false);\r\n  const [updatingTutor, setUpdatingTutor] = useState(false);\r\n  const [updatingDiscount, setUpdatingDiscount] = useState(false);\r\n\r\n  const getSettings = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await axios.get('/settings');\r\n      result.data.settings.forEach(setting => {\r\n        if (setting.type === DISCOUNT_RATE) {\r\n          setDiscount(setting);\r\n        }\r\n        if (setting.type === STUDENT_PRICE) {\r\n          setStudentPrice(setting);\r\n        }\r\n        if (setting.type === TUTOR_PRICE) {\r\n          setTutorPrice(setting);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n    setLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    getSettings();\r\n  }, []);\r\n\r\n  const checkPrice = (rule, value) => {\r\n    if (value > 0) {\r\n      return Promise.resolve();\r\n    }\r\n    return Promise.reject('Invalid price!');\r\n  };\r\n\r\n  const checkRate = (rule, value) => {\r\n    if (value > 0 && value <= 1) {\r\n      return Promise.resolve();\r\n    }\r\n    return Promise.reject('Invalid rate!');\r\n  };\r\n\r\n  const updateTutorPrice = async value => {\r\n    setUpdatingTutor(true);\r\n    try {\r\n      await axios.put('/settings/' + tutorPrice.id, {\r\n        content: value.tutorPrice\r\n      });\r\n      getSettings();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n    setUpdatingTutor(false);\r\n  };\r\n\r\n  const updateStudentPrice = async value => {\r\n    setUpdatingStudent(true);\r\n    try {\r\n      await axios.put('/settings/' + studentPrice.id, {\r\n        content: value.studentPrice\r\n      });\r\n      getSettings();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n    setUpdatingStudent(false);\r\n  };\r\n\r\n  const updateDiscount = async value => {\r\n    setUpdatingDiscount(true);\r\n    try {\r\n      await axios.put('/settings/' + discount.id, {\r\n        content: JSON.stringify(value)\r\n      });\r\n      getSettings();\r\n    } catch (error) {\r\n      alert(error.response.data.message);\r\n    }\r\n    setUpdatingDiscount(false);\r\n  };\r\n\r\n  return (\r\n    <Spin spinning={loading}>\r\n      <div className={styles.settings}>\r\n        <div className={styles.settingsContent}>\r\n          <img className={styles.settingImg} src={SettingImg} alt=\"\" draggable=\"false\" />\r\n        </div>\r\n        <div>\r\n          <div className={styles.settingsContent}>\r\n            <p className={styles.settingTitle}>Set price per min</p>\r\n            {studentPrice && tutorPrice ? (\r\n              <div>\r\n                <Form\r\n                  name=\"tutor\"\r\n                  layout=\"inline\"\r\n                  style={{ marginBottom: '20px' }}\r\n                  onFinish={updateTutorPrice}\r\n                  initialValues={{ tutorPrice: Number(tutorPrice.content) }}\r\n                >\r\n                  <Form.Item\r\n                    name=\"tutorPrice\"\r\n                    label=\"Tutor payment\"\r\n                    rules={[\r\n                      {\r\n                        validator: checkPrice,\r\n                        required: true\r\n                      }\r\n                    ]}\r\n                  >\r\n                    <InputNumber\r\n                      formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                      parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                    />\r\n                  </Form.Item>\r\n                  <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={updatingTutor}>\r\n                      Update\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Form>\r\n                <Form\r\n                  name=\"student\"\r\n                  layout=\"inline\"\r\n                  style={{ marginLeft: '7px' }}\r\n                  onFinish={updateStudentPrice}\r\n                  initialValues={{ studentPrice: Number(studentPrice.content) }}\r\n                >\r\n                  <Form.Item\r\n                    name=\"studentPrice\"\r\n                    label=\"Student price\"\r\n                    rules={[\r\n                      {\r\n                        validator: checkPrice,\r\n                        required: true\r\n                      }\r\n                    ]}\r\n                  >\r\n                    <InputNumber\r\n                      formatter={value => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                      parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                    />\r\n                  </Form.Item>\r\n                  <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={updatingStudent}>\r\n                      Update\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Form>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          <div className={styles.settingsContent}>\r\n            <p className={styles.settingTitle}>Set discount rate</p>\r\n            {discount ? (\r\n              <div>\r\n                <Form\r\n                  name=\"discount\"\r\n                  onFinish={updateDiscount}\r\n                  initialValues={JSON.parse(discount.content)}\r\n                  labelCol={{ span: 14 }}\r\n                  wrapperCol={{ span: 4 }}\r\n                >\r\n                  <Form.Item\r\n                    name=\"NORMAL\"\r\n                    label=\"Normal tier\"\r\n                    rules={[\r\n                      {\r\n                        validator: checkRate,\r\n                        required: true\r\n                      }\r\n                    ]}\r\n                  >\r\n                    <InputNumber />\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    name=\"SILVER\"\r\n                    label=\"Silver tier\"\r\n                    rules={[\r\n                      {\r\n                        validator: checkRate,\r\n                        required: true\r\n                      }\r\n                    ]}\r\n                  >\r\n                    <InputNumber />\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    name=\"GOLD\"\r\n                    label=\"Gold tier\"\r\n                    rules={[\r\n                      {\r\n                        validator: checkRate,\r\n                        required: true\r\n                      }\r\n                    ]}\r\n                  >\r\n                    <InputNumber />\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    name=\"PLATIUM\"\r\n                    label=\"Platium tier\"\r\n                    rules={[\r\n                      {\r\n                        validator: checkRate,\r\n                        required: true\r\n                      }\r\n                    ]}\r\n                  >\r\n                    <InputNumber />\r\n                  </Form.Item>\r\n                  <Form.Item wrapperCol={{ offset: 7 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={updatingDiscount}>\r\n                      Update\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Form>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport { Layout, Menu, Dropdown, Avatar } from 'antd';\r\nimport {\r\n  BarChartOutlined,\r\n  IdcardOutlined,\r\n  TeamOutlined,\r\n  DownOutlined,\r\n  ExceptionOutlined,\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  KeyOutlined,\r\n  LogoutOutlined,\r\n  CreditCardOutlined,\r\n  DollarCircleOutlined,\r\n  SettingOutlined\r\n} from '@ant-design/icons';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\nimport styles from './Admin.module.css';\r\nimport Dashboard from './Dashboard';\r\nimport Students from './Students';\r\nimport Tutors from './Tutors';\r\nimport AvatarPic from '../../assets/admin-avatar.png';\r\nimport Reports from './Reports';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\nimport Subscriptions from './Subscriptions';\r\nimport Payment from './Payment';\r\nimport Settings from './Settings';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Admin(props) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { onSignOut, account } = useContext(AccountContext);\r\n  const { location } = props;\r\n\r\n  const onCollapse = collapsed => {\r\n    setCollapsed(collapsed);\r\n  };\r\n\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined />\r\n        <span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined />\r\n        <span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider collapsible collapsed={collapsed} onCollapse={onCollapse} className={styles.adminMenu}>\r\n        <SideBarLogo collapsed={collapsed} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={['/admin']} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/admin\">\r\n            <BarChartOutlined />\r\n            <Link to=\"/admin\">\r\n              <span>Dashboard</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/students\">\r\n            <TeamOutlined />\r\n            <Link to=\"/admin/students\">\r\n              <span>Students</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/tutors\">\r\n            <IdcardOutlined />\r\n            <Link to=\"/admin/tutors\">\r\n              <span>Tutors</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/reports\">\r\n            <ExceptionOutlined />\r\n            <Link to=\"/admin/reports\">\r\n              <span>Reports</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/subscriptions\">\r\n            <CreditCardOutlined />\r\n            <Link to=\"/admin/subscriptions\">\r\n              <span>Subscriptions</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/payments\">\r\n            <DollarCircleOutlined />\r\n            <Link to=\"/admin/payments\">\r\n              <span>Payments</span>\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/settings\">\r\n            <SettingOutlined />\r\n            <Link to=\"/admin/settings\">\r\n              <span>Settings</span>\r\n            </Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header style={{ background: 'white' }}>\r\n          {collapsed ? (\r\n            <MenuUnfoldOutlined className={styles.menuIcon} onClick={() => setCollapsed(false)} />\r\n          ) : (\r\n            <MenuFoldOutlined className={styles.menuIcon} onClick={() => setCollapsed(true)} />\r\n          )}\r\n          <div className={styles.userControl}>\r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div>\r\n                <Avatar src={AvatarPic} size=\"large\" draggable={false} />\r\n                <DownOutlined className={styles.dropDownIcon} />\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/admin/students\" component={Students} />\r\n            <Route path=\"/admin/tutors\" component={Tutors} />\r\n            <Route path=\"/admin/reports\" component={Reports} />\r\n            <Route path=\"/admin/subscriptions\" component={Subscriptions} />\r\n            <Route path=\"/admin/payments\" component={Payment} />\r\n            <Route path=\"/admin/settings\" component={Settings} />\r\n            <Route path=\"/admin\" component={Dashboard} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { removeAccountInfo } from '../lib/utils/getAccountInfo';\r\n\r\nexport default function SignOut() {\r\n  useEffect(() => {\r\n    removeAccountInfo();\r\n  }, []);\r\n  return <Redirect to=\"/\" />\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport Default from '../pages/default/Default';\r\nimport Student from '../pages/student/Student';\r\nimport Tutor from '../pages/tutor/Tutor';\r\nimport Admin from '../pages/admin/Admin';\r\nimport { ROLES } from '../lib/constants';\r\nimport SignOut from './SignOut';\r\n\r\nexport default function Router() {\r\n  const { account } = useContext(AccountContext);\r\n  if (account && account.role === ROLES.STUDENT) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/student\" component={Student} />\r\n        <Redirect to=\"/student\" />\r\n      </Switch>\r\n    );\r\n  } else if (account && account.role === ROLES.TUTOR) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/tutor\" component={Tutor} />\r\n        <Redirect to=\"/tutor\" />\r\n      </Switch>\r\n    );\r\n  } else if (account && account.role === ROLES.ADMIN) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/admin\" component={Admin} />\r\n        <Redirect to=\"/admin\" />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Default} />\r\n        <Route path=\"/sign-out\" component={SignOut} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport AccountContextProvider from './context/AccountContext';\r\nimport Router from './components/Router';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <AccountContextProvider>\r\n        <Router />\r\n      </AccountContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\nimport 'antd/dist/antd.css'\r\n\r\nconst app = (\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tutorInfo\":\"TutorCard_tutorInfo__3fs99\",\"tutorInfoDetail\":\"TutorCard_tutorInfoDetail__2tfkM\",\"tutorCard\":\"TutorCard_tutorCard__1tngP\",\"status\":\"TutorCard_status__3Qpdk\",\"tutorName\":\"TutorCard_tutorName__25Xhw\",\"reviewCount\":\"TutorCard_reviewCount__3uutv\",\"reviewWrapper\":\"TutorCard_reviewWrapper__3gDmH\",\"viewReviews\":\"TutorCard_viewReviews__Ej5t6\",\"removeFav\":\"TutorCard_removeFav__3Im8y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"teaching\":\"Teaching_teaching__R4VgK\",\"waitImg\":\"Teaching_waitImg__30A-0\",\"wait\":\"Teaching_wait__Z1hyj\",\"waitTxt\":\"Teaching_waitTxt__1Up26\",\"teachingWrapper\":\"Teaching_teachingWrapper__2Zo8F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"payments\":\"Payment_payments__Qo2Af\",\"acceptBtn\":\"Payment_acceptBtn__1mzcp\",\"cancelBtn\":\"Payment_cancelBtn__e69t_\",\"pendingBtn\":\"Payment_pendingBtn__2z9xm\",\"reload\":\"Payment_reload__14ifB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"callWindow\":\"CallWindow_callWindow__E4L0T\",\"videoScreenContainer\":\"CallWindow_videoScreenContainer__Lo45k\",\"videoScreen\":\"CallWindow_videoScreen__Wmw8B\",\"videoControl\":\"CallWindow_videoControl__1mmEE\",\"callWindowWrapper\":\"CallWindow_callWindowWrapper__1JAqt\",\"callTime\":\"CallWindow_callTime__22Crh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tutorList\":\"TutorList_tutorList__3agKo\",\"tabPane\":\"TutorList_tabPane__2WIHS\",\"searchBar\":\"TutorList_searchBar__1s5SF\",\"remainingTimeTitle\":\"TutorList_remainingTimeTitle__1lCLu\",\"searchTool\":\"TutorList_searchTool__scwEp\"};"],"sourceRoot":""}