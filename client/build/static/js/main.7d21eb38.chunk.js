(this["webpackJsonpmirage-client"]=this["webpackJsonpmirage-client"]||[]).push([[0],{12:function(e,t,a){e.exports={headerContent:"Default_headerContent__3ZlIu",headerWrapper:"Default_headerWrapper__38tsy",headerTitle:"Default_headerTitle__2hglY",headerIcon:"Default_headerIcon__weAJ2",userButton:"Default_userButton__3RtJ9",registerButton:"Default_registerButton__2NXqe",userButtonContainer:"Default_userButtonContainer__hqXNR",defaultBody:"Default_defaultBody__20Ojr",introContainer:"Default_introContainer__2Y07C",welcomeText:"Default_welcomeText__1QUl0",welcomeDescription:"Default_welcomeDescription__1QYFE",introContent:"Default_introContent__16UXl",introImg:"Default_introImg__2XQ5a",becomeTutor:"Default_becomeTutor__1xiNf"}},15:function(e,t,a){e.exports={registerContent:"RegisterModal_registerContent__80mK1",registerWelcome:"RegisterModal_registerWelcome__19TFP",registerForm:"RegisterModal_registerForm__10uvC",registerButton:"RegisterModal_registerButton__2svL6",formWrapper:"RegisterModal_formWrapper__sEKbp",switchMode:"RegisterModal_switchMode__27SKS",switchModeWrapper:"RegisterModal_switchModeWrapper__2HPSb",welcomeImg:"RegisterModal_welcomeImg__OQ1qZ",registerWelcomeContent:"RegisterModal_registerWelcomeContent__3vQbH"}},156:function(e,t,a){e.exports=a.p+"static/media/flame-welcome.2b090893.png"},157:function(e,t,a){e.exports=a.p+"static/media/app-logo.05772604.png"},158:function(e,t,a){e.exports=a.p+"static/media/welcome-student.0c7630e5.png"},159:function(e,t,a){e.exports=a.p+"static/media/welcome-tutor.66b32adc.png"},185:function(e,t,a){e.exports=a(365)},363:function(e,t,a){},365:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),l=a.n(o),c=a(30),s=a(41),i=a(8),m=a(184),u=a(155),d=a.n(u),p=new m.a,E=function(){console.log("Nani"),p.remove("access_token")},g=Object(n.createContext)(null),f=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),o=a[0],l=a[1];Object(n.useEffect)((function(){if(JSON.parse(localStorage.getItem("remember"))){var e=function(){var e=null,t=p.get("access_token");return t&&(e=d()(t)),e}();e&&(console.log(e),l(e))}}),[]);return r.a.createElement(g.Provider,Object.assign({value:{account:o,onSignIn:function(e){l(e)},onSignOut:function(){E(),localStorage.clear(),l(null)}}},e))},h=a(12),b=a.n(h),_=a(366),w=a(40),v=a(367),C=a(50),I=a.n(C),y=a(380),N=a(375),S=a(378);function O(){return r.a.createElement("div",{className:I.a.footerContent},r.a.createElement("div",{className:I.a.contactIconContainer},r.a.createElement(y.a,{className:I.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://github.com/huynguyend191")}}),r.a.createElement(N.a,{className:I.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://www.facebook.com/sneezingcat191")}}),r.a.createElement(S.a,{className:I.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://www.instagram.com/sneezingcat191/")}})),r.a.createElement("div",{className:I.a.contactInfoContainer},r.a.createElement("p",null,"Mirage 2020 - English Video Call Platform"),r.a.createElement("p",null,"Contact: huynguyend191@gmail.com")))}var x=a(156),k=a.n(x),j=a(157),F=a.n(j),M=a(11),T=a.n(M),D=a(25),R=a(368),B=a(369),P=a(371),W=a(15),q=a.n(W),U=a(158),V=a.n(U),z=a(159),A=a.n(z),Q=a(160),H=a.n(Q).a.create({baseURL:"https://mirage-video-call.herokuapp.com/api",withCredentials:!0});function J(e){var t=Object(n.useState)(e.isStudent),a=Object(i.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),m=s[0],u=s[1],d=R.a.useForm(),p=Object(i.a)(d,1)[0],E=Object(n.useContext)(g).onSignIn;Object(n.useEffect)((function(){l(e.isStudent)}),[e.isStudent]);var f=function(){var e=Object(D.a)(T.a.mark((function e(t){var a,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),a=o?"/students":"/tutors",n={username:t.username,password:t.password,email:t.email,name:t.name},e.next=6,H.post(a+"/register",n);case 6:r=e.sent,u(!1),E(r.data.account),localStorage.setItem("remember",!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),u(!1),console.log(e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=r.a.createElement("div",{className:q.a.registerWelcomeContent},r.a.createElement("img",{className:q.a.welcomeImg,draggable:!1,src:V.a,alt:""}),r.a.createElement("h3",null,"Experience new way of studying English"),r.a.createElement("h4",null,"Improve your English anywhere anytime"),r.a.createElement("h4",null,"Learn from interesting people around the world")),b=r.a.createElement("div",{className:q.a.registerWelcomeContent},r.a.createElement("img",{className:q.a.welcomeImg,draggable:!1,src:A.a,alt:""}),r.a.createElement("h3",null,"Tutoring with Mirage is fun & rewarding"),r.a.createElement("h4",null,"No experience necessary"),r.a.createElement("h4",null,"Share your knowledge with people and get paid"));return r.a.createElement(B.a,{visible:e.isVisible,footer:null,title:"Register",onCancel:function(){p.resetFields(),e.onClose()},width:"800px"},r.a.createElement("div",{className:q.a.registerContent},r.a.createElement("div",{className:q.a.registerWelcome},o?r.a.createElement("div",null,h):r.a.createElement("div",null,b)),r.a.createElement("div",{className:q.a.formWrapper},r.a.createElement(R.a,Object.assign({name:"register",onFinish:f,scrollToFirstError:!0,className:q.a.registerForm,form:p},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),r.a.createElement(R.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(P.a,null)),r.a.createElement(R.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input your username!",whitespace:!1}]},r.a.createElement(P.a,null)),r.a.createElement(R.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(P.a.Password,null)),r.a.createElement(R.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(P.a.Password,null)),r.a.createElement(R.a.Item,{name:"name",label:"Full name",rules:[{required:!0,message:"Please input your fullname!",whitespace:!0}]},r.a.createElement(P.a,null)),r.a.createElement(R.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(w.a,{type:"primary",htmlType:"submit",className:q.a.registerButton,shape:"round",disabled:m},"Register"),r.a.createElement("p",{className:q.a.switchModeWrapper},"Or",r.a.createElement("span",{onClick:function(){l(!o)},className:q.a.switchMode}," become a ",o?"tutor":"student"," instead")),r.a.createElement("p",{className:q.a.switchModeWrapper},"Already have an account? ",r.a.createElement("span",{onClick:function(){e.onClose(),e.onSwitchSignIn()},className:q.a.switchMode}," Sign in")))))))}var K=a(372),Y=a(377),L=a(376),X=a(68),Z=a.n(X);function G(e){var t=e.isVisible,a=e.onClose,o=e.onSwitchRegister,l=R.a.useForm(),c=Object(i.a)(l,1)[0],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useContext)(g).onSignIn,E=function(){var e=Object(D.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),a={user:t.user,password:t.password},localStorage.setItem("remember",t.remember),e.next=6,H.post("/accounts/sign-in",a);case 6:n=e.sent,d(!1),p(n.data.account),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d(!1),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(B.a,{visible:t,footer:null,onCancel:function(){c.resetFields(),a()},title:"Sign in",width:"400px"},r.a.createElement(R.a,{name:"normal_sign_in",className:Z.a.signInForm,initialValues:{remember:!0},onFinish:E,form:c},r.a.createElement(R.a.Item,{name:"user",rules:[{required:!0,message:"Please input your username or email!"}]},r.a.createElement(P.a,{prefix:r.a.createElement(Y.a,{className:"site-form-item-icon"}),placeholder:"Username or email"})),r.a.createElement(R.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(P.a,{prefix:r.a.createElement(L.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(R.a.Item,null,r.a.createElement(R.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(K.a,null,"Remember me")),r.a.createElement("a",{className:Z.a.signInForgot,href:"/"},"Forgot password")),r.a.createElement(R.a.Item,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit",className:Z.a.signInButton,shape:"round",disabled:u},"Log in"),"Don't have anccount? ",r.a.createElement("span",{className:Z.a.registerNow,onClick:function(){a(),o(!0)}},"Register now!"))))}var $=_.a.Header,ee=_.a.Content,te=_.a.Footer;function ae(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(!0),d=Object(i.a)(u,2),p=d[0],E=d[1],g=function(e){E(e),o(!0)},f=function(){m(!0)};return r.a.createElement(_.a,null,r.a.createElement(G,{isVisible:s,onClose:function(){m(!1)},onSwitchRegister:g}),r.a.createElement(J,{isVisible:a,onClose:function(){o(!1)},isStudent:p,onSwitchSignIn:f}),r.a.createElement($,null,r.a.createElement("div",{className:b.a.headerContent},r.a.createElement("div",{className:b.a.headerWrapper},r.a.createElement("img",{className:b.a.headerIcon,src:F.a,draggable:!1,alt:""}),r.a.createElement("h1",{className:b.a.headerTitle},"MIRAGE")),r.a.createElement("div",{className:b.a.userButtonContainer},r.a.createElement(w.a,{className:b.a.userButton,type:"secondary",shape:"round",onClick:function(){return f()}},"Sign in"),r.a.createElement(w.a,{className:b.a.userButton,type:"primary",shape:"round",onClick:function(){return g(!0)}},"Register")))),r.a.createElement(ee,null,r.a.createElement("div",{className:b.a.defaultBody},r.a.createElement("div",{className:b.a.introContainer},r.a.createElement("img",{className:b.a.introImg,draggable:!1,src:k.a,alt:""}),r.a.createElement("div",{className:b.a.introContent},r.a.createElement("p",{className:b.a.welcomeText},"Welcome to Mirage!"),r.a.createElement("p",{className:b.a.welcomeDescription},"\u201cGo on, say something in English!\u201d"),r.a.createElement(w.a,{className:b.a.registerButton,type:"primary",shape:"round",onClick:function(){return g(!0)}},"STUDY NOW"),r.a.createElement(v.a,{style:{width:"300px"}},"OR"),r.a.createElement(w.a,{className:b.a.registerButton,type:"secondary",shape:"round",onClick:function(){return g(!1)}},"BECOME TUTOR"))))),r.a.createElement(te,null,r.a.createElement(O,null)))}function ne(){var e=Object(n.useContext)(g).account,t=function(){var t=Object(D.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.post("/accounts/resend-verify",{email:e.email});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0.response);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",null,"Please check your email!"),r.a.createElement("button",{onClick:t},"Resend verification"))}function re(){var e=Object(n.useContext)(g),t=e.account,a=e.onSignOut;return t.verification?r.a.createElement("div",null,r.a.createElement("button",{onClick:a},"Sign out")):r.a.createElement("div",null,r.a.createElement(ne,null),r.a.createElement("button",{onClick:a},"Sign outt"))}function oe(){var e=Object(n.useContext)(g),t=e.account,a=e.onSignOut;return t.verification?r.a.createElement("div",null,r.a.createElement("button",{onClick:a},"Sign out")):r.a.createElement("div",null,r.a.createElement(ne,null),r.a.createElement("button",{onClick:a},"Sign out"))}var le=a(370),ce=a(374),se=a(379),ie=a(373);function me(){return r.a.createElement("div",null,"Dashboard")}function ue(){return r.a.createElement("div",null,"Student")}function de(){return r.a.createElement("div",null,"Tutor")}var pe=_.a.Header,Ee=_.a.Content,ge=_.a.Footer,fe=_.a.Sider;function he(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),o=a[0],l=a[1],m=e.location,u=Object(n.useContext)(g).onSignOut;return r.a.createElement(_.a,{style:{minHeight:"100vh"}},r.a.createElement(fe,{collapsible:!0,collapsed:o,onCollapse:function(e){l(e)}},r.a.createElement(le.a,{theme:"dark",defaultSelectedKeys:["/admin"],mode:"inline",selectedKeys:[m.pathname]},r.a.createElement(le.a.Item,{key:"/admin"},r.a.createElement(ce.a,null),r.a.createElement(c.b,{to:"/admin"},r.a.createElement("span",null,"Dashboard"))),r.a.createElement(le.a.Item,{key:"/admin/students"},r.a.createElement(se.a,null),r.a.createElement(c.b,{to:"/admin/students"},r.a.createElement("span",null,"Students"))),r.a.createElement(le.a.Item,{key:"/admin/tutors"},r.a.createElement(ie.a,null),r.a.createElement(c.b,{to:"/admin/tutors"},r.a.createElement("span",null,"Tutors"))))),r.a.createElement(_.a,null,r.a.createElement(pe,null,r.a.createElement("button",{onClick:u},"Sign out")),r.a.createElement(Ee,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/admin/students",component:ue}),r.a.createElement(s.b,{path:"/admin/tutors",component:de}),r.a.createElement(s.b,{path:"/admin",component:me}))),r.a.createElement(ge,null,r.a.createElement(O,null))))}var be=Object.freeze({ADMIN:1,TUTOR:2,STUDENT:3});function _e(){return Object(n.useEffect)((function(){E()}),[]),r.a.createElement(s.a,{to:"/"})}function we(){var e=Object(n.useContext)(g).account;return e&&e.role===be.STUDENT?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/student",component:re}),r.a.createElement(s.a,{to:"/student"})):e&&e.role===be.TUTOR?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/tutor",component:oe}),r.a.createElement(s.a,{to:"/tutor"})):e&&e.role===be.ADMIN?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/admin",component:he}),r.a.createElement(s.a,{to:"/admin"})):r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:ae}),r.a.createElement(s.b,{path:"/sign-out",component:_e}),r.a.createElement(s.a,{to:"/"}))}var ve=Object(s.g)((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null,r.a.createElement(we,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(363),a(364);var Ce=r.a.createElement(c.a,null,r.a.createElement(ve,null));l.a.render(Ce,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={footerContent:"FooterContent_footerContent__9vnNg",contactIcon:"FooterContent_contactIcon__3hiC-",contactInfoContainer:"FooterContent_contactInfoContainer__1g1QB"}},68:function(e,t,a){e.exports={signInForm:"SignInModal_signInForm__6dOkt",signInForgot:"SignInModal_signInForgot__YZfZh",signInButton:"SignInModal_signInButton__1e1-r",registerNow:"SignInModal_registerNow__1-qv7"}}},[[185,1,2]]]);
//# sourceMappingURL=main.7d21eb38.chunk.js.map