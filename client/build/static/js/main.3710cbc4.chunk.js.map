{"version":3,"sources":["components/FooterContent.module.css","pages/student/Profile.module.css","pages/student/TutorCard.module.css","components/VideoCall.module.css","components/CallModal.module.css","pages/tutor/VideoRecorder.module.css","pages/admin/Admin.module.css","pages/default/SignInModal.module.css","pages/student/Study.module.css","assets/app-logo.png","components/AppLogo.module.css","components/SideBarLogo.module.css","pages/admin/Students.module.css","pages/admin/Tutors.module.css","pages/student/Student.module.css","components/ChangePasswordModal.module.css","pages/student/TutorList.module.css","pages/tutor/Tutor.module.css","pages/admin/TutorProfile.module.css","assets/flame-welcome.png","assets/welcome-student.png","assets/welcome-tutor.png","components/ReviewSummary.module.css","components/ForgotPasswordModal.module.css","assets/endcall.png","assets/unverify.png","pages/tutor/VideoPlayer.module.css","assets/tutor-wait.png","assets/complete-profile.png","assets/admin-avatar.png","pages/default/RegisterModal.module.css","lib/preferences.js","pages/default/Default.module.css","pages/tutor/Profile.module.css","lib/utils/getAccountInfo.js","context/AccountContext.js","components/FooterContent.js","lib/utils/axiosConfig.js","pages/default/RegisterModal.js","pages/default/SignInModal.js","components/ForgotPasswordModal.js","components/AppLogo.js","pages/default/Default.js","lib/constants.js","components/ChangePasswordModal.js","components/SideBarLogo.js","pages/student/Profile.js","pages/student/Stats.js","lib/socket.js","lib/Emitter.js","lib/MediaDevice.js","lib/PeerConnection.js","components/CallWindow.js","components/CallModal.js","pages/student/TutorCard.js","pages/admin/VideoPlayer.js","pages/student/TutorDetailModal.js","lib/utils/getReviewCount.js","components/ReviewSummary.js","components/Review.js","pages/student/TutorReviewModal.js","pages/student/TutorList.js","pages/student/FeedbackModal.js","components/VideoCall.js","lib/utils/formatTime.js","pages/student/Study.js","pages/student/Student.js","pages/tutor/VideoRecorder.js","pages/tutor/VideoPlayer.js","pages/tutor/Profile.js","pages/tutor/Stats.js","pages/tutor/Teaching.js","pages/tutor/Tutor.js","pages/admin/Dashboard.js","pages/admin/StudentProfile.js","pages/admin/Students.js","pages/admin/TutorProfile.js","pages/admin/Tutors.js","pages/admin/Reports.js","pages/admin/Admin.js","components/SignOut.js","components/Router.js","App.js","serviceWorker.js","index.js","components/CallWindow.module.css","pages/student/TutorDetailModal.module.css","pages/tutor/Teaching.module.css","pages/admin/StudentProfile.module.css"],"names":["module","exports","PREFERENCE_TYPE","Object","freeze","ENG_ACCENT","ENG_FLUENCY","TEACHING_STYLE","STUDENT_TYPE","STUDENT_LVL","SPECIALITY","SPECIALITIES","cookies","Cookies","removeAccountInfo","remove","AccountContext","createContext","AccountContextProvider","props","useState","account","setAccount","useEffect","JSON","parse","localStorage","getItem","existAccount","accessToken","get","jwtDecode","getAccountInfo","Provider","value","onSignIn","accountData","onSignOut","clear","Footer","Layout","FooterContent","className","styles","footer","contactIconContainer","GithubOutlined","contactIcon","onClick","window","open","FacebookFilled","InstagramOutlined","contactInfoContainer","axiosRequest","axios","create","baseURL","withCredentials","RegisterModal","isStudent","setIsStudent","loading","setLoading","error","setError","Form","useForm","form","useContext","onFinish","values","a","url","accountInfo","username","password","email","name","post","result","data","setItem","location","reload","response","message","studentWelcome","registerWelcomeContent","welcomeImg","draggable","src","welcomeStudentImg","alt","tutorWelcome","welcomeTutorImg","visible","isVisible","title","onCancel","resetFields","onClose","width","registerContent","registerWelcome","formWrapper","style","marginBottom","type","showIcon","banner","closable","afterClose","scrollToFirstError","registerForm","labelCol","xs","span","sm","wrapperCol","Item","label","rules","required","whitespace","hasFeedback","Password","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","offset","htmlType","registerButton","shape","switchModeWrapper","switchMode","onSwitchSignIn","SignInModal","onSwitchRegister","onSwitchForgotPass","user","remember","signInForm","initialValues","prefix","UserOutlined","placeholder","LockOutlined","valuePropName","noStyle","signInForgot","signInButton","registerNow","ForgotPasswordModal","console","log","defaultUser","submitBtn","AppLogo","headerWrapper","headerIcon","headerTitle","Header","Content","Default","isRegister","setRegister","isSignIn","setIsSignIn","isForgotPass","setIsForgotPass","showRegister","headerContent","userButtonContainer","userButton","defaultBody","introContainer","introImg","introContent","welcomeText","welcomeDescription","ROLES","ADMIN","TUTOR","STUDENT","STATES","ACTIVE","INACTIVE","PROFILE_STATUS","ACCEPTED","PENDING","REJECTED","serverUrl","SOCKET_EVENTS","INIT","REQUEST","CALL","END","DISCONNECT","GET_ONLINE_TUTORS","LEAVE","RECORD_STUDENT","RECORD_TUTOR","SAVE_VIDEOS","STATUS","AVAILABLE","BUSY","ChangePasswordModal","onForgot","oldPassword","oldpassword","newPassword","id","role","forgotPass","SideBarLogo","collapsed","logoContainer","Logo","logo","logoText","Option","Select","Panel","Collapse","Profile","loadingProfile","setLoadingProfile","profile","setProfile","loadingAva","setLoadingAva","avatar","setAvatar","getStudentProfile","student","avatarProfile","size","icon","onSubmit","put","uploadAvaProps","onRemove","file","beforeUpload","fileList","uploadAvatar","formData","FormData","append","method","resendConfirmation","spinning","accountInfoContainer","verification","color","collapse","phone","birthdate","moment","undefined","address","student_type","student_lvl","accent","specialities","teaching_styles","defaultActiveKey","header","key","listType","FileImageOutlined","disabled","length","UploadOutlined","preferences","map","lvl","mode","spec","submitWrapper","Stats","socket","io","Emitter","this","events","event","args","forEach","fn","push","_","isFunction","listeners","index","findIndex","_fn","splice","MediaDevice","navigator","mediaDevices","getUserMedia","video","facingMode","height","min","ideal","max","audio","echoCancellation","then","stream","emit","catch","err","DOMException","alert","on","len","arguments","track","state","enabled","set","getTracks","stop","PC_CONFIG","iceServers","urls","PeerConnection","friendID","pc","RTCPeerConnection","onicecandidate","to","candidate","ontrack","streams","mediaDevice","isCaller","config","addTrack","createOffer","start","isStarter","close","off","getDescription","bind","createAnswer","desc","setLocalDescription","sdp","rtcSdp","RTCSessionDescription","setRemoteDescription","iceCandidate","RTCIceCandidate","addIceCandidate","CallWindow","peerSrc","localSrc","endCall","peerVideo","useRef","localVideo","setVideo","setAudio","useBeforeunload","e","preventDefault","current","srcObject","toggle","toggleMediaDevice","deviceType","callWindowWrapper","callWindow","videoScreenContainer","videoScreen","ref","autoPlay","muted","formatValue","lastUnit","callTime","Hours","Minutes","Seconds","videoControl","VideoCameraFilled","VideoCameraAddOutlined","AudioFilled","AudioMutedOutlined","StopOutlined","CallModal","callModal","callFrom","startCall","rejectCall","acceptWithVideo","callModalWrapper","caller","callerTxt","controlBtns","TutorCard","callWithVideo","openDetailModal","item","openReviewlModal","actions","tutorCard","tutorInfo","tutorInfoDetail","tutorName","status","CheckCircleFilled","fontSize","marginLeft","MinusCircleFilled","certificates","review","placement","reviewWrapper","defaultValue","Number","Math","round","avg","toFixed","allowHalf","reviewCount","count","introduction","VideoPlayer","player","videoNode","videoJsOptions","controls","fluid","sources","autoplay","videojs","version_info","VERSION","dispose","data-vjs-player","node","playsInline","TutorDetailModal","selected","showDetailModal","setShowDetailModal","destroyOnClose","bodyStyle","overflow","detailWrapper","videoWrapper","bordered","column","fluency","speciality","interests","education","experience","profession","reason","detailTitle","uploadedCert","cert","href","path","FileDoneOutlined","originalname","getReviewCount","reviews","count0","count1","count2","count3","count4","count5","total","rating","rating0","rating1","rating2","rating3","rating4","rating5","ReviewSummary","reviewSummary","reviewOverall","reviewAvg","reviewNumber","marginRight","ratingCountList","ratingCount","showInfo","percent","Review","getTutorReview","deleteReview","delete","deleteBtn","studentId","danger","author","content","comment","datetime","createdAt","fromNow","TutorReviewModal","showReviewModal","setShowReviewModal","setReviews","maxHeight","itemLayout","dataSource","renderItem","TabPane","Tabs","TutorList","onlineTutors","setTutor","setSelected","tutor","tutorList","tab","TeamOutlined","tabPane","grid","gutter","LikeOutlined","RiseOutlined","FeedbackModal","showFeedback","setShowFeedBack","sucessAlert","setSuccessAlert","errorAlert","setErrorAlert","tutorId","allowClear","TextArea","VideoCall","setCallWindow","setCallModal","setCallFrom","setLocalSrc","setPeerSrc","pcRef","configRef","peerRecorder","localRecorder","end","setOnlineTutors","afterCallModal","setAfterCallModal","setShowFeedback","from","Date","now","online","MediaRecorder","mimeType","ondataavailable","stopRecording","renderCallFrom","btnHolder","FlagOutlined","StarOutlined","videoCall","tutorProfile","isEmpty","afterCall","endCallImg","endUser","endDuration","millisec","seconds","minutes","floor","hours","getTimeFromMs","Study","study","unverify","unverifyImg","Unverify","unverifyTxt","Sider","Student","isChangePass","setIsChangePass","userAvatar","margin","userMenu","KeyOutlined","LogoutOutlined","minHeight","theme","defaultSelectedKeys","selectedKeys","pathname","VideoCameraOutlined","ContactsOutlined","BarChartOutlined","userControl","overlay","DownOutlined","dropDownIcon","component","exact","plugins","record","maxLength","debug","VideoRecorder","cancelRecord","existedVideo","refreshProfile","recorded","setRecorded","uploadVideo","getPluginVersion","RecordRTC","version","recordedData","element","warn","deviceErrorCode","btnWrapper","videoBtn","btnWrapperNoCancel","recordNew","setFileList","uploading","setUploading","isRecord","setIsRecord","getTutorProfile","profileStatus","formItemLayout","uploadBtnLayout","uploadProps","indexOf","newFileList","slice","handleUpload","FileTextOutlined","introInstruct","introTips","Step","Steps","Teaching","getProfile","ProfileOutlined","teaching","SolutionOutlined","SmileOutlined","wait","waitImg","WaitImg","waitTxt","CompleteProfileImg","Tutor","Dashboard","StudentProfile","getStudentsData","loadingDetail","setLoadingDetail","detail","setDetail","stateLoading","setStateLoading","updateStateUser","accountId","getStudentDetail","renderDetail","detailBasic","detailBasicInfo","format","banBtnHolder","changeStateBtn","detailAdditional","Search","Input","Students","pageSize","setPageSize","students","setStudents","page","setPage","searchKey","setSearchKey","setTotal","tableData","totalResults","columns","dataIndex","render","studentsLayout","searchBar","onSearch","enterButton","pagination","onRow","paginationWrapper","defaultCurrent","showSizeChanger","showTotal","onShowSizeChange","ceil","onChange","TutorProfile","getTutorsData","updateStatusLoading","setUpdateStatusLoading","updateProfileStatus","getTutorDetail","statusControl","statusControlBtnWrapper","backgroundColor","borderColor","statusControlBtn","Tutors","tutors","setTutors","tutorsLayout","Report","Admin","setCollapsed","collapsible","onCollapse","adminMenu","IdcardOutlined","ExceptionOutlined","background","MenuUnfoldOutlined","menuIcon","MenuFoldOutlined","AvatarPic","Reports","SignOut","Router","withRouter","Boolean","hostname","match","app","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3710cbc4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"FooterContent_footer__2LUe0\",\"contactIcon\":\"FooterContent_contactIcon__3hiC-\",\"contactInfoContainer\":\"FooterContent_contactInfoContainer__1g1QB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__ek5d7\",\"accountInfoContainer\":\"Profile_accountInfoContainer__1mcfy\",\"accountInfo\":\"Profile_accountInfo__3D6LT\",\"name\":\"Profile_name__S2sO7\",\"collapse\":\"Profile_collapse__OS-E9\",\"submitWrapper\":\"Profile_submitWrapper__128sb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tutorInfo\":\"TutorCard_tutorInfo__1fb1s\",\"tutorInfoDetail\":\"TutorCard_tutorInfoDetail__4Geg_\",\"tutorCard\":\"TutorCard_tutorCard__1OIY_\",\"status\":\"TutorCard_status__1a__i\",\"tutorName\":\"TutorCard_tutorName__2Doqi\",\"reviewCount\":\"TutorCard_reviewCount__3Aqdy\",\"reviewWrapper\":\"TutorCard_reviewWrapper__2GRfr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoCall\":\"VideoCall_videoCall__hjCwP\",\"endCallImg\":\"VideoCall_endCallImg__QZCEi\",\"afterCall\":\"VideoCall_afterCall__1W8XM\",\"endUser\":\"VideoCall_endUser__2X3QB\",\"endDuration\":\"VideoCall_endDuration__C9Gi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"callModal\":\"CallModal_callModal__1nue_\",\"controlBtns\":\"CallModal_controlBtns__yj0LT\",\"caller\":\"CallModal_caller__mWoN_\",\"callerTxt\":\"CallModal_callerTxt__3NxOV\",\"callModalWrapper\":\"CallModal_callModalWrapper__2LdYr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnWrapper\":\"VideoRecorder_btnWrapper__2n7aZ\",\"btnWrapperNoCancel\":\"VideoRecorder_btnWrapperNoCancel__21x6-\",\"videoBtn\":\"VideoRecorder_videoBtn__1YqIx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoContainer\":\"Admin_logoContainer__3WKz2\",\"logo\":\"Admin_logo__2jN07\",\"logoText\":\"Admin_logoText__1zzSJ\",\"userControl\":\"Admin_userControl__1C-I4\",\"dropDownIcon\":\"Admin_dropDownIcon__bHsT0\",\"adminMenu\":\"Admin_adminMenu__3FXGL\",\"menuIcon\":\"Admin_menuIcon__1bvYm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signInForm\":\"SignInModal_signInForm__6dOkt\",\"signInForgot\":\"SignInModal_signInForgot__YZfZh\",\"signInButton\":\"SignInModal_signInButton__1e1-r\",\"registerNow\":\"SignInModal_registerNow__1-qv7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"study\":\"Study_study__8o9iI\",\"unverify\":\"Study_unverify__3F6hb\",\"unverifyImg\":\"Study_unverifyImg__YMaAt\",\"unverifyTxt\":\"Study_unverifyTxt__31BQW\"};","module.exports = __webpack_public_path__ + \"static/media/app-logo.05772604.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrapper\":\"AppLogo_headerWrapper__3QEjT\",\"headerTitle\":\"AppLogo_headerTitle__SJet6\",\"headerIcon\":\"AppLogo_headerIcon___aj3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoContainer\":\"SideBarLogo_logoContainer__1kC8O\",\"logo\":\"SideBarLogo_logo__2VbQH\",\"logoText\":\"SideBarLogo_logoText__38Mpu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"studentsLayout\":\"Students_studentsLayout__3whC3\",\"paginationWrapper\":\"Students_paginationWrapper__3pBWi\",\"searchBar\":\"Students_searchBar__2Xj53\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tutorsLayout\":\"Tutors_tutorsLayout__3m6oR\",\"paginationWrapper\":\"Tutors_paginationWrapper__qJHen\",\"searchBar\":\"Tutors_searchBar__1ccNS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userControl\":\"Student_userControl__3SGc9\",\"sideMenu\":\"Student_sideMenu__2ePph\",\"logoContainer\":\"Student_logoContainer__1pULu\",\"logo\":\"Student_logo__2Al0V\",\"logoText\":\"Student_logoText__1017M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgotPass\":\"ChangePasswordModal_forgotPass__2PaV8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tutorList\":\"TutorList_tutorList__3lD64\",\"tabPane\":\"TutorList_tabPane__1Gv0s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userControl\":\"Tutor_userControl__xq5ig\",\"sideMenu\":\"Tutor_sideMenu__16b7O\",\"logoContainer\":\"Tutor_logoContainer__1Wyv3\",\"logo\":\"Tutor_logo__aG4W8\",\"logoText\":\"Tutor_logoText__3bVip\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"TutorProfile_detail__26DHV\",\"detailBasic\":\"TutorProfile_detailBasic__3S1rd\",\"detailName\":\"TutorProfile_detailName__3RN5s\",\"detailBasicInfo\":\"TutorProfile_detailBasicInfo__TbTNG\",\"banBtnHolder\":\"TutorProfile_banBtnHolder__3lFnJ\",\"detailAdditional\":\"TutorProfile_detailAdditional__31ZIX\",\"detailAdditionalRow\":\"TutorProfile_detailAdditionalRow__3kWYX\",\"statusControl\":\"TutorProfile_statusControl__WzUbx\",\"statusControlBtnWrapper\":\"TutorProfile_statusControlBtnWrapper__3wpvv\",\"statusControlBtn\":\"TutorProfile_statusControlBtn__kclui\",\"changeStateBtn\":\"TutorProfile_changeStateBtn__1aC_X\",\"detailWrapper\":\"TutorProfile_detailWrapper__3K5ya\",\"detailTitle\":\"TutorProfile_detailTitle__3E2gZ\",\"uploadedCert\":\"TutorProfile_uploadedCert__2fDK6\",\"videoWrapper\":\"TutorProfile_videoWrapper__3ZbM5\"};","module.exports = __webpack_public_path__ + \"static/media/flame-welcome.2b090893.png\";","module.exports = __webpack_public_path__ + \"static/media/welcome-student.0c7630e5.png\";","module.exports = __webpack_public_path__ + \"static/media/welcome-tutor.66b32adc.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewSummary\":\"ReviewSummary_reviewSummary__kf7Ub\",\"ratingCount\":\"ReviewSummary_ratingCount__22gqq\",\"ratingCountList\":\"ReviewSummary_ratingCountList__19gG1\",\"rating\":\"ReviewSummary_rating__1AeF9\",\"reviewAvg\":\"ReviewSummary_reviewAvg__3ca9p\",\"reviewOverall\":\"ReviewSummary_reviewOverall__2zb4q\",\"reviewNumber\":\"ReviewSummary_reviewNumber__2L6lI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submitBtn\":\"ForgotPasswordModal_submitBtn__3TcfT\"};","module.exports = __webpack_public_path__ + \"static/media/endcall.6812f833.png\";","module.exports = __webpack_public_path__ + \"static/media/unverify.e737cc3d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnWrapper\":\"VideoPlayer_btnWrapper__3W9-y\"};","module.exports = __webpack_public_path__ + \"static/media/tutor-wait.a732bc74.png\";","module.exports = __webpack_public_path__ + \"static/media/complete-profile.5dfe81ca.png\";","module.exports = __webpack_public_path__ + \"static/media/admin-avatar.4fc32273.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registerContent\":\"RegisterModal_registerContent__80mK1\",\"registerWelcome\":\"RegisterModal_registerWelcome__19TFP\",\"registerForm\":\"RegisterModal_registerForm__10uvC\",\"registerButton\":\"RegisterModal_registerButton__2svL6\",\"formWrapper\":\"RegisterModal_formWrapper__sEKbp\",\"switchMode\":\"RegisterModal_switchMode__27SKS\",\"switchModeWrapper\":\"RegisterModal_switchModeWrapper__2HPSb\",\"welcomeImg\":\"RegisterModal_welcomeImg__OQ1qZ\",\"registerWelcomeContent\":\"RegisterModal_registerWelcomeContent__3vQbH\"};","exports.PREFERENCE_TYPE = Object.freeze({\r\n  ENG_ACCENT: 'eng_accent',\r\n  ENG_FLUENCY: 'eng_fluency',\r\n  TEACHING_STYLE: 'teaching_style',\r\n  STUDENT_TYPE: 'student_type',\r\n  STUDENT_LVL: 'student_lvl',\r\n  SPECIALITY: 'speciality'\r\n});\r\n\r\nexports.ENG_ACCENT =  [\r\n  \"North America\",\r\n  \"North America - Canada\",\r\n  \"North America - USA\",\r\n  \"North America - Southern USA\",\r\n  \"North America - Other\",\r\n  \"British Isles\",\r\n  \"British Isles - Received Pronunciation\",\r\n  \"British Isle - Ireland\",\r\n  \"British Isles - Scotland\",\r\n  \"British Isles - Other\",\r\n  \"South Africa\",\r\n  \"Australia / New Zealand\",\r\n  \"Australia\",\r\n  \"New Zealand\",\r\n  \"Other\"\r\n];\r\n\r\nexports.ENG_FLUENCY = [\r\n  'Native',\r\n  'Fluent',\r\n  'Conversational',\r\n  'Basic'\r\n];\r\n\r\nexports.TEACHING_STYLE =  [\r\n  \"Kind & patient\" ,\r\n  \"Fun & gregarious\",\r\n  \"Scholarly & knowledgeable\"\r\n];\r\n\r\nexports.STUDENT_TYPE = [\r\n  \"Adult\",\r\n  \"Child\"\r\n];\r\n\r\nexports.STUDENT_LVL = [\r\n  \"Beginner\",\r\n  \"Intermeditate\",\r\n  \"Advanced\"\r\n];\r\n\r\nexports.SPECIALITIES = [\r\n  \"Friendly conversation\", \r\n  \"Business English\", \r\n  \"Public speaking\", \r\n  \"Test prep (IELTS, TOEFL, etc.)\", \r\n  \"Grammar instruction, Accent coaching\", \r\n  \"Correcting speech\", \r\n  \"Discussing current events\", \r\n  \"Vocational lessons\", \r\n  \"Culture (i.e. manners, customs)\",\r\n  \"Teaching idioms and slang\"\r\n];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerContent\":\"Default_headerContent__3ZlIu\",\"userButton\":\"Default_userButton__3RtJ9\",\"registerButton\":\"Default_registerButton__2NXqe\",\"userButtonContainer\":\"Default_userButtonContainer__hqXNR\",\"defaultBody\":\"Default_defaultBody__20Ojr\",\"introContainer\":\"Default_introContainer__2Y07C\",\"welcomeText\":\"Default_welcomeText__1QUl0\",\"welcomeDescription\":\"Default_welcomeDescription__1QYFE\",\"introContent\":\"Default_introContent__16UXl\",\"introImg\":\"Default_introImg__2XQ5a\",\"becomeTutor\":\"Default_becomeTutor__1xiNf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__29iwE\",\"accountInfoContainer\":\"Profile_accountInfoContainer__2PNVq\",\"accountInfo\":\"Profile_accountInfo__2V7Fk\",\"name\":\"Profile_name__qbwV3\",\"collapse\":\"Profile_collapse__2mJ6d\",\"submitWrapper\":\"Profile_submitWrapper__2SO9c\",\"profileStatus\":\"Profile_profileStatus__2b2JV\",\"uploadedCert\":\"Profile_uploadedCert__378RX\",\"introTips\":\"Profile_introTips__12reB\",\"introInstruct\":\"Profile_introInstruct__3UBqU\"};","import Cookies from 'universal-cookie';\r\nimport jwtDecode from 'jwt-decode';\r\nconst cookies = new Cookies();\r\n\r\nexport const getAccountInfo = () => {\r\n  let account = null;\r\n  const accessToken = cookies.get('access_token');\r\n  if (accessToken) {\r\n    account = jwtDecode(accessToken);\r\n  }\r\n  return account;\r\n}\r\n\r\nexport const removeAccountInfo = () => {\r\n  cookies.remove('access_token');\r\n}\r\n","import React, { createContext, useState, useEffect } from 'react';\r\nimport { getAccountInfo, removeAccountInfo } from '../lib/utils/getAccountInfo';\r\nexport const AccountContext = createContext(null);\r\n\r\nconst initialAccount = null;\r\n\r\nconst AccountContextProvider = (props) => {\r\n  const [account, setAccount] = useState(initialAccount);\r\n\r\n  useEffect(() => {\r\n    if (JSON.parse(localStorage.getItem('remember'))) {\r\n      const existAccount = getAccountInfo();\r\n      if (existAccount) {\r\n        setAccount(existAccount);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const onSignIn = (accountData) => {\r\n    setAccount(accountData);\r\n  };\r\n\r\n  const onSignOut = () => {\r\n    removeAccountInfo();\r\n    localStorage.clear();\r\n    setAccount(null);\r\n  };\r\n\r\n  return (\r\n    <AccountContext.Provider value={{ account, onSignIn, onSignOut }} {...props} />\r\n  )\r\n}\r\n\r\nexport default AccountContextProvider;","import React from 'react';\r\nimport styles from './FooterContent.module.css';\r\nimport { GithubOutlined, FacebookFilled, InstagramOutlined } from '@ant-design/icons';\r\nimport { Layout } from 'antd';\r\nconst { Footer } = Layout;\r\nexport default function FooterContent() {\r\n  return (\r\n    <Footer className={styles.footer}>\r\n      <div className={styles.contactIconContainer}>\r\n        <GithubOutlined className={styles.contactIcon} onClick={() => window.open('https://github.com/huynguyend191')} />\r\n        <FacebookFilled className={styles.contactIcon} onClick={() => window.open('https://www.facebook.com/sneezingcat191')} />\r\n        <InstagramOutlined className={styles.contactIcon} onClick={() => window.open('https://www.instagram.com/sneezingcat191/')} />\r\n      </div>\r\n      <div className={styles.contactInfoContainer}>\r\n        Mirage 2020 - English Video Call Platform <br /> \r\n        Contact: huynguyend191@gmail.com\r\n      </div>\r\n    </Footer>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst baseURL = process.env.NODE_ENV === 'development'\r\n? 'https://localhost:3003/api'\r\n: 'https://mirage-video-call.herokuapp.com/api' ;\r\n\r\nconst axiosRequest = axios.create({\r\n  baseURL,\r\n  withCredentials: true\r\n});\r\n\r\nexport default axiosRequest;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Modal, Form, Input, Button, Alert } from 'antd';\r\nimport styles from './RegisterModal.module.css';\r\nimport welcomeStudentImg from '../../assets/welcome-student.png';\r\nimport welcomeTutorImg from '../../assets/welcome-tutor.png';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\n\r\nexport default function RegisterModal(props) {\r\n  const [isStudent, setIsStudent] = useState(props.isStudent);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [form] = Form.useForm();\r\n  const { onSignIn } = useContext(AccountContext);\r\n\r\n  useEffect(() => {\r\n    setIsStudent(props.isStudent)\r\n  }, [props.isStudent])\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const url = isStudent? '/students' : '/tutors';\r\n      const accountInfo = {\r\n        username: values.username,\r\n        password: values.password,\r\n        email: values.email,\r\n        name: values.name\r\n      };\r\n      const result = await axios.post(url + '/register', accountInfo);\r\n      setLoading(false);\r\n      onSignIn(result.data.account);\r\n      localStorage.setItem('remember', true);\r\n      window.location.reload(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n  const switchRole = () => {\r\n    setIsStudent(!isStudent);\r\n  };\r\n  const switchMode = () => {\r\n    props.onClose();\r\n    props.onSwitchSignIn();\r\n  };\r\n  const onClose = () => {\r\n    form.resetFields();\r\n    props.onClose();\r\n  }\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const tailFormItemLayout = {\r\n    wrapperCol: {\r\n      xs: {\r\n        span: 24,\r\n        offset: 0,\r\n      },\r\n      sm: {\r\n        span: 16,\r\n        offset: 8,\r\n      },\r\n    },\r\n  };\r\n  const studentWelcome = (\r\n    <div className={styles.registerWelcomeContent}>\r\n      <img className={styles.welcomeImg} draggable={false} src={welcomeStudentImg} alt=\"\" />\r\n      <h3>Experience new way of studying English</h3>\r\n      <h4>Improve your English anywhere anytime</h4>\r\n      <h4>Learn from interesting people around the world</h4>\r\n    </div>\r\n  )\r\n  \r\n  const tutorWelcome = (\r\n    <div className={styles.registerWelcomeContent}>\r\n      <img className={styles.welcomeImg} draggable={false} src={welcomeTutorImg} alt=\"\" />\r\n      <h3>Tutoring with Mirage is fun & rewarding</h3>\r\n      <h4>No experience necessary</h4>\r\n      <h4>Share your knowledge with people and get paid</h4>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <Modal\r\n      visible={props.isVisible}\r\n      footer={null}\r\n      title={isStudent? 'Register as student' : 'Register as tutor'}\r\n      onCancel={onClose}\r\n      width=\"800px\"\r\n    >\r\n      <div className={styles.registerContent}>\r\n        <div className={styles.registerWelcome}>\r\n          {\r\n            isStudent?\r\n            <div>{studentWelcome}</div> :\r\n            <div>{tutorWelcome}</div>\r\n          }\r\n        </div>\r\n        <div className={styles.formWrapper}>\r\n          {error ? <Alert style={{marginBottom: \"15px\"}} message={error} type=\"error\" showIcon banner closable afterClose={() => setError(null)} /> : null}\r\n          <Form\r\n            name=\"register\"\r\n            onFinish={onFinish}\r\n            scrollToFirstError\r\n            className={styles.registerForm}\r\n            form={form}\r\n            {...formItemLayout}\r\n          >\r\n            <Form.Item\r\n              name=\"email\"\r\n              label=\"E-mail\"\r\n              rules={[\r\n                {\r\n                  type: 'email',\r\n                  message: 'The input is not valid E-mail!',\r\n                },\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your E-mail!',\r\n                },\r\n              ]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"username\"\r\n              label=\"Username\"\r\n              rules={[{ required: true, message: 'Please input your username!', whitespace: false }]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your password!',\r\n                },\r\n              ]}\r\n              hasFeedback\r\n            >\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"confirm\"\r\n              label=\"Confirm Password\"\r\n              dependencies={['password']}\r\n              hasFeedback\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please confirm your password!',\r\n                },\r\n                ({ getFieldValue }) => ({\r\n                  validator(rule, value) {\r\n                    if (!value || getFieldValue('password') === value) {\r\n                      return Promise.resolve();\r\n                    }\r\n                    return Promise.reject('The two passwords that you entered do not match!');\r\n                  },\r\n                }),\r\n              ]}\r\n            >\r\n              <Input.Password />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"name\"\r\n              label=\"Full name\"\r\n              rules={[{ required: true, message: 'Please input your fullname!', whitespace: true }]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n              <Button type=\"primary\" htmlType=\"submit\" className={styles.registerButton} shape=\"round\" loading={loading}>\r\n                Register\r\n              </Button>\r\n              <p className={styles.switchModeWrapper}>Or<span onClick={switchRole} className={styles.switchMode}> become a {isStudent? \"tutor\" : \"student\"} instead</span></p>\r\n              <p className={styles.switchModeWrapper}>Already have an account? <span onClick={switchMode} className={styles.switchMode}> Sign in</span></p>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { Modal, Form, Input, Button, Checkbox, Alert } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport styles from './SignInModal.module.css';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function SignInModal({ isVisible, onClose, onSwitchRegister, onSwitchForgotPass }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const { onSignIn } = useContext(AccountContext);\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const account = {\r\n        user: values.user,\r\n        password: values.password\r\n      };\r\n      localStorage.setItem('remember', values.remember);\r\n      const result = await axios.post('/accounts/sign-in', account);\r\n      setLoading(false);\r\n      onSignIn(result.data.account);\r\n      window.location.reload(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const onChangeMode = () => {\r\n    onClose();\r\n    onSwitchRegister(true);\r\n  };\r\n\r\n  const onCancel = () => {\r\n    form.resetFields()\r\n    onClose();\r\n  };\r\n\r\n  const onForgotPass = () => {\r\n    onClose();\r\n    onSwitchForgotPass();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={isVisible}\r\n      footer={null}\r\n      onCancel={onCancel}\r\n      title=\"Sign in\"\r\n      width=\"400px\"\r\n    >\r\n      {error ? <Alert style={{marginBottom: \"15px\"}} message={error} type=\"error\" showIcon banner closable afterClose={() => setError(null)} /> : null}\r\n      <Form\r\n        name=\"normal_sign_in\"\r\n        className={styles.signInForm}\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        form={form}\r\n      >\r\n        <Form.Item\r\n          name=\"user\"\r\n          rules={[{ required: true, message: 'Please input your username or email!' }]}\r\n        >\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username or email\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[{ required: true, message: 'Please input your Password!' }]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n            <Checkbox>Remember me</Checkbox>\r\n          </Form.Item>\r\n\r\n          <p onClick={onForgotPass} className={styles.signInForgot}>\r\n            Forgot password?\r\n          </p>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className={styles.signInButton} shape=\"round\" loading={loading}>\r\n            Sign in\r\n        </Button>\r\n        Don't have an account? <span className={styles.registerNow} onClick={onChangeMode}>Register now!</span>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { Modal, Button, Input, Form } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport styles from './ForgotPasswordModal.module.css';\r\nimport axios from '../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../context/AccountContext';\r\n\r\nexport default function ForgotPasswordModal({ isVisible, onClose }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.post('/accounts/reset-password', { user: values.user });\r\n      console.log(result.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n  const onCancel = () => {\r\n    form.resetFields()\r\n    onClose();\r\n  }\r\n\r\n  const defaultUser = account ? account.email : null;\r\n\r\n  return (\r\n    <Modal\r\n      visible={isVisible}\r\n      footer={null}\r\n      title=\"Reset your password\"\r\n      width=\"350px\"\r\n      onCancel={onCancel}\r\n    >\r\n      <Form\r\n        name=\"forgot_password\"\r\n        form={form}\r\n        onFinish={onFinish}\r\n        initialValues={{ user: defaultUser }}\r\n      >\r\n        <Form.Item\r\n          name=\"user\"\r\n          rules={[{ required: true, message: 'Please input your username or email!' }]}\r\n        >\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Enter your username or email\" />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" shape=\"round\" loading={loading} className={styles.submitBtn}>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from'./AppLogo.module.css';\r\nimport headerIcon from '../assets/app-logo.png';\r\n\r\nexport default function AppLogo() {\r\n  return (\r\n    <div className={styles.headerWrapper}>\r\n      <img className={styles.headerIcon} src={headerIcon} draggable={false} alt=\"\" />\r\n      <h1 className={styles.headerTitle}>MIRAGE</h1>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport styles from './Default.module.css';\r\nimport { Button, Layout, Divider } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport introImg from '../../assets/flame-welcome.png';\r\nimport RegisterModal from './RegisterModal';\r\nimport SignInModal from './SignInModal';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport AppLogo from '../../components/AppLogo';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nexport default function Default() {\r\n  const [isRegister, setRegister] = useState(false);\r\n  const [isSignIn, setIsSignIn] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const [isStudent, setIsStudent] = useState(true);\r\n\r\n  const showRegister = (isStudent) => {\r\n    setIsStudent(isStudent);\r\n    setRegister(true);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <SignInModal isVisible={isSignIn} onClose={() => setIsSignIn(false)} onSwitchRegister={showRegister} onSwitchForgotPass={() => setIsForgotPass(true)} />\r\n      <RegisterModal isVisible={isRegister} onClose={() => {setRegister(false)}} isStudent={isStudent} onSwitchSignIn={() => setIsSignIn(true)} />\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <Header>\r\n        <div className={styles.headerContent}>\r\n          <AppLogo />\r\n          <div className={styles.userButtonContainer}>\r\n            <Button className={styles.userButton} type=\"secondary\" shape=\"round\" onClick={() => setIsSignIn(true)}>Sign in</Button>\r\n            <Button className={styles.userButton} type=\"primary\" shape=\"round\" onClick={() => showRegister(true)}>Register</Button>\r\n          </div>\r\n        </div>\r\n      </Header>\r\n      <Content>\r\n        <div className={styles.defaultBody}>\r\n          <div className={styles.introContainer}> \r\n            <img className={styles.introImg} draggable={false} src={introImg} alt=\"\" />\r\n            <div className={styles.introContent}>\r\n              <p className={styles.welcomeText}>Welcome to Mirage!</p>\r\n              <p className={styles.welcomeDescription}>Go on, say something in English!</p>\r\n              <Button className={styles.registerButton} type=\"primary\" shape=\"round\" onClick={() => showRegister(true)}>STUDY NOW</Button>\r\n              <Divider style={{ width: \"300px\" }}>OR</Divider>\r\n              <Button className={styles.registerButton} type=\"secondary\" shape=\"round\" onClick={() => showRegister(false)}>BECOME TUTOR</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n      <FooterContent />\r\n    </Layout>\r\n  )\r\n}\r\n","export const ROLES = Object.freeze({\r\n  ADMIN: 1,\r\n  TUTOR: 2,\r\n  STUDENT: 3\r\n});\r\n\r\nexport const STATES = Object.freeze({\r\n  ACTIVE: 1,\r\n  INACTIVE: 0\r\n});\r\n\r\nexport const PROFILE_STATUS = Object.freeze({\r\n  ACCEPTED: 1,\r\n  PENDING: 2,\r\n  REJECTED: 3\r\n});\r\n\r\nexport const serverUrl = process.env.NODE_ENV === 'development'\r\n? 'https://localhost:3003/'\r\n: 'https://mirage-video-call.herokuapp.com/';\r\n\r\nexport const SOCKET_EVENTS = Object.freeze({\r\n  INIT: 'init',\r\n  REQUEST: 'request',\r\n  CALL: 'call',\r\n  END: 'end',\r\n  DISCONNECT: 'disconnect',\r\n  GET_ONLINE_TUTORS: 'get_online_tutors',\r\n  LEAVE: 'leave',\r\n  RECORD_STUDENT: 'record_student',\r\n  RECORD_TUTOR: 'record_tutor',\r\n  SAVE_VIDEOS: 'save_videos'\r\n});\r\n\r\nexport const STATUS = Object.freeze({\r\n  AVAILABLE: 1,\r\n  BUSY: 0\r\n})","import React, { useState, useContext } from 'react';\r\nimport styles from './ChangePasswordModal.module.css';\r\nimport { Modal, Form, Input, Button } from 'antd';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport axios from '../lib/utils/axiosConfig';\r\nimport { ROLES } from '../lib/constants';\r\n\r\nexport default function ChangePasswordModal({ isVisible, onForgot, onClose }) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const password = {\r\n        oldPassword: values.oldpassword,\r\n        newPassword: values.password\r\n      }\r\n      const result = await axios.post('/accounts/' + account.id + '/change-password', password);\r\n      console.log(result);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n  const onCancel = () => {\r\n    form.resetFields()\r\n    onClose();\r\n  };\r\n  const forgotPassword = () => {\r\n    onCancel();\r\n    onForgot();\r\n  }\r\n\r\n  const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  };\r\n  const tailLayout = {\r\n    wrapperCol: { offset: 8, span: 16 },\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={isVisible}\r\n      footer={null}\r\n      title=\"Change your password\"\r\n      onCancel={onCancel}\r\n      width=\"500px\"\r\n    >\r\n      <Form\r\n        {...layout}\r\n        name=\"change-password\"\r\n        onFinish={onFinish}\r\n        form={form}\r\n      >\r\n        <Form.Item\r\n          name=\"oldpassword\"\r\n          label=\"Current password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your current password!',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          label=\"New password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your new password!',\r\n            },\r\n          ]}\r\n          hasFeedback\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"confirm\"\r\n          label=\"Retype password\"\r\n          dependencies={['password']}\r\n          hasFeedback\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please confirm your password!',\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(rule, value) {\r\n                if (!value || getFieldValue('password') === value) {\r\n                  return Promise.resolve();\r\n                }\r\n                return Promise.reject('The two passwords that you entered do not match!');\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\" className={styles.registerButton} loading={loading}>\r\n            Update password\r\n          </Button>\r\n          {account.role === ROLES.ADMIN ? \r\n            null : \r\n            <span className={styles.forgotPass} onClick={forgotPassword}>Forgot password?</span>}\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport Logo from '../assets/app-logo.png';\r\nimport styles from './SideBarLogo.module.css';\r\n\r\nexport default function SideBarLogo( {collapsed} ) {\r\n  return (\r\n    <div className={styles.logoContainer}>\r\n      <img src={Logo} alt=\"\" className={styles.logo} draggable={false} />\r\n      {collapsed ? null : <p className={styles.logoText}>MIRAGE</p>}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport styles from './Profile.module.css';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Avatar, Collapse, Form, Input, DatePicker, Button, Select, Upload, Alert, Tag, Spin } from 'antd';\r\nimport { UserOutlined, UploadOutlined, FileImageOutlined } from '@ant-design/icons';\r\nimport preferences from '../../lib/preferences';\r\nimport moment from 'moment';\r\nimport { serverUrl } from '../../lib/constants';\r\nconst { Option } = Select;\r\nconst { Panel } = Collapse;\r\n\r\nexport default function Profile() {\r\n  const [loadingProfile, setLoadingProfile] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profile, setProfile] = useState({ account: { email: null } });\r\n  const { account } = useContext(AccountContext);\r\n  const [loadingAva, setLoadingAva] = useState(false);\r\n  const [avatar, setAvatar] = useState([]);\r\n\r\n  const getStudentProfile = async () => {\r\n    try {\r\n      setLoadingProfile(true);\r\n      const result = await axios.get('/students/' + account.student.id);\r\n      setProfile(result.data.student);\r\n      setLoadingProfile(false);\r\n    } catch (error) {\r\n      setLoadingProfile(false);\r\n      console.log(error.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getStudentProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const avatarProfile = (profile && profile.avatar) ?\r\n    <Avatar src={serverUrl + profile.avatar} size={100} />\r\n    : <Avatar icon={<UserOutlined />} size={100} />\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const uploadBtnLayout = {\r\n    wrapperCol: { offset: 5, span: 16 }\r\n  }\r\n  const onSubmit = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      await axios.put('/students/' + profile.id, values);\r\n      getStudentProfile();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  const uploadAvaProps = {\r\n    onRemove: file => {\r\n      setAvatar([]);\r\n    },\r\n    beforeUpload: file => {\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n      if (isJpgOrPng) {\r\n        setAvatar([file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: avatar,\r\n  }\r\n\r\n\r\n  const uploadAvatar = async () => {\r\n    try {\r\n      setLoadingAva(true);\r\n      const formData = new FormData();\r\n      formData.append('avatar', avatar[0]);\r\n      await axios('/students/avatar/' + profile.account.username, {\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n      await getStudentProfile();\r\n      window.location.reload(false);\r\n      setLoadingAva(false);\r\n    } catch (error) {\r\n      setLoadingAva(false);\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  const resendConfirmation = async () => {\r\n    try {\r\n      await axios.post('/accounts/resend-verify', { email: account.email });\r\n    } catch (error) {\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Spin spinning={loadingProfile}>\r\n      <div className={styles.profile}>\r\n        <div className={styles.accountInfoContainer}>\r\n          {avatarProfile}\r\n          <div className={styles.accountInfo}>\r\n            <p className={styles.name}>{profile.name}</p>\r\n            <p>Email: {profile.account.email}</p>\r\n            {account.verification ? (\r\n              <Tag color=\"success\">Verified</Tag>\r\n            ) : (\r\n                <span><Tag color=\"default\">Unverified</Tag><Button type=\"link\" onClick={resendConfirmation}>Resend confirmation email</Button></span>\r\n              )}\r\n          </div>\r\n        </div>\r\n        <div className={styles.collapse}>\r\n          {profile.name ? (\r\n            <Form\r\n              {...formItemLayout}\r\n              onFinish={onSubmit}\r\n              initialValues={{\r\n                name: profile.name,\r\n                phone: profile.phone,\r\n                birthdate: profile.birthdate ? moment(profile.birthdate) : undefined,\r\n                address: profile.address,\r\n                student_type: profile.student_type ? profile.student_type : undefined,\r\n                student_lvl: profile.student_lvl ? profile.student_lvl : undefined,\r\n                accent: profile.accent ? profile.accent : undefined,\r\n                specialities: (profile.specialities) ? JSON.parse(profile.specialities) : undefined,\r\n                teaching_styles: (profile.teaching_styles) ? JSON.parse(profile.teaching_styles) : undefined,\r\n              }}\r\n            >\r\n              <Collapse defaultActiveKey={[\"1\", \"2\"]}>\r\n                <Panel header=\"Basic info\" key=\"1\">\r\n                  <Form.Item label=\"Name\" name=\"name\" rules={[{ required: true, message: 'Please enter your name' }]}>\r\n                    <Input placeholder=\"Your fullname\" value={profile.name} />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"phone\" label=\"Phone\">\r\n                    <Input placeholder=\"Your phone number (optional)\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"birthdate\" label=\"Birthdate\">\r\n                    <DatePicker />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"avatar\" label=\"Upload avatar\">\r\n                    <Upload {...uploadAvaProps} listType=\"picture-card\">\r\n                      <Button icon={<FileImageOutlined />}>\r\n                        Change avatar\r\n                    </Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button disabled={avatar.length <= 0} onClick={uploadAvatar} loading={loadingAva} style={{ width: \"159px\" }}><UploadOutlined /> Upload avatar</Button>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Study preferences\" key=\"2\">\r\n                  <Alert style={{ marginBottom: \"15px\" }} message=\"Complete your profile to help finding appropriate tutors easier\" type=\"info\" showIcon />\r\n                  <Form.Item name=\"student_type\" label=\"Type\">\r\n                    <Select placeholder=\"What type of student are you?\" >\r\n                      {preferences.STUDENT_TYPE.map(type => {\r\n                        return <Option value={type} key={type}>{type}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"student_lvl\" label=\"Your level\">\r\n                    <Select placeholder=\"Your English level\">\r\n                      {preferences.STUDENT_LVL.map(lvl => {\r\n                        return <Option value={lvl} key={lvl}>{lvl}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"accent\" label=\"Favorite accent\">\r\n                    <Select placeholder=\"What is your favorite English accent?\">\r\n                      {preferences.ENG_ACCENT.map(accent => {\r\n                        return <Option value={accent} key={accent}>{accent}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"specialities\" label=\"Interests\">\r\n                    <Select mode=\"multiple\" placeholder=\"What do you want to study?\">\r\n                      {preferences.SPECIALITIES.map(spec => {\r\n                        return <Option value={spec} key={spec}>{spec}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"teaching_styles\" label=\"Teaching styles\">\r\n                    <Select mode=\"multiple\" placeholder=\"Which styles of teaching do you prefer?\">\r\n                      {preferences.TEACHING_STYLE.map(style => {\r\n                        return <Option value={style} key={style}>{style}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Panel>\r\n              </Collapse>\r\n              <div className={styles.submitWrapper}>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                  Update profile\r\n              </Button>\r\n              </div>\r\n            </Form>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Stats() {\r\n  return (\r\n    <div>\r\n      Stats\r\n    </div>\r\n  )\r\n}\r\n","import io from 'socket.io-client';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nconst accessToken = cookies.get('access_token');\r\n\r\nconst socketURL = process.env.NODE_ENV === 'development'\r\n? 'https://localhost:3003'\r\n: 'https://mirage-video-call.herokuapp.com' ;\r\n\r\nconst socket = io(`${socketURL}?token=${accessToken}`);\r\n\r\nexport default socket;\r\n","import _ from 'lodash';\r\n\r\nclass Emitter {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n\r\n  emit(event, ...args) {\r\n    if (this.events[event]) {\r\n      this.events[event].forEach(fn => fn(...args));\r\n    }\r\n    return this;\r\n  }\r\n\r\n  on(event, fn) {\r\n    if (this.events[event]) this.events[event].push(fn);\r\n    else this.events[event] = [fn];\r\n    return this;\r\n  }\r\n\r\n  off(event, fn) {\r\n    if (event && _.isFunction(fn)) {\r\n      const listeners = this.events[event];\r\n      const index = listeners.findIndex(_fn => _fn === fn);\r\n      listeners.splice(index, 1);\r\n    } else this.events[event] = [];\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default Emitter;\r\n","import _ from 'lodash';\r\nimport Emitter from './Emitter';\r\n\r\n/**\r\n * Manage all media devices\r\n */\r\nclass MediaDevice extends Emitter {\r\n  /**\r\n   * Start media devices and send stream\r\n   */\r\n  start() {\r\n    const constraints = {\r\n      video: {\r\n        facingMode: 'user',\r\n        height: { min: 360, ideal: 720, max: 1080 }\r\n      },\r\n      audio: {\r\n        echoCancellation: false\r\n      }\r\n    };\r\n\r\n    navigator.mediaDevices\r\n      .getUserMedia(constraints)\r\n      .then((stream) => {\r\n        this.stream = stream;\r\n        this.emit('stream', stream);\r\n      })\r\n      .catch((err) => {\r\n        if (err instanceof DOMException) {\r\n          console.log(err)\r\n          alert('Cannot open webcam and/or microphone');\r\n        } else {\r\n          console.log(err);\r\n        }\r\n      });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Turn on/off a device\r\n   * @param {String} type - Type of the device\r\n   * @param {Boolean} [on] - State of the device\r\n   */\r\n  toggle(type, on) {\r\n    const len = arguments.length;\r\n    if (this.stream) {\r\n      this.stream[`get${type}Tracks`]().forEach((track) => {\r\n        const state = len === 2 ? on : !track.enabled;\r\n        _.set(track, 'enabled', state);\r\n      });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Stop all media track of devices\r\n   */\r\n  stop() {\r\n    if (this.stream) {\r\n      this.stream.getTracks().forEach(track => track.stop());\r\n    }\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default MediaDevice;\r\n","import MediaDevice from './MediaDevice';\r\nimport Emitter from './Emitter';\r\nimport socket from './socket';\r\n\r\nconst PC_CONFIG = { iceServers: [{ urls: ['stun:stun.l.google.com:19302'] }] };\r\n\r\nclass PeerConnection extends Emitter {\r\n  /**\r\n     * Create a PeerConnection.\r\n     * @param {String} friendID - ID of the friend you want to call.\r\n     */\r\n  constructor(friendID) {\r\n    super();\r\n    this.pc = new RTCPeerConnection(PC_CONFIG);\r\n    this.pc.onicecandidate = event => socket.emit('call', {\r\n      to: this.friendID,\r\n      candidate: event.candidate\r\n    });\r\n    this.pc.ontrack = event => this.emit('peerStream', event.streams[0]);\r\n\r\n    this.mediaDevice = new MediaDevice();\r\n    this.friendID = friendID;\r\n  }\r\n\r\n  /**\r\n   * Starting the call\r\n   * @param {Boolean} isCaller\r\n   * @param {Object} config - configuration for the call {audio: boolean, video: boolean}\r\n   */\r\n  start(isCaller, config) {\r\n    this.mediaDevice\r\n      .on('stream', (stream) => {\r\n        stream.getTracks().forEach((track) => {\r\n          this.pc.addTrack(track, stream);\r\n        });\r\n        this.emit('localStream', stream);\r\n        if (isCaller) socket.emit('request', { to: this.friendID });\r\n        else this.createOffer();\r\n      })\r\n      .start(config);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Stop the call\r\n   * @param {Boolean} isStarter\r\n   */\r\n  stop(isStarter) {\r\n    if (isStarter) {\r\n      socket.emit('end', { to: this.friendID });\r\n    }\r\n    this.mediaDevice.stop();\r\n    if (this.pc) {\r\n      this.pc.close();\r\n    }\r\n    this.pc = null;\r\n    this.off();\r\n    return this;\r\n  }\r\n\r\n  createOffer() {\r\n    this.pc.createOffer()\r\n      .then(this.getDescription.bind(this))\r\n      .catch(err => console.log(err));\r\n    return this;\r\n  }\r\n\r\n  createAnswer() {\r\n    this.pc.createAnswer()\r\n      .then(this.getDescription.bind(this))\r\n      .catch(err => console.log(err));\r\n    return this;\r\n  }\r\n\r\n  getDescription(desc) {\r\n    this.pc.setLocalDescription(desc);\r\n    socket.emit('call', { to: this.friendID, sdp: desc });\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {Object} sdp - Session description\r\n   */\r\n  setRemoteDescription(sdp) {\r\n    const rtcSdp = new RTCSessionDescription(sdp);\r\n    this.pc.setRemoteDescription(rtcSdp);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {Object} candidate - ICE Candidate\r\n   */\r\n  addIceCandidate(candidate) {\r\n    if (candidate) {\r\n      const iceCandidate = new RTCIceCandidate(candidate);\r\n      this.pc.addIceCandidate(iceCandidate);\r\n    }\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default PeerConnection;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useBeforeunload } from 'react-beforeunload';\r\nimport { Button } from 'antd';\r\nimport { VideoCameraFilled, AudioFilled, StopOutlined, AudioMutedOutlined, VideoCameraAddOutlined } from '@ant-design/icons';\r\nimport styles from './CallWindow.module.css';\r\nimport Timer from 'react-compound-timer';\r\n\r\nexport default function CallWindow({ peerSrc, localSrc, config, mediaDevice, endCall }) {\r\n  const peerVideo = useRef(null);\r\n  const localVideo = useRef(null);\r\n  const [video, setVideo] = useState(config.video);\r\n  const [audio, setAudio] = useState(config.audio);\r\n  useBeforeunload((e) => {\r\n    e.preventDefault();\r\n    endCall(true)\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (peerVideo.current && peerSrc) peerVideo.current.srcObject = peerSrc;\r\n    if (localVideo.current && localSrc) localVideo.current.srcObject = localSrc;\r\n  }, [localSrc, peerSrc]);\r\n\r\n  useEffect(() => {\r\n    if (mediaDevice) {\r\n      mediaDevice.toggle('Video', video);\r\n      mediaDevice.toggle('Audio', audio);\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Turn on/off a media device\r\n   * @param {String} deviceType - Type of the device eg: Video, Audio\r\n   */\r\n  const toggleMediaDevice = (deviceType) => {\r\n    if (deviceType === 'video') {\r\n      setVideo(!video);\r\n      mediaDevice.toggle('Video');\r\n    }\r\n    if (deviceType === 'audio') {\r\n      setAudio(!audio);\r\n      mediaDevice.toggle('Audio');\r\n    }\r\n  };\r\n  return (\r\n    <div className={styles.callWindowWrapper}>\r\n      <div className={styles.callWindow}>\r\n        <div className={styles.videoScreenContainer}>\r\n          <video className={styles.videoScreen} ref={localVideo} autoPlay muted />\r\n          {peerSrc && <video className={styles.videoScreen} ref={peerVideo} autoPlay />}\r\n        </div>\r\n        {peerSrc && (\r\n          <div>\r\n            <Timer\r\n              formatValue={(value) => `${(value < 10 ? `0${value}` : value)}`}\r\n              lastUnit=\"h\"\r\n              className={styles.callTime}\r\n            >\r\n            <Timer.Hours />:\r\n            <Timer.Minutes />:\r\n            <Timer.Seconds />\r\n            </Timer>\r\n          </div>\r\n\r\n        )}\r\n        <div className={styles.videoControl}>\r\n          <Button\r\n            shape=\"circle\"\r\n            type={video ? \"primary\" : \"danger\"}\r\n            icon={video ? <VideoCameraFilled /> : <VideoCameraAddOutlined />}\r\n            onClick={() => toggleMediaDevice('video')}\r\n            size=\"large\"\r\n          />\r\n          <Button\r\n            shape=\"circle\"\r\n            type={audio ? \"primary\" : \"danger\"}\r\n            icon={audio ? <AudioFilled /> : <AudioMutedOutlined />}\r\n            onClick={() => toggleMediaDevice('audio')}\r\n            size=\"large\"\r\n          />\r\n          <Button\r\n            shape=\"circle\"\r\n            type=\"danger\"\r\n            onClick={() => endCall(true)}\r\n            icon={<StopOutlined />}\r\n            size=\"large\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useBeforeunload } from 'react-beforeunload';\r\nimport { Button, Avatar } from 'antd';\r\nimport { VideoCameraFilled, AudioFilled, StopOutlined, UserOutlined } from '@ant-design/icons';\r\nimport styles from './CallModal.module.css';\r\nimport { serverUrl } from '../lib/constants';\r\n\r\nexport default function CallModal({ callModal, callFrom, startCall, rejectCall }) {\r\n  useBeforeunload((e) => {\r\n    // e.preventDefault();\r\n    rejectCall();\r\n  });\r\n  const acceptWithVideo = (video) => {\r\n    const config = { audio: true, video };\r\n    return () => startCall(false, callFrom.username, config);\r\n  };\r\n  return (\r\n    callModal ?\r\n      (\r\n        <div className={styles.callModalWrapper}>\r\n        <div className={styles.callModal}>\r\n          <div className={styles.caller}>\r\n            {(callFrom.student && callFrom.student.avatar) ?\r\n              <Avatar src={serverUrl + callFrom.student.avatar} size={50} />\r\n              : <Avatar icon={<UserOutlined />} size={50} />}\r\n            {(callFrom.student) && (\r\n              <span className={styles.callerTxt}>{`${callFrom.student.name} is calling...`}</span>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.controlBtns}>\r\n            <Button\r\n              shape=\"round\"\r\n              type=\"primary\"\r\n              icon={<VideoCameraFilled />}\r\n              onClick={acceptWithVideo(true)}\r\n              size=\"large\"\r\n            >\r\n              Video call\r\n            </Button>\r\n            <Button\r\n              shape=\"round\"\r\n              type=\"primary\"\r\n              icon={<AudioFilled />}\r\n              onClick={acceptWithVideo(false)}\r\n              size=\"large\"\r\n            >\r\n              Audio call\r\n            </Button>\r\n            <Button\r\n              shape=\"round\"\r\n              type=\"danger\"\r\n              onClick={rejectCall}\r\n              icon={<StopOutlined />}\r\n              size=\"large\"\r\n            >\r\n              Reject call\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      ) : null\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from './TutorCard.module.css';\r\nimport { Card, Avatar, Tooltip, Tag, Rate } from 'antd';\r\nimport { VideoCameraFilled, AudioFilled, UserOutlined, CheckCircleFilled, MinusCircleFilled } from '@ant-design/icons';\r\nimport { serverUrl, STATUS } from '../../lib/constants';\r\n\r\nexport default function TutorCard({ callWithVideo, openDetailModal, item, openReviewlModal }) {\r\n  return (\r\n    <Card\r\n      actions={[\r\n        <Tooltip title=\"Video call\"><VideoCameraFilled onClick={() => callWithVideo(true, item)} /></Tooltip>,\r\n        <Tooltip title=\"Audio call\"><AudioFilled onClick={() => callWithVideo(false, item)} /></Tooltip>,\r\n        <Tooltip title=\"Profile\"><UserOutlined onClick={() => openDetailModal(item)} /></Tooltip>\r\n      ]}\r\n    >\r\n      <div className={styles.tutorCard}>\r\n        <div className={styles.tutorInfo}>\r\n          <div>\r\n            {item.profile.avatar ?\r\n              <Avatar src={serverUrl + item.profile.avatar} size={80} />\r\n              : <Avatar icon={<UserOutlined />} size={80} />\r\n            }\r\n          </div>\r\n\r\n          <div className={styles.tutorInfoDetail}>\r\n            <div className={styles.tutorName}>\r\n              {item.profile.name}\r\n              {item.status === STATUS.AVAILABLE ?\r\n                <CheckCircleFilled style={{ color: \"#52c41a\", fontSize: \"12px\", marginLeft: \"3px\" }} /> :\r\n                <Tooltip title=\"User is busy\"><MinusCircleFilled style={{ color: \"red\", fontSize: \"12px\", marginLeft: \"3px\" }} /></Tooltip>\r\n              }\r\n            </div>\r\n            <div>\r\n              {(item.profile.certificates && JSON.parse(item.profile.certificates.length) > 0) ?\r\n                <Tag>Teaching certificates</Tag> :\r\n                null\r\n              }\r\n            </div>\r\n            {item.profile.review ?\r\n              <Tooltip placement=\"bottomRight\" title=\"Click to show reviews\">\r\n                <div onClick={() => openReviewlModal(item)} className={styles.reviewWrapper}>\r\n                  <Rate disabled defaultValue={Number((Math.round(item.profile.review.avg * 2) / 2).toFixed(1))} allowHalf />\r\n                  <span className={styles.reviewCount}>/ {item.profile.review.count} review(s)</span>\r\n                </div>\r\n              </Tooltip>\r\n              : null\r\n            }\r\n\r\n          </div>\r\n        </div>\r\n        <p>\r\n          {item.profile.introduction}\r\n        </p>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n","import React, { useEffect, useRef } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport { serverUrl } from '../../lib/constants';\r\n\r\nexport default function VideoPlayer({ username }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const videoJsOptions = {\r\n    controls: true,\r\n    width: 513,\r\n    height: 360,\r\n    fluid: false,\r\n    sources: [{\r\n      src: serverUrl + 'api/tutors/video/' + username,\r\n      type: 'video/webm'\r\n    }],\r\n    autoplay: false\r\n  };\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION\r\n      videojs.log(version_info);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div data-vjs-player>\r\n      <video id=\"myVideo\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin vjs-big-play-centered\" playsInline></video>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './TutorDetailModal.module.css';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport VideoPlayer from '../admin/VideoPlayer';\r\nimport { FileDoneOutlined } from '@ant-design/icons';\r\nimport { Tag, Modal, Descriptions } from 'antd';\r\n\r\nexport default function TutorDetailModal({ selected, showDetailModal, setShowDetailModal }) {\r\n  return (\r\n    <Modal\r\n      title={selected ? selected.profile.name : null}\r\n      visible={showDetailModal}\r\n      onCancel={() => setShowDetailModal(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: \"600px\", overflow: \"auto\" }}\r\n    >\r\n      <div>\r\n        <div>\r\n          {selected ? (\r\n            <div>\r\n              <div className={styles.detailWrapper}>\r\n                {selected.profile.video ? <div className={styles.videoWrapper}><VideoPlayer username={selected.username} /></div> : null}\r\n                {selected.profile.introduction}\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"Teaching preferences\">\r\n                  <Descriptions.Item label=\"Student level\">{selected.profile.student_lvl}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Student type\">{selected.profile.student_type}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Accent\">{selected.profile.accent}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Fluency\">{selected.profile.fluency}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Tutor styles\"> {selected.profile.teaching_styles ? JSON.parse(selected.profile.teaching_styles).map(style => { return <Tag key={style}>{style}</Tag> }) : null}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Specialities\">{selected.profile.specialities ? JSON.parse(selected.profile.specialities).map(speciality => { return <Tag key={speciality}>{speciality}</Tag> }) : null}</Descriptions.Item>\r\n                </Descriptions>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"CV\">\r\n                  <Descriptions.Item label=\"Interests\">{selected.profile.interests}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Education\">{selected.profile.education}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Experience\">{selected.profile.experience}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Profession\">{selected.profile.profession}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Reason\">{selected.profile.reason}</Descriptions.Item>\r\n                </Descriptions>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <p className={styles.detailTitle}>Certificates</p>\r\n                <div className={styles.uploadedCert}>\r\n                  {selected.profile.certificates ? (\r\n                    JSON.parse(selected.profile.certificates).map((cert, index) => {\r\n                      return (<a key={index} href={serverUrl + cert.path}><FileDoneOutlined />{cert.originalname}</a>);\r\n                    })\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n","\r\nexport const getReviewCount = (reviews) => {\r\n  let count0 = 0;\r\n  let count1 = 0;\r\n  let count2 = 0;\r\n  let count3 = 0;\r\n  let count4 = 0;\r\n  let count5 = 0;\r\n  const total = reviews.length;\r\n  reviews.forEach(review => {\r\n    switch (review.rating) {\r\n      case 0: \r\n        count0++;\r\n        break;\r\n      case 1:\r\n        count1++;\r\n        break;\r\n      case 2:\r\n        count2++;\r\n        break;\r\n      case 3:\r\n        count3++;\r\n        break;\r\n      case 4:\r\n        count4++;\r\n        break;\r\n      case 5:\r\n        count5++;\r\n        break;\r\n      default: \r\n        break;\r\n    }\r\n  })\r\n  return {\r\n    rating0: (count0 / total) * 100,\r\n    rating1: (count1 / total) * 100,\r\n    rating2: (count2 / total) * 100,\r\n    rating3: (count3 / total) * 100,\r\n    rating4: (count4 / total) * 100,\r\n    rating5: (count5 / total) * 100,\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styles from './ReviewSummary.module.css';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { Progress, Rate } from 'antd';\r\n\r\nexport default function ReviewSummary({ reviews }) {\r\n  return (\r\n    <div className={styles.reviewSummary}>\r\n      <div className={styles.reviewOverall}>\r\n        <div className={styles.reviewAvg}>{Number(reviews.avg).toFixed(1)}</div>\r\n        <Rate disabled defaultValue={Number((Math.round(reviews.avg * 2) / 2).toFixed(1))} allowHalf style={{ fontSize: '15px' }} />\r\n        <div className={styles.reviewNumber}><UserOutlined style={{ marginRight: '3px' }} />{reviews.count}</div>\r\n      </div>\r\n      <div className={styles.ratingCountList}>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>5</span><Progress showInfo={false} percent={reviews.ratingCount.rating5} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>4</span><Progress showInfo={false} percent={reviews.ratingCount.rating4} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>3</span><Progress showInfo={false} percent={reviews.ratingCount.rating3} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>2</span><Progress showInfo={false} percent={reviews.ratingCount.rating2} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>1</span><Progress showInfo={false} percent={reviews.ratingCount.rating1} />\r\n        </div>\r\n        <div className={styles.ratingCount}>\r\n          <span className={styles.rating}>0</span><Progress showInfo={false} percent={reviews.ratingCount.rating0} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport moment from 'moment';\r\nimport { Comment, Avatar, Rate, Button } from 'antd';\r\nimport { serverUrl } from '../lib/constants';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport { ROLES } from '../lib/constants';\r\nimport axios from '../lib/utils/axiosConfig';\r\n\r\nexport default function Review({ review, getTutorReview }) {\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const deleteReview = async (id) => {\r\n    try {\r\n      await axios.delete('/reviews/' + id);\r\n      getTutorReview();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  let deleteBtn = null;\r\n  if (account.role === ROLES.ADMIN || (account.role === ROLES.STUDENT && account.student.id === review.studentId)) {\r\n    deleteBtn = <Button type=\"link\" danger onClick={() => deleteReview(review.id)} >Delete</Button>\r\n  }\r\n\r\n  return (\r\n    <Comment\r\n      author={review.student.name}\r\n      avatar={\r\n        review.student.avatar ?\r\n          <Avatar\r\n            src={serverUrl + review.student.avatar}\r\n          /> :\r\n          <Avatar\r\n            icon={<UserOutlined />}\r\n          />\r\n      }\r\n      content={\r\n        <p>\r\n          {review.comment}\r\n        </p>\r\n      }\r\n      datetime={moment(review.createdAt).fromNow()}\r\n      actions={[<Rate disabled defaultValue={review.rating} style={{ fontSize: '12px' }} />, deleteBtn]}\r\n    />\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './TutorReviewModal.module.css';\r\nimport { Modal, List } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { getReviewCount } from '../../lib/utils/getReviewCount';\r\nimport ReviewSummary from '../../components/ReviewSummary';\r\nimport Review from '../../components/Review';\r\n\r\n\r\nexport default function TutorReviewModal({ selected, showReviewModal, setShowReviewModal }) {\r\n  const [reviews, setReviews] = useState(null);\r\n\r\n  const getTutorReview = async () => {\r\n    try {\r\n      const result = await axios.get('/reviews/' + selected.profile.id);\r\n      const ratingCount = getReviewCount(result.data.reviews);\r\n      setReviews({ ...result.data, ratingCount });\r\n    } catch (error) {\r\n      console.log(error.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (selected) {\r\n      getTutorReview();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selected]);\r\n\r\n\r\n  return (\r\n    <Modal\r\n      title={selected ? selected.profile.name : null}\r\n      visible={showReviewModal}\r\n      onCancel={() => setShowReviewModal(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ maxHeight: \"600px\", overflow: \"auto\" }}\r\n    >\r\n      {reviews ?\r\n        (<div>\r\n          <ReviewSummary\r\n            reviews={reviews}\r\n          />\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={reviews.reviews}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <Review review={item} getTutorReview={getTutorReview} />\r\n              </List.Item>\r\n            )}\r\n          />,\r\n        </div>)\r\n        : null\r\n\r\n      }\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { List, Tabs } from 'antd';\r\nimport { RiseOutlined, LikeOutlined, TeamOutlined } from '@ant-design/icons';\r\nimport styles from './TutorList.module.css';\r\nimport TutorCard from './TutorCard';\r\nimport TutorDetailModal from './TutorDetailModal';\r\nimport TutorReviewModal from './TutorReviewModal';\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function TutorList({ startCall, onlineTutors, setTutor }) {\r\n\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [showReviewModal, setShowReviewModal] = useState(false);\r\n\r\n  const callWithVideo = (video, user) => {\r\n    setTutor(user.profile);\r\n    const config = { audio: true, video };\r\n    startCall(true, user.username, config);\r\n  };\r\n\r\n  const openDetailModal = (tutor) => {\r\n    setSelected(tutor);\r\n    setShowDetailModal(true);\r\n  }\r\n\r\n  const openReviewlModal = (tutor) => {\r\n    setSelected(tutor);\r\n    setShowReviewModal(true);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.tutorList}>\r\n      <TutorDetailModal\r\n        selected={selected}\r\n        showDetailModal={showDetailModal}\r\n        setShowDetailModal={setShowDetailModal}\r\n      />\r\n      <TutorReviewModal \r\n        selected={selected}\r\n        showReviewModal={showReviewModal}\r\n        setShowReviewModal={setShowReviewModal}\r\n      />\r\n      <Tabs\r\n        defaultActiveKey=\"online\"\r\n        type=\"card\"\r\n      >\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <TeamOutlined />\r\n              Online\r\n            </span>\r\n          }\r\n          key=\"online\"\r\n          className={styles.tabPane}\r\n        >\r\n          <List\r\n            grid={{ gutter: 16, column: 3 }}\r\n            dataSource={onlineTutors}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <TutorCard\r\n                  item={item}\r\n                  callWithVideo={callWithVideo}\r\n                  openDetailModal={openDetailModal}\r\n                  openReviewlModal={openReviewlModal}\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <LikeOutlined />\r\n              Favorite\r\n            </span>\r\n          }\r\n          key=\"favorite\"\r\n        >\r\n          Favorite\r\n      </TabPane>\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <RiseOutlined />\r\n              Recommend\r\n            </span>\r\n          }\r\n          key=\"recommend\"\r\n        >\r\n          Recommend\r\n      </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { Modal, Form, Rate, Input, Button, Alert } from 'antd';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nexport default function FeedbackModal({ showFeedback, setShowFeedBack, tutor }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [sucessAlert, setSuccessAlert] = useState(false);\r\n  const [errorAlert, setErrorAlert] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n\r\n  const layout = {\r\n    labelCol: { span: 4 },\r\n    wrapperCol: { span: 16 },\r\n  };\r\n\r\n  const tailLayout = {\r\n    wrapperCol: { offset: 4, span: 16 },\r\n  };\r\n\r\n  const onSubmit = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const data = {\r\n        ...values,\r\n        studentId: account.student.id,\r\n        tutorId: tutor.id\r\n      }\r\n      await axios.post('/reviews/', data);\r\n      setLoading(false);\r\n      setSuccessAlert(true);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setErrorAlert(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n\r\n  const closeFeedback = () => {\r\n    setShowFeedBack(false);\r\n    setSuccessAlert(false);\r\n    setErrorAlert(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      visible={showFeedback}\r\n      destroyOnClose\r\n      onCancel={closeFeedback}\r\n      footer={false}\r\n      title=\"Feedback about this tutor\"\r\n    >\r\n      {sucessAlert ? <Alert message=\"Review submitted\" type=\"success\" showIcon /> : null}\r\n      {errorAlert ? <Alert message=\"Fail to submit, please try again\" type=\"error\" showIcon /> : null}\r\n      <Form\r\n        {...layout}\r\n        onFinish={onSubmit}\r\n      >\r\n        <Form.Item name=\"rating\" label=\"Rating\">\r\n          <Rate allowClear={true} defaultValue={0} />\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"comment\" \r\n          label=\"Comment\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your comment',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.TextArea placeholder=\"Share your experience\" />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport socket from '../lib/socket';\r\nimport { SOCKET_EVENTS, ROLES } from '../lib/constants';\r\nimport PeerConnection from '../lib/PeerConnection';\r\nimport _ from 'lodash';\r\nimport CallWindow from './CallWindow';\r\nimport CallModal from './CallModal';\r\nimport TutorList from '../pages/student/TutorList';\r\nimport styles from './VideoCall.module.css';\r\nimport { getTimeFromMs } from '../lib/utils/formatTime';\r\nimport endCallImg from '../assets/endcall.png'\r\nimport { Modal, Button } from 'antd';\r\nimport { FlagOutlined, StarOutlined, LikeOutlined } from '@ant-design/icons';\r\nimport FeedbackModal from '../pages/student/FeedbackModal';\r\n\r\n\r\nexport default function VideoCall({ account }) {\r\n  // video call\r\n  const [callWindow, setCallWindow] = useState(false);\r\n  const [callModal, setCallModal] = useState(false);\r\n  const [callFrom, setCallFrom] = useState({});\r\n  const [localSrc, setLocalSrc] = useState(null);\r\n  const [peerSrc, setPeerSrc] = useState(null);\r\n  const pcRef = useRef({});\r\n  const configRef = useRef(null);\r\n  // record videos when calling\r\n  const peerRecorder = useRef(null);\r\n  const localRecorder = useRef(null);\r\n  // call timer\r\n  const start = useRef(0);\r\n  const end = useRef(0);\r\n  // tutor called with student\r\n  const [onlineTutors, setOnlineTutors] = useState([]);\r\n  const tutor = useRef(null);\r\n\r\n  // control after call modal like report, review, ...\r\n  const [afterCallModal, setAfterCallModal] = useState(false);\r\n  const [showFeedback, setShowFeedback] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //TODO check time with student, refresh after each call to get new time\r\n    socket\r\n      .on(SOCKET_EVENTS.INIT, (data) => {\r\n      })\r\n      .on(SOCKET_EVENTS.REQUEST, ({ from }) => {\r\n        setCallModal(true);\r\n        setCallFrom(from)\r\n      })\r\n      .on(SOCKET_EVENTS.CALL, (data) => {\r\n        if (data.sdp) {\r\n          pcRef.current.setRemoteDescription(data.sdp);\r\n          if (data.sdp.type === 'offer') pcRef.current.createAnswer();\r\n        } else pcRef.current.addIceCandidate(data.candidate);\r\n        start.current = Date.now();\r\n        // auto end call if student runs out of time\r\n        // TODO set duration = remaining time\r\n        if (account.role === ROLES.STUDENT) {\r\n          // setTimeout(() => endCall(true), 3000);\r\n        }\r\n      })\r\n      .on(SOCKET_EVENTS.END, () => endCall(false))\r\n      .on(SOCKET_EVENTS.GET_ONLINE_TUTORS, (data) => {\r\n        setOnlineTutors(data.online);\r\n      })\r\n      .emit(SOCKET_EVENTS.INIT, { account });\r\n    return () => {\r\n      rejectCall();\r\n      socket.emit(SOCKET_EVENTS.LEAVE);\r\n      socket\r\n        .off(SOCKET_EVENTS.INIT)\r\n        .off(SOCKET_EVENTS.REQUEST)\r\n        .off(SOCKET_EVENTS.CALL)\r\n        .off(SOCKET_EVENTS.END)\r\n        .off(SOCKET_EVENTS.GET_ONLINE_TUTORS)\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [account]);\r\n\r\n  useEffect(() => {\r\n    if (peerSrc && account.role === ROLES.TUTOR) {\r\n      peerRecorder.current = new MediaRecorder(peerSrc, { mimeType: \"video/webm; codecs=vp9\" });\r\n      peerRecorder.current.ondataavailable = e => {\r\n        if (e.data && e.data.size > 0) {\r\n          socket.emit(SOCKET_EVENTS.RECORD_STUDENT, e.data);\r\n        }\r\n      }\r\n      peerRecorder.current.start(1000);\r\n    }\r\n  }, [peerSrc, account.role]);\r\n\r\n  useEffect(() => {\r\n    if (localSrc && account.role === ROLES.TUTOR) {\r\n      localRecorder.current = new MediaRecorder(localSrc, { mimeType: \"video/webm; codecs=vp9\" });\r\n      localRecorder.current.ondataavailable = e => {\r\n        if (e.data && e.data.size > 0) {\r\n          socket.emit(SOCKET_EVENTS.RECORD_TUTOR, e.data);\r\n        }\r\n      }\r\n      localRecorder.current.start(1000);\r\n    }\r\n  }, [localSrc, account.role]);\r\n\r\n  const setTutor = tutorProfile => {\r\n    tutor.current = tutorProfile;\r\n  }\r\n\r\n  const startCall = (isCaller, friendID, config) => {\r\n    configRef.current = config;\r\n    pcRef.current = new PeerConnection(friendID)\r\n      .on('localStream', (src) => {\r\n        setCallWindow(true);\r\n        setLocalSrc(src)\r\n        if (!isCaller) setCallModal(false)\r\n      })\r\n      .on('peerStream', src => setPeerSrc(src))\r\n      .start(isCaller, config);\r\n  }\r\n\r\n  const rejectCall = () => {\r\n    socket.emit(SOCKET_EVENTS.END, { to: callFrom.username });\r\n    setCallModal(false);\r\n  }\r\n\r\n  const endCall = async (isStarter) => {\r\n    if (account.role === ROLES.TUTOR) {\r\n      socket.emit(SOCKET_EVENTS.SAVE_VIDEOS, callFrom.student);\r\n    }\r\n    end.current = Date.now();\r\n    if (start.current > 0) {\r\n      setAfterCallModal(true);\r\n    }\r\n    if (_.isFunction(pcRef.current.stop)) {\r\n      pcRef.current.stop(isStarter);\r\n    }\r\n    await stopRecording();\r\n    pcRef.current = {};\r\n    configRef.current = null;\r\n    setCallModal(false);\r\n    setCallWindow(false);\r\n    setLocalSrc(null);\r\n    setPeerSrc(null);\r\n  }\r\n\r\n  const stopRecording = async (e) => {\r\n    if (account.role === ROLES.STUDENT) {\r\n      if (peerRecorder.current && peerSrc) {\r\n        peerRecorder.current.stop();\r\n      }\r\n      if (localRecorder.current && localSrc) {\r\n        localRecorder.current.stop();\r\n      }\r\n    }\r\n  }\r\n\r\n  const closeAfterCall = () => {\r\n    setAfterCallModal(false);\r\n    start.current = 0;\r\n    end.current = 0;\r\n  }\r\n\r\n  let renderCallFrom = null;\r\n  let btnHolder = null;\r\n  if (callFrom.student) {\r\n    renderCallFrom = callFrom.student.name;\r\n    btnHolder = (\r\n      <div>\r\n        <Button\r\n          shape=\"round\"\r\n          type=\"danger\"\r\n          icon={<FlagOutlined />}\r\n          size=\"small\"\r\n        >\r\n          Report\r\n        </Button>\r\n      </div>\r\n    )\r\n  } else if (tutor.current) {\r\n    renderCallFrom = tutor.current.name;\r\n    btnHolder = (\r\n      <div>\r\n        <Button\r\n          shape=\"round\"\r\n          type=\"primary\"\r\n          icon={<LikeOutlined />}\r\n          size=\"small\"\r\n        >\r\n          Favorite\r\n        </Button>\r\n        <Button\r\n          shape=\"round\"\r\n          icon={<StarOutlined />}\r\n          size=\"small\"\r\n          onClick={() => setShowFeedback(true)}\r\n        >\r\n          Feedback\r\n        </Button>\r\n        <Button\r\n          shape=\"round\"\r\n          type=\"danger\"\r\n          icon={<FlagOutlined />}\r\n          size=\"small\"\r\n        >\r\n          Report\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={styles.videoCall}>\r\n      <FeedbackModal\r\n        tutor={tutor.current}\r\n        showFeedback={showFeedback}\r\n        setShowFeedBack={setShowFeedback}\r\n      />\r\n      {(account.role === ROLES.STUDENT && !callWindow) && (\r\n        <TutorList\r\n          onlineTutors={onlineTutors}\r\n          startCall={startCall}\r\n          setTutor={setTutor}\r\n        />\r\n      )}\r\n      {!_.isEmpty(configRef.current) && (\r\n        <CallWindow\r\n          callWindow={callWindow}\r\n          localSrc={localSrc}\r\n          peerSrc={peerSrc}\r\n          config={configRef.current}\r\n          mediaDevice={pcRef.current.mediaDevice}\r\n          endCall={endCall}\r\n        />\r\n      )}\r\n      <CallModal\r\n        callModal={callModal}\r\n        startCall={startCall}\r\n        rejectCall={rejectCall}\r\n        callFrom={callFrom}\r\n      />\r\n      <Modal\r\n        visible={afterCallModal}\r\n        title=\"Call ended\"\r\n        onCancel={closeAfterCall}\r\n        destroyOnClose\r\n        footer={false}\r\n        width=\"600px\"\r\n      >\r\n        <div className={styles.afterCall}>\r\n          <img className={styles.endCallImg} src={endCallImg} draggable={false} alt=\"\" />\r\n          <div>\r\n            <div className={styles.endUser}>\r\n              Call with {renderCallFrom}\r\n            </div>\r\n            <div className={styles.endDuration}>\r\n              Duration: {getTimeFromMs(end.current - start.current)}\r\n            </div>\r\n            <div className={styles.btnHolder}>\r\n              {btnHolder}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n","export const getTimeFromMs = (millisec) => {\r\n  var seconds = (millisec / 1000).toFixed(0);\r\n  var minutes = Math.floor(seconds / 60);\r\n  var hours = \"\";\r\n  if (minutes > 59) {\r\n      hours = Math.floor(minutes / 60);\r\n      hours = (hours >= 10) ? hours : \"0\" + hours;\r\n      minutes = minutes - (hours * 60);\r\n      minutes = (minutes >= 10) ? minutes : \"0\" + minutes;\r\n  }\r\n\r\n  seconds = Math.floor(seconds % 60);\r\n  seconds = (seconds >= 10) ? seconds : \"0\" + seconds;\r\n  if (hours !== \"\") {\r\n      return hours + \":\" + minutes + \":\" + seconds;\r\n  }\r\n  return minutes + \":\" + seconds;\r\n}","import React, { useContext } from 'react';\r\nimport VideoCall from '../../components/VideoCall';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport styles from './Study.module.css';\r\nimport Unverify from '../../assets/unverify.png';\r\n\r\nexport default function Study() {\r\n  const { account } = useContext(AccountContext);\r\n  return (\r\n    <div className={styles.study}>\r\n      {(account && account.verification) ? <VideoCall account={account} /> :\r\n        <div className={styles.unverify}>\r\n          <img className={styles.unverifyImg} src={Unverify} alt=\"\" draggable=\"false\" />\r\n          <div className={styles.unverifyTxt}>\r\n            <p>You are almost ready!</p>\r\n            <p>Verify your account to start now!</p>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Layout, Avatar, Dropdown, Menu } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport styles from './Student.module.css';\r\nimport { UserOutlined, DownOutlined, KeyOutlined, LogoutOutlined, BarChartOutlined, ContactsOutlined, VideoCameraOutlined } from '@ant-design/icons';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\nimport Profile from './Profile';\r\nimport Stats from './Stats';\r\nimport Study from './Study';\r\nimport { serverUrl } from '../../lib/constants';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Student(props) {\r\n  const { account, onSignOut } = useContext(AccountContext);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { location } = props;\r\n  const userAvatar = (account.student && account.student.avatar) ?\r\n    <Avatar style={{ margin: \"10px\" }} src={serverUrl + account.student.avatar} /> :\r\n    <Avatar style={{ margin: \"10px\" }} icon={<UserOutlined />} />\r\n  useEffect(() => {\r\n    \r\n  }, []);\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined /><span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined /><span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <Layout style={{ minHeight: '100vh' }}>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider>\r\n        <SideBarLogo collapsed={false} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={[\"/student/video-call\"]} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/student/study\">\r\n            <VideoCameraOutlined /><Link to=\"/student/study\"><span>Study</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/student\">\r\n            <ContactsOutlined /><Link to=\"/student\"><span>Profile</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/student/stats\">\r\n            <BarChartOutlined /><Link to=\"/student/stats\"><span>Stats</span></Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header>\r\n          <div className={styles.userControl}>  \r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div>\r\n                {userAvatar}<DownOutlined className={styles.dropDownIcon} />\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/student/stats\" component={Stats} />\r\n            <Route path=\"/student/Study\" component={Study} />\r\n            <Route path=\"/student\" component={Profile} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useState, useContext } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport 'webrtc-adapter';\r\nimport RecordRTC from 'recordrtc';\r\nimport 'videojs-record/dist/css/videojs.record.css';\r\nimport 'videojs-record/dist/videojs.record.js';\r\nimport { Button } from 'antd';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport styles from './VideoRecorder.module.css';\r\n\r\nconst videoJsOptions = {\r\n  controls: true,\r\n  width: 480,\r\n  height: 360,\r\n  fluid: false,\r\n  plugins: {\r\n    record: {\r\n      audio: true,\r\n      video: true,\r\n      maxLength: 120,\r\n      debug: true\r\n    }\r\n  }\r\n};\r\n\r\nexport default function VideoRecorder({ cancelRecord, existedVideo, refreshProfile }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const [recorded, setRecorded] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const { account } = useContext(AccountContext);\r\n  const uploadVideo = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append('video', recorded, 'introVideo.webm');\r\n      await axios('/tutors/video/' + account.username, {\r\n        data: formData,\r\n        method: 'POST'\r\n      });\r\n      cancelRecord();\r\n      refreshProfile();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error.response)\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION +\r\n        ' with videojs-record ' + videojs.getPluginVersion('record') +\r\n        ' and recordrtc ' + RecordRTC.version;\r\n      videojs.log(version_info);\r\n    });\r\n    player.current.on('deviceReady', () => {\r\n      console.log('device is ready!');\r\n    });\r\n    player.current.on('startRecord', () => {\r\n      console.log('started recording!');\r\n    });\r\n\r\n    // user completed recording and stream is available\r\n    player.current.on('finishRecord', () => {\r\n      // recordedData is a blob object containing the recorded data that\r\n      // can be downloaded by the user, stored on server etc.\r\n      console.log('finished recording: ', player.current.recordedData);\r\n      setRecorded(player.current.recordedData);\r\n    });\r\n\r\n    // error handling\r\n    player.current.on('error', (element, error) => {\r\n      console.warn(error);\r\n    });\r\n\r\n    player.current.on('deviceError', () => {\r\n      console.error('device error:', player.current.deviceErrorCode);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <div data-vjs-player>\r\n        <video id=\"myVideoRecord\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin\" playsInline></video>\r\n      </div>\r\n      {existedVideo ? (\r\n        <div className={styles.btnWrapper}>\r\n          <Button className={styles.videoBtn} onClick={uploadVideo} loading={loading}>Upload</Button>\r\n          <Button className={styles.videoBtn} type=\"danger\" onClick={cancelRecord}>Cancel</Button>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.btnWrapperNoCancel}>\r\n          <Button className={styles.videoBtn} onClick={uploadVideo} loading={loading}>Upload</Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useContext } from 'react';\r\nimport 'video.js/dist/video-js.css';\r\nimport videojs from 'video.js';\r\nimport { Button } from 'antd';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport styles from './VideoPlayer.module.css';\r\n\r\nexport default function VideoPlayer({ recordNew }) {\r\n  const player = useRef(null);\r\n  const videoNode = useRef(null);\r\n  const { account } = useContext(AccountContext);\r\n  const videoJsOptions = {\r\n    controls: true,\r\n    width: 480,\r\n    height: 360,\r\n    fluid: false,\r\n    sources: [{\r\n      src: serverUrl + 'api/tutors/video/' + account.username,\r\n      type: 'video/webm'\r\n    }],\r\n    autoplay: false\r\n  };\r\n  useEffect(() => {\r\n    player.current = videojs(videoNode.current, videoJsOptions, () => {\r\n      const version_info = 'Using video.js ' + videojs.VERSION\r\n      videojs.log(version_info);\r\n    });\r\n    return () => {\r\n      if (player.current) {\r\n        player.current.dispose();\r\n      }\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <div data-vjs-player>\r\n        <video id=\"myVideo\" ref={node => videoNode.current = node} className=\"video-js vjs-default-skin vjs-big-play-centered\" playsInline></video>\r\n      </div>\r\n      <div className={styles.btnWrapper} >\r\n       <Button onClick={recordNew}>Record new video</Button>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport styles from './Profile.module.css';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { UserOutlined, UploadOutlined, FileTextOutlined, FileImageOutlined, FileDoneOutlined } from '@ant-design/icons';\r\nimport { Avatar, Collapse, Form, Input, DatePicker, Button, Select, Upload, Alert, Tag, Spin } from 'antd';\r\nimport preferences from '../../lib/preferences';\r\nimport moment from 'moment';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport VideoRecorder from './VideoRecorder';\r\nimport VideoPlayer from './VideoPlayer';\r\nimport { PROFILE_STATUS } from '../../lib/constants';\r\nconst { Panel } = Collapse;\r\nconst { Option } = Select;\r\n\r\nexport default function Profile() {\r\n  const [loadingProfile, setLoadingProfile] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profile, setProfile] = useState({ account: { email: null } });\r\n  const { account } = useContext(AccountContext);\r\n  const [fileList, setFileList] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [loadingAva, setLoadingAva] = useState(false);\r\n  const [avatar, setAvatar] = useState([]);\r\n  const [isRecord, setIsRecord] = useState(true);\r\n\r\n  const getTutorProfile = async () => {\r\n    try {\r\n      setLoadingProfile(true);\r\n      const result = await axios.get('/tutors/' + account.tutor.id);\r\n      setProfile(result.data.tutor);\r\n      if (result.data.tutor.video) {\r\n        setIsRecord(false);\r\n      }\r\n      setLoadingProfile(false);\r\n    } catch (error) {\r\n      setLoadingProfile(true);\r\n      console.log(error.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getTutorProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const avatarProfile = (profile && profile.avatar) ?\r\n    <Avatar src={serverUrl + profile.avatar} size={100} />\r\n    : <Avatar icon={<UserOutlined />} size={100} />\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 5 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const uploadBtnLayout = {\r\n    wrapperCol: { offset: 5, span: 16 }\r\n  }\r\n  const onSubmit = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      await axios.put('/tutors/' + profile.id, values);\r\n      getTutorProfile();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response)\r\n    }\r\n  }\r\n  const uploadProps = {\r\n    onRemove: file => {\r\n      const index = fileList.indexOf(file);\r\n      const newFileList = fileList.slice();\r\n      newFileList.splice(index, 1);\r\n      setFileList(newFileList);\r\n    },\r\n    beforeUpload: file => {\r\n      const isPdfOrWord = file.type === 'application/pdf' || file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n      if (isPdfOrWord) {\r\n        setFileList([...fileList, file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: fileList,\r\n  };\r\n  const uploadAvaProps = {\r\n    onRemove: file => {\r\n      setAvatar([]);\r\n    },\r\n    beforeUpload: file => {\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n      if (isJpgOrPng) {\r\n        setAvatar([file]);\r\n      }\r\n      return false;\r\n    },\r\n    fileList: avatar,\r\n  }\r\n  const handleUpload = async () => {\r\n    try {\r\n      setUploading(true);\r\n      const formData = new FormData();\r\n      fileList.forEach(file => {\r\n        formData.append('certificates', file);\r\n      });\r\n      await axios('/tutors/certificates/' + profile.account.username, {\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n      await getTutorProfile();\r\n      setUploading(false);\r\n    } catch (error) {\r\n      console.log(error.response)\r\n      setUploading(false);\r\n    }\r\n  }\r\n\r\n  const uploadAvatar = async () => {\r\n    try {\r\n      setLoadingAva(true);\r\n      const formData = new FormData();\r\n      formData.append('avatar', avatar[0]);\r\n      await axios('/tutors/avatar/' + profile.account.username, {\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n      await getTutorProfile();\r\n      window.location.reload(false);\r\n      setLoadingAva(false);\r\n    } catch (error) {\r\n      setLoadingAva(false);\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  const resendConfirmation = async () => {\r\n    try {\r\n      await axios.post('/accounts/resend-verify', { email: account.email });\r\n    } catch (error) {\r\n      console.log(error.response)\r\n    }\r\n  }\r\n\r\n  let profileStatus;\r\n  if (profile.profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n    profileStatus = <Alert message=\"Your tutor profile is ready\" type=\"success\" showIcon />\r\n  } else if (profile.profileStatus === PROFILE_STATUS.PENDING) {\r\n    profileStatus = <Alert message=\"Your tutor profile is being reviewed by Admin\" type=\"info\" showIcon />\r\n  } else if (profile.profileStatus === PROFILE_STATUS.REJECTED) {\r\n    profileStatus = <Alert message=\"Your tutor profile is rejected, edit now\" type=\"error\" showIcon />\r\n  }\r\n  return (\r\n    <Spin spinning={loadingProfile}>\r\n      <div className={styles.profile}>\r\n        <div className={styles.accountInfoContainer}>\r\n          {avatarProfile}\r\n          <div className={styles.accountInfo}>\r\n            <p className={styles.name}>{profile.name}</p>\r\n            <p>Email: {profile.account.email}</p>\r\n            {account.verification ? (\r\n              <Tag color=\"success\">Verified</Tag>\r\n            ) : (\r\n                <span><Tag color=\"default\">Unverified</Tag><Button type=\"link\" onClick={resendConfirmation}>Resend confirmation email</Button></span>\r\n              )}\r\n            <div className={styles.profileStatus}>\r\n              {profileStatus}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.collapse}>\r\n          {profile.name ? (\r\n            <Form\r\n              {...formItemLayout}\r\n              onFinish={onSubmit}\r\n              initialValues={{\r\n                name: profile.name,\r\n                phone: profile.phone,\r\n                birthdate: profile.birthdate ? moment(profile.birthdate) : undefined,\r\n                address: profile.address,\r\n                interests: profile.interests,\r\n                education: profile.education,\r\n                experience: profile.experience,\r\n                profession: profile.profession,\r\n                student_type: profile.student_type ? profile.student_type : undefined,\r\n                student_lvl: profile.student_lvl ? profile.student_lvl : undefined,\r\n                accent: profile.accent ? profile.accent : undefined,\r\n                fluency: profile.fluency ? profile.fluency : undefined,\r\n                reason: profile.reason,\r\n                specialities: (profile.specialities) ? JSON.parse(profile.specialities) : undefined,\r\n                introduction: profile.introduction,\r\n                teaching_styles: (profile.teaching_styles) ? JSON.parse(profile.teaching_styles) : undefined,\r\n              }}\r\n            >\r\n              <Collapse defaultActiveKey={[\"1\"]}>\r\n                <Panel header=\"Basic info\" key=\"1\">\r\n                  <Form.Item label=\"Name\" name=\"name\" rules={[{ required: true, message: 'Please enter your name' }]}>\r\n                    <Input placeholder=\"Your fullname\" value={profile.name} />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"phone\" label=\"Phone\">\r\n                    <Input placeholder=\"Your phone number (optional)\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"birthdate\" label=\"Birthdate\">\r\n                    <DatePicker />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"address\" label=\"Address\">\r\n                    <Input placeholder=\"Where do you from? E.g Hanoi, Vietnam\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"avatar\" label=\"Upload avatar\">\r\n                    <Upload {...uploadAvaProps} listType=\"picture-card\">\r\n                      <Button icon={<FileImageOutlined />}>\r\n                        Change avatar\r\n                    </Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button disabled={avatar.length <= 0} onClick={uploadAvatar} loading={loadingAva} style={{ width: \"159px\" }} icon={<UploadOutlined />}>Upload avatar</Button>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"CV\" key=\"2\">\r\n                  <Form.Item name=\"interests\" label=\"Interests\">\r\n                    <Input.TextArea placeholder=\"Share with us everything you want such as interests, hobbies, life experiences\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"education\" label=\"Education\">\r\n                    <Input.TextArea placeholder=\"E.g Bachelor of Information Technology\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"experience\" label=\"Experience\">\r\n                    <Input.TextArea placeholder=\"Your working experience\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"profession\" label=\"Profession\">\r\n                    <Input placeholder=\"Your current or previous jobs\" />\r\n                  </Form.Item>\r\n                  <Form.Item name=\"reason\" label=\"Reason\">\r\n                    <Input.TextArea placeholder=\"Why do you want to join Mirage?\" />\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Teaching preferences\" key=\"3\">\r\n                  <Form.Item name=\"student_type\" label=\"Target\">\r\n                    <Select placeholder=\"Who do you want to teach?\" >\r\n                      {preferences.STUDENT_TYPE.map(type => {\r\n                        return <Option value={type} key={type}>{type}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"student_lvl\" label=\"Student level\">\r\n                    <Select placeholder=\"You are good at teaching students who are\">\r\n                      {preferences.STUDENT_LVL.map(lvl => {\r\n                        return <Option value={lvl} key={lvl}>{lvl}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"accent\" label=\"Accent\">\r\n                    <Select placeholder=\"Your English accent\">\r\n                      {preferences.ENG_ACCENT.map(accent => {\r\n                        return <Option value={accent} key={accent}>{accent}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"fluency\" label=\"Fluency\">\r\n                    <Select placeholder=\"Your fluency\">\r\n                      {preferences.ENG_FLUENCY.map(fluency => {\r\n                        return <Option value={fluency} key={fluency}>{fluency}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"specialities\" label=\"Specialities\">\r\n                    <Select mode=\"multiple\" placeholder=\"Select your specialities\">\r\n                      {preferences.SPECIALITIES.map(spec => {\r\n                        return <Option value={spec} key={spec}>{spec}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item name=\"teaching_styles\" label=\"Teaching styles\">\r\n                    <Select mode=\"multiple\" placeholder=\"Your styles\">\r\n                      {preferences.TEACHING_STYLE.map(style => {\r\n                        return <Option value={style} key={style}>{style}</Option>\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Panel>\r\n                <Panel header=\"Teaching certificates (optional)\" key=\"4\">\r\n                  {/* render uploaded files */}\r\n                  {(profile.certificates && JSON.parse(profile.certificates).length > 0) ?\r\n                    (<Form.Item {...formItemLayout} label=\"Uploaded file(s)\">\r\n                      <div className={styles.uploadedCert}>\r\n                        {profile.certificates ? (\r\n                          JSON.parse(profile.certificates).map((cert, index) => {\r\n                            return (<a key={index} href={serverUrl + cert.path}><FileDoneOutlined />{cert.originalname}</a>);\r\n                          })\r\n                        ) : null}\r\n                      </div>\r\n                    </Form.Item>) : null\r\n                  }\r\n                  <Form.Item name=\"files\" label=\"Upload certificate\">\r\n                    <Upload {...uploadProps} listType=\"picture-card\">\r\n                      <Button icon={<FileTextOutlined />}>\r\n                        Select File\r\n                    </Button>\r\n                    </Upload>\r\n                  </Form.Item>\r\n                  <Form.Item {...uploadBtnLayout}>\r\n                    <Button onClick={handleUpload} loading={uploading} style={{ width: \"132px\" }} icon={<UploadOutlined />}>Upload</Button>\r\n                  </Form.Item>\r\n                  <Alert message=\"Warning: All your previous upload will be removed when uploading new certificates\" type=\"warning\" showIcon />\r\n                </Panel>\r\n                <Panel header=\"Introduce yourself\" key=\"5\">\r\n                  <Form.Item name=\"introduction\" label=\"Introduction\">\r\n                    <Input.TextArea placeholder=\"Introduce yourself\" />\r\n                  </Form.Item>\r\n                  <div>\r\n                    <p className={styles.introInstruct}>Record a video to emphasize your teaching style, expertise and personality to help students overcome their nerve when speaking with foreigners.\r\n                    A friendly video will encourage the stundents to call you.\r\n                  A few helpful tips:</p>\r\n                    <div className={styles.introTips}>\r\n                      <p>1. Make sure your camera/webcam is working properly</p>\r\n                      <p>2. Find a clean and quiet room</p>\r\n                      <p>3. Look at the camera and smile</p>\r\n                      <p>4. Dress smart</p>\r\n                      <p>5. Speak for 1-2 minutes</p>\r\n                    </div>\r\n                  </div>\r\n                  <Form.Item label=\"Intro video\">\r\n                    {isRecord ?\r\n                      <VideoRecorder cancelRecord={() => setIsRecord(false)} existedVideo={profile.video} refreshProfile={getTutorProfile} /> :\r\n                      <VideoPlayer recordNew={() => setIsRecord(true)} />}\r\n                  </Form.Item>\r\n                </Panel>\r\n              </Collapse>\r\n              <div className={styles.submitWrapper}>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                  Update profile\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          ) : null}\r\n\r\n        </div>\r\n      </div>\r\n    </Spin>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Stats() {\r\n  return (\r\n    <div>\r\n      Stats\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport VideoCall from '../../components/VideoCall';\r\nimport { Spin, Steps } from 'antd';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { SolutionOutlined, ProfileOutlined, SmileOutlined } from '@ant-design/icons';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport styles from './Teaching.module.css';\r\nimport { PROFILE_STATUS } from '../../lib/constants';\r\nimport WaitImg from '../../assets/tutor-wait.png';\r\nimport CompleteProfileImg from '../../assets/complete-profile.png';\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Teaching() {\r\n  const { account } = useContext(AccountContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const [profile, setProfile] = useState({});\r\n\r\n  const getProfile = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get('/tutors/' + account.tutor.id);             \r\n      account.tutor = result.data.tutor;\r\n      setProfile(result.data.tutor);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProfile();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n\r\n  let profileStatus;\r\n  if (profile.profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n    profileStatus = <Step status=\"finish\" title=\"Profile approval\" icon={<ProfileOutlined />} />\r\n  } else if (profile.profileStatus === PROFILE_STATUS.PENDING) {\r\n    profileStatus = <Step status=\"wait\" title=\"Profile approval\" icon={<ProfileOutlined />} />\r\n  } else if (profile.profileStatus === PROFILE_STATUS.REJECTED) {\r\n    profileStatus = <Step status=\"error\" title=\"Profile approval\" icon={<ProfileOutlined />} />\r\n  }\r\n\r\n  return (\r\n    <div className={styles.teaching}>\r\n      <Spin size=\"large\" spinning={loading}>\r\n        <Steps style={{ width: \"100%\" }}>\r\n          <Step status={(profile.account && profile.account.verification) ? \"finish\" : \"wait\"} title=\"Verification\" icon={<SolutionOutlined />} />\r\n          {profileStatus}\r\n          <Step status={(profile.account && profile.account.verification && profile.profileStatus === PROFILE_STATUS.ACCEPTED) ? \"finish\" : \"wait\"} title=\"Ready\" icon={<SmileOutlined />} />\r\n        </Steps>\r\n        {(profile.account && profile.account.verification && profile.profileStatus === PROFILE_STATUS.ACCEPTED) ?\r\n          (<div className={styles.wait}>\r\n            <img className={styles.waitImg} src={WaitImg} alt=\"\" draggable=\"false\" />\r\n            <div className={styles.waitTxt}>\r\n              <p>You are all set!</p>\r\n              <p>Be patient and stay here.</p>\r\n              <p>Students will start calling you soon.</p>\r\n            </div>\r\n          </div>)\r\n          :\r\n          (<div className={styles.wait}>\r\n            <img className={styles.waitImg} src={CompleteProfileImg} alt=\"\" draggable=\"false\" />\r\n            <div className={styles.waitTxt}>\r\n              <p>You are almost ready!</p>\r\n              <p>Complete your profile to start now!</p>\r\n              <p>Students are waiting to see you.</p>\r\n            </div>\r\n          </div>)\r\n        }\r\n        {loading ? null : <VideoCall account={account} />}\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Layout, Avatar, Dropdown, Menu } from 'antd';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport styles from './Tutor.module.css';\r\nimport { UserOutlined, DownOutlined, KeyOutlined, LogoutOutlined, BarChartOutlined, ContactsOutlined, VideoCameraOutlined } from '@ant-design/icons';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport Profile from './Profile';\r\nimport Stats from './Stats';\r\nimport Teaching from './Teaching';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\nimport { serverUrl } from '../../lib/constants';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Tutor(props) {\r\n  const { account, onSignOut } = useContext(AccountContext);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { location } = props;\r\n  const userAvatar = (account.tutor && account.tutor.avatar) ?\r\n    <Avatar style={{ margin: \"10px\" }} src={serverUrl + account.tutor.avatar} /> :\r\n    <Avatar style={{ margin: \"10px\" }} icon={<UserOutlined />} />\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined /><span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined /><span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <Layout style={{ minHeight: '100vh' }}>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider>\r\n        <SideBarLogo collapsed={false} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={[\"/tutor\"]} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/tutor\">\r\n            <ContactsOutlined /><Link to=\"/tutor\"><span>Profile</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/tutor/teaching\">\r\n            <VideoCameraOutlined /><Link to=\"/tutor/teaching\"><span>Teaching</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/tutor/stats\">\r\n            <BarChartOutlined /><Link to=\"/tutor/stats\"><span>Stats</span></Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header>\r\n          <div className={styles.userControl}>\r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div>\r\n                {userAvatar}<DownOutlined className={styles.dropDownIcon} />\r\n              </div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/tutor/stats\" component={Stats} />\r\n            <Route path=\"/tutor/teaching\" component={Teaching} />\r\n            <Route path=\"/tutor\" component={Profile} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Dashboard() {\r\n  return (\r\n    <div>\r\n      Dashboard\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './StudentProfile.module.css';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Tag, Spin, Modal, Avatar, Tabs, Button, Descriptions } from 'antd';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport { STATES } from '../../lib/constants';\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function StudentProfile({ selected, getStudentsData, setShowDetailModal, showDetailModal }) {\r\n  const [loadingDetail, setLoadingDetail] = useState(false);\r\n  const [detail, setDetail] = useState(null);\r\n  const [stateLoading, setStateLoading] = useState(false);\r\n\r\n  const updateStateUser = async (state) => {\r\n    try {\r\n      setStateLoading(true);\r\n      await axios.put('/accounts/' + selected.accountId, { state: state });\r\n      await getStudentsData();\r\n      setStateLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setStateLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getStudentDetail = async () => {\r\n      try {\r\n        setLoadingDetail(true);\r\n        const result = await axios.get('/students/' + selected.id);\r\n        setDetail(result.data.student);\r\n        setLoadingDetail(false);\r\n      } catch (error) {\r\n        setLoadingDetail(false);\r\n      }\r\n    };\r\n    if (selected) {\r\n      getStudentDetail();\r\n    }\r\n  }, [selected]);\r\n\r\n  const renderDetail = detail ?\r\n    (<Tabs defaultActiveKey=\"profile\" type=\"card\">\r\n      <TabPane tab=\"Profile\" key=\"profile\">\r\n        <div className={styles.detail}>\r\n          <div className={styles.detailBasic}>\r\n            {detail.avatar ? <Avatar src={serverUrl + detail.avatar} size={100} />\r\n              : <Avatar icon={<UserOutlined />} size={100} />}\r\n            <div className={styles.detailBasicInfo}>\r\n              <Descriptions size=\"small\" column={1} title={detail.name} bordered>\r\n                <Descriptions.Item label=\"Username\">{selected.username}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Email\">{selected.email}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Birthdate\">{detail.birthdate ? moment(detail.birthdate).format('YYYY-MM-DD') : null}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Status\">\r\n                  {selected.verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>}\r\n                  {selected.state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>}\r\n                </Descriptions.Item>\r\n              </Descriptions>\r\n            </div>\r\n          </div>\r\n          <div className={styles.banBtnHolder}>\r\n            {selected.state ?\r\n              <Button loading={stateLoading} className={styles.changeStateBtn} type=\"primary\" danger onClick={() => updateStateUser(STATES.INACTIVE)}>Ban</Button> :\r\n              <Button loading={stateLoading} className={styles.changeStateBtn} type=\"primary\" onClick={() => updateStateUser(STATES.ACTIVE)}>Unban</Button>}\r\n          </div>\r\n          <div className={styles.detailAdditional}>\r\n            <Descriptions bordered size=\"small\" column={1}>\r\n              <Descriptions.Item label=\"Phone\">{detail.phone}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Birthdate\">{detail.birthdate ? moment(detail.birthdate).format('YYYY-MM-DD') : null}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Student level\">{detail.student_lvl}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Student type\">{detail.student_type}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Favorite accent\">{detail.accent}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Favorite tutor styles\"> {detail.teaching_styles ? JSON.parse(detail.teaching_styles).map(style => { return <Tag key={style}>{style}</Tag> }) : null}</Descriptions.Item>\r\n              <Descriptions.Item label=\"Interests\">{detail.specialities ? JSON.parse(detail.specialities).map(speciality => { return <Tag key={speciality}>{speciality}</Tag> }) : null}</Descriptions.Item>\r\n            </Descriptions>\r\n          </div>\r\n        </div>\r\n      </TabPane>\r\n      <TabPane tab=\"History\" key=\"history\">\r\n        Call history\r\n        </TabPane>\r\n      <TabPane tab=\"Report\" key=\"report\">\r\n        Report\r\n        </TabPane>\r\n      <TabPane tab=\"Subscription\" key=\"subscription\">\r\n        Subscription\r\n        </TabPane>\r\n    </Tabs>\r\n\r\n    )\r\n    : null\r\n\r\n  return (\r\n    <Modal\r\n      title={selected ? selected.name : null}\r\n      visible={showDetailModal}\r\n      onCancel={() => setShowDetailModal(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: \"400px\", overflow: \"auto\" }}\r\n    >\r\n      <Spin spinning={loadingDetail}>\r\n        {renderDetail}\r\n      </Spin>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Table, Tag, Pagination, Spin, Input } from 'antd';\r\nimport styles from './Students.module.css';\r\nimport StudentProfile from './StudentProfile';\r\nconst { Search } = Input;\r\n\r\nexport default function Students() {\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [students, setStudents] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [searchKey, setSearchKey] = useState(\"\");\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const getStudentsData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`/students?page=${page}&size=${pageSize}&search=` + searchKey);\r\n      const tableData = [];\r\n      result.data.students.forEach(student => {\r\n        tableData.push({\r\n          key: student.id,\r\n          id: student.id,\r\n          name: student.name,\r\n          username: student.account.username,\r\n          email: student.account.email,\r\n          state: student.account.state,\r\n          verification: student.account.verification,\r\n          accountId: student.account.id\r\n        })\r\n      });\r\n      setTotal(result.data.totalResults);\r\n      setStudents(tableData);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStudentsData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, pageSize, searchKey]);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name'\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username'\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email'\r\n    }, {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => (state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>)\r\n    }, {\r\n      title: 'Verification',\r\n      dataIndex: 'verification',\r\n      render: verification => (verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>)\r\n    }\r\n  ];\r\n\r\n  const showTotal = () => {\r\n    return `Total ${total} results`;\r\n  };\r\n\r\n  const changePageSize = (current, size) => {\r\n    setPageSize(size);\r\n    setPage(Math.ceil(total / size));\r\n  };\r\n\r\n  const changePage = (page, pageSize) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const onSelectRow = (record, index) => {\r\n    return {\r\n      onClick: event => {\r\n        setSelected(record);\r\n        setShowDetailModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const searchUser = (value) => {\r\n    setSearchKey(value);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.studentsLayout}>\r\n      <StudentProfile\r\n        setShowDetailModal={setShowDetailModal}\r\n        showDetailModal={showDetailModal}\r\n        getStudentsData={getStudentsData}\r\n        selected={selected}\r\n      />\r\n      <div className={styles.searchBar}>\r\n        <Search placeholder=\"Search for username, name or email\" onSearch={searchUser} enterButton />\r\n      </div>\r\n      <Spin spinning={loading}>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={students}\r\n          pagination={false}\r\n          onRow={onSelectRow}\r\n        />\r\n      </Spin>\r\n      <div className={styles.paginationWrapper}>\r\n        <Pagination\r\n          current={page}\r\n          defaultCurrent={page}\r\n          total={total}\r\n          pageSize={pageSize}\r\n          showSizeChanger\r\n          showTotal={showTotal}\r\n          onShowSizeChange={changePageSize}\r\n          onChange={changePage}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './TutorProfile.module.css';\r\nimport { Tag, Spin, Modal, Avatar, Tabs, Button, Alert, Descriptions } from 'antd';\r\nimport { serverUrl } from '../../lib/constants';\r\nimport { UserOutlined, FileDoneOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport { STATES, PROFILE_STATUS } from '../../lib/constants';\r\nimport VideoPlayer from './VideoPlayer';\r\nimport axios from '../../lib/utils/axiosConfig';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function TutorProfile({ selected, setShowDetailModal, getTutorsData, showDetailModal  }) {\r\n  const [loadingDetail, setLoadingDetail] = useState(false);\r\n  const [detail, setDetail] = useState(null);\r\n  const [updateStatusLoading, setUpdateStatusLoading] = useState(false);\r\n  const [stateLoading, setStateLoading] = useState(false);\r\n\r\n\r\n  const updateProfileStatus = async (status) => {\r\n    try {\r\n      setUpdateStatusLoading(true);\r\n      await axios.put('/tutors/' + selected.id, { profileStatus: status });\r\n      await getTutorsData();\r\n      setUpdateStatusLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setUpdateStatusLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateStateUser = async (state) => {\r\n    try {\r\n      setStateLoading(true);\r\n      await axios.put('/accounts/' + selected.accountId, { state: state });\r\n      await getTutorsData();\r\n      setStateLoading(false);\r\n      setShowDetailModal(false);\r\n    } catch (error) {\r\n      setStateLoading(false);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getTutorDetail = async () => {\r\n      try {\r\n        setLoadingDetail(true);\r\n        const result = await axios.get('/tutors/' + selected.id);\r\n        setDetail(result.data.tutor);\r\n        setLoadingDetail(false);\r\n      } catch (error) {\r\n        setLoadingDetail(false);\r\n      }\r\n    };\r\n    if (selected) {\r\n      getTutorDetail();\r\n    }\r\n  }, [selected]);\r\n\r\n  let statusControl = (\r\n    <div className={styles.statusControl}>\r\n      <Alert showIcon message=\"Rejected\" type=\"error\" />\r\n      <div className={styles.statusControlBtnWrapper}>\r\n        <Button\r\n          type=\"primary\"\r\n          style={{ backgroundColor: \"#52c41a\", color: \"white\", borderColor: \"#52c41a\" }}\r\n          className={styles.statusControlBtn}\r\n          onClick={() => updateProfileStatus(PROFILE_STATUS.ACCEPTED)}\r\n        >Accept</Button>\r\n        <Button className={styles.statusControlBtn} onClick={() => updateProfileStatus(PROFILE_STATUS.PENDING)}>Pending</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n  if (selected && selected.profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n    statusControl = (\r\n      <div className={styles.statusControl}>\r\n        <Alert showIcon message=\"Accepted\" type=\"success\" />\r\n        <div className={styles.statusControlBtnWrapper}>\r\n          <Button className={styles.statusControlBtn} onClick={() => updateProfileStatus(PROFILE_STATUS.PENDING)}>Pending</Button>\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            className={styles.statusControlBtn}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.REJECTED)}\r\n          >Reject</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  if (selected && selected.profileStatus === PROFILE_STATUS.PENDING) {\r\n    statusControl = (\r\n      <div className={styles.statusControl}>\r\n        <Alert showIcon message=\"Pending\" type=\"info\" />\r\n        <div className={styles.statusControlBtnWrapper}>\r\n          <Button\r\n            className={styles.statusControlBtn}\r\n            style={{ backgroundColor: \"#52c41a\", color: \"white\", borderColor: \"#52c41a\" }}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.ACCEPTED)}\r\n          >Accept</Button>\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            className={styles.statusControlBtn}\r\n            onClick={() => updateProfileStatus(PROFILE_STATUS.REJECTED)}\r\n          >Reject</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  const tutorProfile = (\r\n    <div>\r\n      <Spin spinning={updateStatusLoading}>\r\n        {statusControl}\r\n        <div>\r\n          {detail ? (\r\n            <div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"Teaching preferences\">\r\n                  <Descriptions.Item label=\"Student level\">{detail.student_lvl}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Student type\">{detail.student_type}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Accent\">{detail.accent}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Fluency\">{detail.fluency}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Tutor styles\"> {detail.teaching_styles ? JSON.parse(detail.teaching_styles).map(style => { return <Tag key={style}>{style}</Tag> }) : null}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Specialities\">{detail.specialities ? JSON.parse(detail.specialities).map(speciality => { return <Tag key={speciality}>{speciality}</Tag> }) : null}</Descriptions.Item>\r\n                </Descriptions>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"CV\">\r\n                  <Descriptions.Item label=\"Interests\">{detail.interests}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Education\">{detail.education}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Experience\">{detail.experience}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Profession\">{detail.profession}</Descriptions.Item>\r\n                  <Descriptions.Item label=\"Reason\">{detail.reason}</Descriptions.Item>\r\n                </Descriptions>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <p className={styles.detailTitle}>Certificates</p>\r\n                <div className={styles.uploadedCert}>\r\n                  {detail.certificates ? (\r\n                    JSON.parse(detail.certificates).map((cert, index) => {\r\n                      return (<a key={index} href={serverUrl + cert.path}><FileDoneOutlined />{cert.originalname}</a>);\r\n                    })\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n              <div className={styles.detailWrapper}>\r\n                <Descriptions bordered size=\"small\" column={1} title=\"Introduction\">\r\n                  <Descriptions.Item label=\"Introduction\">{detail.introduction}</Descriptions.Item>\r\n                </Descriptions>\r\n                {detail.video ? <div className={styles.videoWrapper}><VideoPlayer username={selected.username} /></div> : null}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n\r\n      </Spin>\r\n    </div>\r\n  )\r\n\r\n  const renderDetail = detail ?\r\n    (<Tabs defaultActiveKey=\"info\" type=\"card\">\r\n      <TabPane tab=\"Info\" key=\"info\">\r\n        <div className={styles.detail}>\r\n          <div className={styles.detailBasic}>\r\n            {detail.avatar ? <Avatar src={serverUrl + detail.avatar} size={100} />\r\n              : <Avatar icon={<UserOutlined />} size={100} />}\r\n            <div className={styles.detailBasicInfo}>\r\n              <Descriptions size=\"small\" column={1} title={detail.name} bordered>\r\n                <Descriptions.Item label=\"Username\">{selected.username}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Email\">{selected.email}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Phone\">{detail.phone}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Address\">{detail.address}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Birthdate\">{detail.birthdate ? moment(detail.birthdate).format('YYYY-MM-DD') : null}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Status\">\r\n                  {selected.verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>}\r\n                  {selected.state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>}\r\n                </Descriptions.Item>\r\n              </Descriptions>\r\n            </div>\r\n          </div>\r\n          <div className={styles.banBtnHolder}>\r\n            {selected.state ?\r\n              <Button loading={stateLoading} className={styles.changeStateBtn} type=\"primary\" danger onClick={() => updateStateUser(STATES.INACTIVE)}>Ban</Button> :\r\n              <Button loading={stateLoading} className={styles.changeStateBtn} type=\"primary\" onClick={() => updateStateUser(STATES.ACTIVE)}>Unban</Button>}\r\n          </div>\r\n        </div>\r\n      </TabPane>\r\n      <TabPane tab=\"Profile\" key=\"profile\">\r\n        {tutorProfile}\r\n      </TabPane>\r\n      <TabPane tab=\"History\" key=\"history\">\r\n        Call history\r\n      </TabPane>\r\n      <TabPane tab=\"Report\" key=\"report\">\r\n        Report\r\n      </TabPane>\r\n      <TabPane tab=\"Payment\" key=\"payment\">\r\n        Payment\r\n      </TabPane>\r\n    </Tabs>\r\n\r\n    )\r\n    : null;\r\n\r\n  return (\r\n    <Modal\r\n      title={selected ? selected.name : null}\r\n      visible={showDetailModal}\r\n      onCancel={() => setShowDetailModal(false)}\r\n      footer={null}\r\n      width=\"600px\"\r\n      destroyOnClose\r\n      bodyStyle={{ height: \"400px\", overflow: \"auto\" }}\r\n    >\r\n      <Spin spinning={loadingDetail}>\r\n        {renderDetail}\r\n      </Spin>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from '../../lib/utils/axiosConfig';\r\nimport { Table, Tag, Pagination, Input, Spin} from 'antd';\r\nimport styles from './Tutors.module.css';\r\nimport { PROFILE_STATUS } from '../../lib/constants';\r\nimport TutorProfile from './TutorProfile';\r\nconst { Search } = Input;\r\n\r\n\r\nexport default function Tutors() {\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [tutors, setTutors] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [searchKey, setSearchKey] = useState(\"\");\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const getTutorsData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await axios.get(`/tutors?page=${page}&size=${pageSize}&search=` + searchKey);\r\n      const tableData = [];\r\n      result.data.tutors.forEach(tutor => {\r\n        tableData.push({\r\n          key: tutor.id,\r\n          id: tutor.id,\r\n          name: tutor.name,\r\n          username: tutor.account.username,\r\n          email: tutor.account.email,\r\n          state: tutor.account.state,\r\n          verification: tutor.account.verification,\r\n          accountId: tutor.account.id,\r\n          profileStatus: tutor.profileStatus\r\n        })\r\n      });\r\n      setTotal(result.data.totalResults);\r\n      setTutors(tableData);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error.response);\r\n      setLoading(false);\r\n    }\r\n  };\r\n \r\n  useEffect(() => {\r\n    getTutorsData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, pageSize, searchKey]);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name'\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username'\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email'\r\n    },\r\n    {\r\n      title: 'State',\r\n      dataIndex: 'state',\r\n      render: state => (state ? <Tag color=\"success\">Active</Tag> : <Tag color=\"error\">Inactive</Tag>)\r\n    },\r\n    {\r\n      title: 'Verification',\r\n      dataIndex: 'verification',\r\n      render: verification => (verification ? <Tag color=\"success\">Verified</Tag> : <Tag color=\"default\">Unverified</Tag>)\r\n    },\r\n    {\r\n      title: 'Profile status',\r\n      dataIndex: 'profileStatus',\r\n      render: profileStatus => {\r\n        if (profileStatus === PROFILE_STATUS.ACCEPTED) {\r\n          return <Tag color=\"success\">Accepted</Tag>\r\n        }\r\n        else if (profileStatus === PROFILE_STATUS.PENDING) {\r\n          return <Tag color=\"blue\">Pending</Tag>\r\n        }\r\n        else {\r\n          return <Tag color=\"error\">Rejected</Tag>\r\n        }\r\n      }\r\n    }\r\n  ];\r\n\r\n\r\n  const showTotal = () => {\r\n    return `Total ${total} results`;\r\n  };\r\n\r\n  const changePageSize = (current, size) => {\r\n    setPageSize(size);\r\n    setPage(Math.ceil(total / size));\r\n  };\r\n\r\n  const changePage = (page, pageSize) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const onSelectRow = (record, index) => {\r\n    return {\r\n      onClick: event => {\r\n        setSelected(record);\r\n        setShowDetailModal(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const searchUser = (value) => {\r\n    setSearchKey(value);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.tutorsLayout}>\r\n      <TutorProfile\r\n        selected={selected}\r\n        setShowDetailModal={setShowDetailModal}\r\n        showDetailModal={showDetailModal}\r\n        getTutorsData={getTutorsData}\r\n      />\r\n      <div className={styles.searchBar}>\r\n        <Search placeholder=\"Search for username, name or email\" onSearch={searchUser} enterButton />\r\n      </div>\r\n      <Spin spinning={loading}>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={tutors}\r\n          pagination={false}\r\n          onRow={onSelectRow}\r\n        />\r\n      </Spin>\r\n      <div className={styles.paginationWrapper}>\r\n        <Pagination\r\n          current={page}\r\n          defaultCurrent={page}\r\n          total={total}\r\n          pageSize={pageSize}\r\n          showSizeChanger\r\n          showTotal={showTotal}\r\n          onShowSizeChange={changePageSize}\r\n          onChange={changePage}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Report() {\r\n  return (\r\n    <div>\r\n      Report\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport FooterContent from '../../components/FooterContent';\r\nimport { Layout, Menu, Dropdown, Avatar } from 'antd';\r\nimport { BarChartOutlined, IdcardOutlined, TeamOutlined, DownOutlined, ExceptionOutlined, MenuUnfoldOutlined, MenuFoldOutlined, KeyOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\nimport styles from './Admin.module.css';\r\nimport Dashboard from './Dashboard';\r\nimport Students from './Students';\r\nimport Tutors from './Tutors';\r\nimport AvatarPic from '../../assets/admin-avatar.png';\r\nimport Reports from './Reports';\r\nimport ChangePasswordModal from '../../components/ChangePasswordModal';\r\nimport ForgotPasswordModal from '../../components/ForgotPasswordModal';\r\nimport SideBarLogo from '../../components/SideBarLogo';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nexport default function Admin(props) {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [isChangePass, setIsChangePass] = useState(false);\r\n  const [isForgotPass, setIsForgotPass] = useState(false);\r\n  const { onSignOut, account } = useContext(AccountContext);\r\n  const { location } = props;\r\n\r\n  const onCollapse = (collapsed) => {\r\n    setCollapsed(collapsed)\r\n  }\r\n\r\n  const userMenu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => setIsChangePass(true)}>\r\n        <KeyOutlined /><span>Change password</span>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onSignOut}>\r\n        <LogoutOutlined /><span>Sign out</span>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <Layout>\r\n      <ForgotPasswordModal isVisible={isForgotPass} onClose={() => setIsForgotPass(false)} />\r\n      <ChangePasswordModal\r\n        isVisible={isChangePass}\r\n        onClose={() => setIsChangePass(false)}\r\n        onForgot={() => setIsForgotPass(true)}\r\n      />\r\n      <Sider collapsible collapsed={collapsed} onCollapse={onCollapse} className={styles.adminMenu}>\r\n        <SideBarLogo collapsed={collapsed} />\r\n        <Menu theme=\"dark\" defaultSelectedKeys={[\"/admin\"]} mode=\"inline\" selectedKeys={[location.pathname]}>\r\n          <Menu.Item key=\"/admin\">\r\n            <BarChartOutlined /><Link to=\"/admin\"><span>Dashboard</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/students\">\r\n            <TeamOutlined /><Link to=\"/admin/students\"><span>Students</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/tutors\">\r\n            <IdcardOutlined /><Link to=\"/admin/tutors\"><span>Tutors</span></Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/admin/reports\">\r\n            <ExceptionOutlined /><Link to=\"/admin/reports\"><span>Reports</span></Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header style={{ background: \"white\" }}>\r\n          {\r\n            collapsed ? <MenuUnfoldOutlined className={styles.menuIcon} onClick={() => setCollapsed(false)} /> : <MenuFoldOutlined className={styles.menuIcon} onClick={() => setCollapsed(true)} />\r\n          }\r\n          <div className={styles.userControl}>\r\n            Hello, {account.username}\r\n            <Dropdown overlay={userMenu} placement=\"bottomLeft\">\r\n              <div><Avatar src={AvatarPic} size=\"large\" draggable={false} /><DownOutlined className={styles.dropDownIcon} /></div>\r\n            </Dropdown>\r\n          </div>\r\n        </Header>\r\n        <Content>\r\n          <Switch>\r\n            <Route path=\"/admin/students\" component={Students} />\r\n            <Route path=\"/admin/tutors\" component={Tutors} />\r\n            <Route path=\"/admin/reports\" component={Reports} />\r\n            <Route path=\"/admin\" component={Dashboard} exact />\r\n          </Switch>\r\n        </Content>\r\n        <FooterContent />\r\n      </Layout>\r\n    </Layout>\r\n\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { removeAccountInfo } from '../lib/utils/getAccountInfo';\r\n\r\nexport default function SignOut() {\r\n  useEffect(() => {\r\n    removeAccountInfo();\r\n  }, []);\r\n  return <Redirect to=\"/\" />\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport Default from '../pages/default/Default';\r\nimport Student from '../pages/student/Student';\r\nimport Tutor from '../pages/tutor/Tutor';\r\nimport Admin from '../pages/admin/Admin';\r\nimport { ROLES } from '../lib/constants';\r\nimport SignOut from './SignOut';\r\n\r\nexport default function Router() {\r\n  const { account } = useContext(AccountContext);\r\n  if (account && account.role === ROLES.STUDENT) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/student\" component={Student} />\r\n        <Redirect to=\"/student\" />\r\n      </Switch>\r\n    );\r\n  } else if (account && account.role === ROLES.TUTOR) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/tutor\" component={Tutor} />\r\n        <Redirect to=\"/tutor\" />\r\n      </Switch>\r\n    );\r\n  } else if (account && account.role === ROLES.ADMIN) {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/admin\" component={Admin} />\r\n        <Redirect to=\"/admin\" />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Default} />\r\n        <Route path=\"/sign-out\" component={SignOut} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport AccountContextProvider from './context/AccountContext';\r\nimport Router from './components/Router';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <AccountContextProvider>\r\n        <Router />\r\n      </AccountContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\nimport 'antd/dist/antd.css'\r\n\r\nconst app = (\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"callWindow\":\"CallWindow_callWindow__1Hsc3\",\"videoScreenContainer\":\"CallWindow_videoScreenContainer__c9bra\",\"videoScreen\":\"CallWindow_videoScreen__UnvZD\",\"videoControl\":\"CallWindow_videoControl__3gwCd\",\"callWindowWrapper\":\"CallWindow_callWindowWrapper__pZ405\",\"callTime\":\"CallWindow_callTime__3lQGc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailWrapper\":\"TutorDetailModal_detailWrapper__189TQ\",\"detailTitle\":\"TutorDetailModal_detailTitle__aq2pw\",\"uploadedCert\":\"TutorDetailModal_uploadedCert__olsIL\",\"videoWrapper\":\"TutorDetailModal_videoWrapper__2Agis\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"teaching\":\"Teaching_teaching__2xiG7\",\"waitImg\":\"Teaching_waitImg__2exBm\",\"wait\":\"Teaching_wait__1hDhS\",\"waitTxt\":\"Teaching_waitTxt__2q0ja\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"StudentProfile_detail__3qbFC\",\"detailBasic\":\"StudentProfile_detailBasic__3ZYMT\",\"detailName\":\"StudentProfile_detailName__1UuOE\",\"detailBasicInfo\":\"StudentProfile_detailBasicInfo__31Y_K\",\"banBtnHolder\":\"StudentProfile_banBtnHolder__20xV7\",\"detailAdditional\":\"StudentProfile_detailAdditional__2YP-U\",\"detailAdditionalRow\":\"StudentProfile_detailAdditionalRow__3Qx5o\",\"changeStateBtn\":\"StudentProfile_changeStateBtn__1vRuN\"};"],"sourceRoot":""}