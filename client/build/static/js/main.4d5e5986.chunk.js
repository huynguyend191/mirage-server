(this["webpackJsonpmirage-client"]=this["webpackJsonpmirage-client"]||[]).push([[0],{128:function(e,t,a){e.exports=a.p+"static/media/app-logo.05772604.png"},132:function(e,t,a){e.exports={headerWrapper:"AppLogo_headerWrapper__3QEjT",headerTitle:"AppLogo_headerTitle__SJet6",headerIcon:"AppLogo_headerIcon___aj3L"}},133:function(e,t,a){e.exports={logoContainer:"SideBarLogo_logoContainer__1kC8O",logo:"SideBarLogo_logo__2VbQH",logoText:"SideBarLogo_logoText__38Mpu"}},167:function(e,t,a){e.exports={userControl:"Student_userControl__3SGc9",sideMenu:"Student_sideMenu__2ePph",logoContainer:"Student_logoContainer__1pULu",logo:"Student_logo__2Al0V",logoText:"Student_logoText__1017M"}},168:function(e,t,a){e.exports={forgotPass:"ChangePasswordModal_forgotPass__2PaV8"}},171:function(e,t,a){e.exports={userControl:"Tutor_userControl__xq5ig",sideMenu:"Tutor_sideMenu__16b7O",logoContainer:"Tutor_logoContainer__1Wyv3",logo:"Tutor_logo__aG4W8",logoText:"Tutor_logoText__3bVip"}},175:function(e,t,a){e.exports={logoContainer:"Admin_logoContainer__3WKz2",logo:"Admin_logo__2jN07",logoText:"Admin_logoText__1zzSJ",userControl:"Admin_userControl__1C-I4",dropDownIcon:"Admin_dropDownIcon__bHsT0"}},228:function(e,t,a){e.exports=a.p+"static/media/flame-welcome.2b090893.png"},229:function(e,t,a){e.exports=a.p+"static/media/welcome-student.0c7630e5.png"},230:function(e,t,a){e.exports=a.p+"static/media/welcome-tutor.66b32adc.png"},239:function(e,t,a){e.exports={submitBtn:"ForgotPasswordModal_submitBtn__3TcfT"}},24:function(e,t,a){e.exports={registerContent:"RegisterModal_registerContent__80mK1",registerWelcome:"RegisterModal_registerWelcome__19TFP",registerForm:"RegisterModal_registerForm__10uvC",registerButton:"RegisterModal_registerButton__2svL6",formWrapper:"RegisterModal_formWrapper__sEKbp",switchMode:"RegisterModal_switchMode__27SKS",switchModeWrapper:"RegisterModal_switchModeWrapper__2HPSb",welcomeImg:"RegisterModal_welcomeImg__OQ1qZ",registerWelcomeContent:"RegisterModal_registerWelcomeContent__3vQbH"}},255:function(e,t,a){e.exports=a.p+"static/media/admin-avatar.4fc32273.png"},260:function(e,t,a){e.exports=a(502)},31:function(e,t,a){e.exports={headerContent:"Default_headerContent__3ZlIu",userButton:"Default_userButton__3RtJ9",registerButton:"Default_registerButton__2NXqe",userButtonContainer:"Default_userButtonContainer__hqXNR",defaultBody:"Default_defaultBody__20Ojr",introContainer:"Default_introContainer__2Y07C",welcomeText:"Default_welcomeText__1QUl0",welcomeDescription:"Default_welcomeDescription__1QYFE",introContent:"Default_introContent__16UXl",introImg:"Default_introImg__2XQ5a",becomeTutor:"Default_becomeTutor__1xiNf"}},35:function(e,t,a){e.exports={profile:"Profile_profile__29iwE",accountInfoContainer:"Profile_accountInfoContainer__2PNVq",accountInfo:"Profile_accountInfo__2V7Fk",name:"Profile_name__qbwV3",collapse:"Profile_collapse__2mJ6d",submitWrapper:"Profile_submitWrapper__2SO9c",profileStatus:"Profile_profileStatus__2b2JV",statusAccepted:"Profile_statusAccepted__1uIZy",statusPending:"Profile_statusPending__ljch3",statusRejected:"Profile_statusRejected__1eXUS",uploadedCert:"Profile_uploadedCert__378RX"}},500:function(e,t,a){},502:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),o=a.n(l),c=a(21),s=a(66),i=a(5),u=a(259),m=a(225),p=a.n(m),d=new u.a,E=function(){d.remove("access_token")},f=Object(n.createContext)(null),g=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){if(JSON.parse(localStorage.getItem("remember"))){var e=function(){var e=null,t=d.get("access_token");return t&&(e=p()(t)),e}();e&&o(e)}}),[]);return r.a.createElement(f.Provider,Object.assign({value:{account:l,onSignIn:function(e){o(e)},onSignOut:function(){E(),localStorage.clear(),o(null)}}},e))},h=a(31),b=a.n(h),_=a(503),v=a(22),w=a(504),y=a(76),C=a.n(y),I=a(526),S=a(527),N=a(528),O=_.a.Footer;function x(){return r.a.createElement(O,{className:C.a.footer},r.a.createElement("div",{className:C.a.contactIconContainer},r.a.createElement(I.a,{className:C.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://github.com/huynguyend191")}}),r.a.createElement(S.a,{className:C.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://www.facebook.com/sneezingcat191")}}),r.a.createElement(N.a,{className:C.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://www.instagram.com/sneezingcat191/")}})),r.a.createElement("div",{className:C.a.contactInfoContainer},"Mirage 2020 - English Video Call Platform ",r.a.createElement("br",null),"Contact: huynguyend191@gmail.com"))}var j=a(228),T=a.n(j),k=a(8),P=a.n(k),F=a(16),A=a(506),B=a(508),R=a(510),M=a(24),D=a.n(M),V=a(229),L=a.n(V),U=a(230),W=a.n(U),Y=a(231),q=a.n(Y).a.create({baseURL:"https://mirage-video-call.herokuapp.com/api",withCredentials:!0});function H(e){var t=Object(n.useState)(e.isStudent),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),u=s[0],m=s[1],p=A.a.useForm(),d=Object(i.a)(p,1)[0],E=Object(n.useContext)(f).onSignIn;Object(n.useEffect)((function(){o(e.isStudent)}),[e.isStudent]);var g=function(){var e=Object(F.a)(P.a.mark((function e(t){var a,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),a=l?"/students":"/tutors",n={username:t.username,password:t.password,email:t.email,name:t.name},e.next=6,q.post(a+"/register",n);case 6:r=e.sent,m(!1),E(r.data.account),localStorage.setItem("remember",!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),m(!1),console.log(e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=r.a.createElement("div",{className:D.a.registerWelcomeContent},r.a.createElement("img",{className:D.a.welcomeImg,draggable:!1,src:L.a,alt:""}),r.a.createElement("h3",null,"Experience new way of studying English"),r.a.createElement("h4",null,"Improve your English anywhere anytime"),r.a.createElement("h4",null,"Learn from interesting people around the world")),b=r.a.createElement("div",{className:D.a.registerWelcomeContent},r.a.createElement("img",{className:D.a.welcomeImg,draggable:!1,src:W.a,alt:""}),r.a.createElement("h3",null,"Tutoring with Mirage is fun & rewarding"),r.a.createElement("h4",null,"No experience necessary"),r.a.createElement("h4",null,"Share your knowledge with people and get paid"));return r.a.createElement(B.a,{visible:e.isVisible,footer:null,title:l?"Register as student":"Register as tutor",onCancel:function(){d.resetFields(),e.onClose()},width:"800px"},r.a.createElement("div",{className:D.a.registerContent},r.a.createElement("div",{className:D.a.registerWelcome},l?r.a.createElement("div",null,h):r.a.createElement("div",null,b)),r.a.createElement("div",{className:D.a.formWrapper},r.a.createElement(A.a,Object.assign({name:"register",onFinish:g,scrollToFirstError:!0,className:D.a.registerForm,form:d},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),r.a.createElement(A.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(R.a,null)),r.a.createElement(A.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input your username!",whitespace:!1}]},r.a.createElement(R.a,null)),r.a.createElement(A.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(R.a.Password,null)),r.a.createElement(A.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(R.a.Password,null)),r.a.createElement(A.a.Item,{name:"name",label:"Full name",rules:[{required:!0,message:"Please input your fullname!",whitespace:!0}]},r.a.createElement(R.a,null)),r.a.createElement(A.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:D.a.registerButton,shape:"round",loading:u},"Register"),r.a.createElement("p",{className:D.a.switchModeWrapper},"Or",r.a.createElement("span",{onClick:function(){o(!l)},className:D.a.switchMode}," become a ",l?"tutor":"student"," instead")),r.a.createElement("p",{className:D.a.switchModeWrapper},"Already have an account? ",r.a.createElement("span",{onClick:function(){e.onClose(),e.onSwitchSignIn()},className:D.a.switchMode}," Sign in")))))))}var z=a(515),G=a(523),J=a(534),K=a(99),Q=a.n(K);function Z(e){var t=e.isVisible,a=e.onClose,l=e.onSwitchRegister,o=e.onSwitchForgotPass,c=A.a.useForm(),s=Object(i.a)(c,1)[0],u=Object(n.useState)(!1),m=Object(i.a)(u,2),p=m[0],d=m[1],E=Object(n.useContext)(f).onSignIn,g=function(){var e=Object(F.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),a={user:t.user,password:t.password},localStorage.setItem("remember",t.remember),e.next=6,q.post("/accounts/sign-in",a);case 6:n=e.sent,d(!1),E(n.data.account),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d(!1),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(B.a,{visible:t,footer:null,onCancel:function(){s.resetFields(),a()},title:"Sign in",width:"400px"},r.a.createElement(A.a,{name:"normal_sign_in",className:Q.a.signInForm,initialValues:{remember:!0},onFinish:g,form:s},r.a.createElement(A.a.Item,{name:"user",rules:[{required:!0,message:"Please input your username or email!"}]},r.a.createElement(R.a,{prefix:r.a.createElement(G.a,{className:"site-form-item-icon"}),placeholder:"Username or email"})),r.a.createElement(A.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(R.a,{prefix:r.a.createElement(J.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(A.a.Item,null,r.a.createElement(A.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(z.a,null,"Remember me")),r.a.createElement("p",{onClick:function(){a(),o()},className:Q.a.signInForgot},"Forgot password?")),r.a.createElement(A.a.Item,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:Q.a.signInButton,shape:"round",loading:p},"Sign in"),"Don't have an account? ",r.a.createElement("span",{className:Q.a.registerNow,onClick:function(){a(),l(!0)}},"Register now!"))))}var X=a(239),$=a.n(X);function ee(e){var t=e.isVisible,a=e.onClose,l=A.a.useForm(),o=Object(i.a)(l,1)[0],c=Object(n.useState)(!1),s=Object(i.a)(c,2),u=s[0],m=s[1],p=Object(n.useContext)(f).account,d=function(){var e=Object(F.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,q.post("/accounts/reset-password",{user:t.user});case 4:a=e.sent,console.log(a.data),m(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m(!1),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),E=p?p.email:null;return r.a.createElement(B.a,{visible:t,footer:null,title:"Reset your password",width:"350px",onCancel:function(){o.resetFields(),a()}},r.a.createElement(A.a,{name:"forgot_password",form:o,onFinish:d,initialValues:{user:E}},r.a.createElement(A.a.Item,{name:"user",rules:[{required:!0,message:"Please input your username or email!"}]},r.a.createElement(R.a,{prefix:r.a.createElement(G.a,{className:"site-form-item-icon"}),placeholder:"Enter your username or email"})),r.a.createElement(A.a.Item,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",shape:"round",loading:u,className:$.a.submitBtn},"Submit"))))}var te=a(132),ae=a.n(te),ne=a(128),re=a.n(ne);function le(){return r.a.createElement("div",{className:ae.a.headerWrapper},r.a.createElement("img",{className:ae.a.headerIcon,src:re.a,draggable:!1,alt:""}),r.a.createElement("h1",{className:ae.a.headerTitle},"MIRAGE"))}var oe=_.a.Header,ce=_.a.Content;function se(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),c=Object(i.a)(o,2),s=c[0],u=c[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),d=p[0],E=p[1],f=Object(n.useState)(!0),g=Object(i.a)(f,2),h=g[0],y=g[1],C=function(e){y(e),l(!0)};return r.a.createElement(_.a,null,r.a.createElement(Z,{isVisible:s,onClose:function(){return u(!1)},onSwitchRegister:C,onSwitchForgotPass:function(){return E(!0)}}),r.a.createElement(H,{isVisible:a,onClose:function(){l(!1)},isStudent:h,onSwitchSignIn:function(){return u(!0)}}),r.a.createElement(ee,{isVisible:d,onClose:function(){return E(!1)}}),r.a.createElement(oe,null,r.a.createElement("div",{className:b.a.headerContent},r.a.createElement(le,null),r.a.createElement("div",{className:b.a.userButtonContainer},r.a.createElement(v.a,{className:b.a.userButton,type:"secondary",shape:"round",onClick:function(){return u(!0)}},"Sign in"),r.a.createElement(v.a,{className:b.a.userButton,type:"primary",shape:"round",onClick:function(){return C(!0)}},"Register")))),r.a.createElement(ce,null,r.a.createElement("div",{className:b.a.defaultBody},r.a.createElement("div",{className:b.a.introContainer},r.a.createElement("img",{className:b.a.introImg,draggable:!1,src:T.a,alt:""}),r.a.createElement("div",{className:b.a.introContent},r.a.createElement("p",{className:b.a.welcomeText},"Welcome to Mirage!"),r.a.createElement("p",{className:b.a.welcomeDescription},"\u201cGo on, say something in English!\u201d"),r.a.createElement(v.a,{className:b.a.registerButton,type:"primary",shape:"round",onClick:function(){return C(!0)}},"STUDY NOW"),r.a.createElement(w.a,{style:{width:"300px"}},"OR"),r.a.createElement(v.a,{className:b.a.registerButton,type:"secondary",shape:"round",onClick:function(){return C(!1)}},"BECOME TUTOR"))))),r.a.createElement(x,null))}var ie=a(505),ue=a(514),me=a(513),pe=a(167),de=a.n(pe),Ee=a(531),fe=a(530),ge=a(529),he=a(522),be=a(521),_e=a(520),ve=a(168),we=a.n(ve),ye=Object.freeze({ADMIN:1,TUTOR:2,STUDENT:3}),Ce="https://mirage-video-call.herokuapp.com/";function Ie(e){var t=e.isVisible,a=e.onForgot,l=e.onClose,o=A.a.useForm(),c=Object(i.a)(o,1)[0],s=Object(n.useState)(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],d=Object(n.useContext)(f).account,E=function(){var e=Object(F.a)(P.a.mark((function e(t){var a,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),a={oldPassword:t.oldpassword,newPassword:t.password},e.next=5,q.post("/accounts/"+d.id+"/change-password",a);case 5:n=e.sent,console.log(n),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),p(!1),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){c.resetFields(),l()};return r.a.createElement(B.a,{visible:t,footer:null,title:"Change your password",onCancel:g,width:"500px"},r.a.createElement(A.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{name:"change-password",onFinish:E,form:c}),r.a.createElement(A.a.Item,{name:"oldpassword",label:"Current password",rules:[{required:!0,message:"Please input your current password!"}]},r.a.createElement(R.a.Password,null)),r.a.createElement(A.a.Item,{name:"password",label:"New password",rules:[{required:!0,message:"Please input your new password!"}],hasFeedback:!0},r.a.createElement(R.a.Password,null)),r.a.createElement(A.a.Item,{name:"confirm",label:"Retype password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(R.a.Password,null)),r.a.createElement(A.a.Item,{wrapperCol:{offset:8,span:16}},r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:we.a.registerButton,loading:m},"Update password"),d.role===ye.ADMIN?null:r.a.createElement("span",{className:we.a.forgotPass,onClick:function(){g(),a()}},"Forgot password?"))))}var Se=a(133),Ne=a.n(Se);function Oe(e){var t=e.collapsed;return r.a.createElement("div",{className:Ne.a.logoContainer},r.a.createElement("img",{src:re.a,alt:"",className:Ne.a.logo,draggable:!1}),t?null:r.a.createElement("p",{className:Ne.a.logoText},"MIRAGE"))}var xe=_.a.Header,je=_.a.Content,Te=_.a.Sider;function ke(e){var t=Object(n.useContext)(f),a=t.account,l=t.onSignOut,o=Object(n.useState)(!1),u=Object(i.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)(!1),E=Object(i.a)(d,2),g=E[0],h=E[1],b=e.location,v=(a.student.avatar,r.a.createElement(ie.a,{style:{margin:"10px"},icon:r.a.createElement(G.a,null),size:"large"}));Object(n.useEffect)((function(){}),[]);var w=r.a.createElement(ue.a,null,r.a.createElement(ue.a.Item,{onClick:function(){return p(!0)}},r.a.createElement(Ee.a,null),r.a.createElement("span",null,"Change password")),r.a.createElement(ue.a.Item,{onClick:l},r.a.createElement(fe.a,null),r.a.createElement("span",null,"Sign out")));return r.a.createElement(_.a,{style:{minHeight:"100vh"}},r.a.createElement(ee,{isVisible:g,onClose:function(){return h(!1)}}),r.a.createElement(Ie,{isVisible:m,onClose:function(){return p(!1)},onForgot:function(){return h(!0)}}),r.a.createElement(Te,null,r.a.createElement(Oe,{collapsed:!1}),r.a.createElement(ue.a,{theme:"dark",defaultSelectedKeys:["/student"],mode:"inline",selectedKeys:[b.pathname]},r.a.createElement(ue.a.Item,{key:"/student"},r.a.createElement(ge.a,null),r.a.createElement(c.b,{to:"/student"},r.a.createElement("span",null,"Profile"))),r.a.createElement(ue.a.Item,{key:"/student/video-call"},r.a.createElement(he.a,null),r.a.createElement(c.b,{to:"/student/video-call"},r.a.createElement("span",null,"Video call"))),r.a.createElement(ue.a.Item,{key:"/student/stats"},r.a.createElement(be.a,null),r.a.createElement(c.b,{to:"/student/stats"},r.a.createElement("span",null,"Stats"))))),r.a.createElement(_.a,null,r.a.createElement(xe,null,r.a.createElement("div",{className:de.a.userControl},"Hello, ",a.username,r.a.createElement(me.a,{overlay:w,placement:"bottomLeft"},r.a.createElement("div",null,v,r.a.createElement(_e.a,{className:de.a.dropDownIcon}))))),r.a.createElement(je,null,r.a.createElement(s.d,null)),r.a.createElement(x,null)))}var Pe=a(171),Fe=a.n(Pe),Ae=a(11),Be=a(35),Re=a.n(Be),Me=a(519),De=a(518),Ve=a(517),Le=a(537),Ue=a(536),We=a(509),Ye=a(511),qe=a(512),He=a(507),ze=a(516),Ge=a(77),Je=a.n(Ge),Ke=a(165),Qe=a.n(Ke),Ze=We.a.Panel,Xe=Ye.a.Option;function $e(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)({account:{email:null}}),c=Object(i.a)(o,2),s=c[0],u=c[1],m=Object(n.useContext)(f).account,p=Object(n.useState)([]),d=Object(i.a)(p,2),E=d[0],g=d[1],h=Object(n.useState)(!1),b=Object(i.a)(h,2),_=b[0],w=b[1],y=Object(n.useState)(!1),C=Object(i.a)(y,2),I=C[0],S=C[1],N=Object(n.useState)([]),O=Object(i.a)(N,2),x=O[0],j=O[1],T=function(){var e=Object(F.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("/tutors/"+m.tutor.id);case 3:t=e.sent,u(t.data.tutor),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){T()}),[]);var k,B=s&&s.avatar?r.a.createElement(ie.a,{src:Ce+s.avatar,size:100}):r.a.createElement(ie.a,{icon:r.a.createElement(G.a,null),size:100}),M={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}}},D={wrapperCol:{offset:5,span:16}},V=function(){var e=Object(F.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,q.put("/tutors/"+s.id,t);case 4:T(),l(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),l(!1),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L={onRemove:function(e){var t=E.indexOf(e),a=E.slice();a.splice(t,1),g(a)},beforeUpload:function(e){return("application/pdf"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type)&&g([].concat(Object(Ae.a)(E),[e])),!1},fileList:E},U={onRemove:function(e){j([])},beforeUpload:function(e){return("image/jpeg"===e.type||"image/png"===e.type)&&j([e]),!1},fileList:x},W=function(){var e=Object(F.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),t=new FormData,E.forEach((function(e){t.append("certificates",e)})),e.next=6,q("/tutors/certificates/"+s.account.username,{method:"POST",data:t});case 6:return e.next=8,T();case 8:w(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response),w(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(F.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),(t=new FormData).append("avatar",x[0]),e.next=6,q("/tutors/avatar/"+s.account.username,{method:"POST",data:t});case 6:return e.next=8,T();case 8:S(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),S(!1),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(F.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("/accounts/resend-verify",{email:m.email});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return 1===s.profileStatus?k=r.a.createElement("p",{className:Re.a.statusAccepted},"Your tutor profile is ready"):2===s.profileStatus?k=r.a.createElement("p",{className:Re.a.statusPending},"Your tutor profile is being reviewed by Admin"):3===s.profileStatus&&(k=r.a.createElement("p",{className:Re.a.statusRejected},"Your tutor profile is rejected, edit now")),r.a.createElement("div",{className:Re.a.profile},r.a.createElement("div",{className:Re.a.accountInfoContainer},B,r.a.createElement("div",{className:Re.a.accountInfo},r.a.createElement("p",{className:Re.a.name},s.name),r.a.createElement("p",null,"Email: ",s.account.email),m.verification?r.a.createElement("span",null,"Your account is verified ",r.a.createElement(Me.a,{twoToneColor:"#26d701"})):r.a.createElement("span",null,"Your account is unverified ",r.a.createElement(De.a,null),r.a.createElement(v.a,{type:"link",onClick:H},"Resend confirmation email")),r.a.createElement("div",{className:Re.a.profileStatus},k))),r.a.createElement("div",{className:Re.a.collapse},s.name?r.a.createElement(A.a,Object.assign({},M,{onFinish:V,initialValues:{name:s.name,phone:s.phone,birthdate:s.birthdate?Qe()(s.birthdate):void 0,address:s.address,interests:s.interests,education:s.education,experience:s.experience,profession:s.profession,student_type:s.student_type,student_lvl:s.student_lvl,accent:s.accent,fluency:s.fluency,reason:s.reason,specialities:s.specialities?JSON.parse(s.specialities):void 0,introduction:s.introduction,teaching_styles:s.teaching_styles?JSON.parse(s.teaching_styles):void 0}}),r.a.createElement(We.a,null,r.a.createElement(Ze,{header:"Basic info"},r.a.createElement(A.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter your name"}]},r.a.createElement(R.a,{placeholder:"Your fullname",value:s.name})),r.a.createElement(A.a.Item,{name:"phone",label:"Phone"},r.a.createElement(R.a,{placeholder:"Your phone number (optional)"})),r.a.createElement(A.a.Item,{name:"birthdate",label:"Birthdate"},r.a.createElement(qe.a,null)),r.a.createElement(A.a.Item,{name:"address",label:"Address"},r.a.createElement(R.a,{placeholder:"Where do you from? E.g Hanoi, Vietnam"})),r.a.createElement(A.a.Item,{name:"avatar",label:"Upload avatar"},r.a.createElement(He.a,Object.assign({},U,{listType:"picture-card"}),r.a.createElement(v.a,{icon:r.a.createElement(Ve.a,null)},"Change avatar"))),r.a.createElement(A.a.Item,D,r.a.createElement(v.a,{onClick:Y,loading:I,style:{width:"159px"}},r.a.createElement(Le.a,null)," Upload avatar"))),r.a.createElement(Ze,{header:"CV"},r.a.createElement(A.a.Item,{name:"interests",label:"Interests"},r.a.createElement(R.a.TextArea,{placeholder:"Share with us everything you want such as interests, hobbies, life experiences"})),r.a.createElement(A.a.Item,{name:"education",label:"Education"},r.a.createElement(R.a.TextArea,{placeholder:"E.g Bachelor of Information Technology"})),r.a.createElement(A.a.Item,{name:"experience",label:"Experience"},r.a.createElement(R.a.TextArea,{placeholder:"Your working experience"})),r.a.createElement(A.a.Item,{name:"profession",label:"Profession"},r.a.createElement(R.a,{placeholder:"Your current or previous jobs"})),r.a.createElement(A.a.Item,{name:"reason",label:"Reason"},r.a.createElement(R.a.TextArea,{placeholder:"Why do you want to join Mirage?"}))),r.a.createElement(Ze,{header:"Teaching preferences"},r.a.createElement(A.a.Item,{name:"student_type",label:"Target"},r.a.createElement(Ye.a,{placeholder:"Who do you want to teach?"},Je.a.STUDENT_TYPE.map((function(e){return r.a.createElement(Xe,{value:e,key:e},e)})))),r.a.createElement(A.a.Item,{name:"student_lvl",label:"Student level"},r.a.createElement(Ye.a,{placeholder:"You are good at teaching students who are"},Je.a.STUDENT_LVL.map((function(e){return r.a.createElement(Xe,{value:e,key:e},e)})))),r.a.createElement(A.a.Item,{name:"accent",label:"Accent"},r.a.createElement(Ye.a,{placeholder:"Your English accent"},Je.a.ENG_ACCENT.map((function(e){return r.a.createElement(Xe,{value:e,key:e},e)})))),r.a.createElement(A.a.Item,{name:"fluency",label:"Fluency"},r.a.createElement(Ye.a,{placeholder:"Your fluency"},Je.a.ENG_FLUENCY.map((function(e){return r.a.createElement(Xe,{value:e,key:e},e)})))),r.a.createElement(A.a.Item,{name:"specialities",label:"Specialities"},r.a.createElement(Ye.a,{mode:"multiple",placeholder:"Select your specialities"},Je.a.SPECIALITIES.map((function(e){return r.a.createElement(Xe,{value:e,key:e},e)})))),r.a.createElement(A.a.Item,{name:"teaching_styles",label:"Teaching styles"},r.a.createElement(Ye.a,{mode:"multiple",placeholder:"Your styles"},Je.a.TEACHING_STYLE.map((function(e){return r.a.createElement(Xe,{value:e,key:e},e)}))))),r.a.createElement(Ze,{header:"Teaching certificates (optional)"},s.certificates&&JSON.parse(s.certificates).length>0?r.a.createElement(A.a.Item,Object.assign({},M,{label:"Uploaded file(s)"}),r.a.createElement("div",{className:Re.a.uploadedCert},s.certificates?JSON.parse(s.certificates).map((function(e,t){return r.a.createElement("a",{key:t,href:Ce+e.path},e.originalname)})):null)):null,r.a.createElement(A.a.Item,{name:"files",label:"Upload certificate"},r.a.createElement(He.a,Object.assign({},L,{listType:"picture-card"}),r.a.createElement(v.a,{icon:r.a.createElement(Ue.a,null)},"Select File"))),r.a.createElement(A.a.Item,D,r.a.createElement(v.a,{onClick:W,loading:_,style:{width:"132px"}},r.a.createElement(Le.a,null)," Upload")),r.a.createElement(ze.a,{message:"Warning: All your previous upload will be removed when uploading new certificates",type:"warning",showIcon:!0})),r.a.createElement(Ze,{header:"Introduce yourself"},r.a.createElement(A.a.Item,{name:"introduction",label:"Introduction"},r.a.createElement(R.a.TextArea,{placeholder:"Introduce yourself"})))),r.a.createElement("div",{className:Re.a.submitWrapper},r.a.createElement(v.a,{type:"primary",htmlType:"submit",loading:a},"Update profile"))):null))}function et(){return r.a.createElement("div",null,"Stats")}function tt(){return r.a.createElement("div",null,"Start Teaching")}var at=_.a.Header,nt=_.a.Content,rt=_.a.Sider;function lt(e){var t=Object(n.useContext)(f),a=t.account,l=t.onSignOut,o=Object(n.useState)(!1),u=Object(i.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)(!1),E=Object(i.a)(d,2),g=E[0],h=E[1],b=e.location,v=a.tutor.avatar?r.a.createElement(ie.a,{style:{margin:"10px"},src:Ce+a.tutor.avatar}):r.a.createElement(ie.a,{style:{margin:"10px"},icon:r.a.createElement(G.a,null)}),w=r.a.createElement(ue.a,null,r.a.createElement(ue.a.Item,{onClick:function(){return p(!0)}},r.a.createElement(Ee.a,null),r.a.createElement("span",null,"Change password")),r.a.createElement(ue.a.Item,{onClick:l},r.a.createElement(fe.a,null),r.a.createElement("span",null,"Sign out")));return r.a.createElement(_.a,{style:{minHeight:"100vh"}},r.a.createElement(ee,{isVisible:g,onClose:function(){return h(!1)}}),r.a.createElement(Ie,{isVisible:m,onClose:function(){return p(!1)},onForgot:function(){return h(!0)}}),r.a.createElement(rt,null,r.a.createElement(Oe,{collapsed:!1}),r.a.createElement(ue.a,{theme:"dark",defaultSelectedKeys:["/tutor"],mode:"inline",selectedKeys:[b.pathname]},r.a.createElement(ue.a.Item,{key:"/tutor"},r.a.createElement(ge.a,null),r.a.createElement(c.b,{to:"/tutor"},r.a.createElement("span",null,"Profile"))),r.a.createElement(ue.a.Item,{key:"/tutor/video-call"},r.a.createElement(he.a,null),r.a.createElement(c.b,{to:"/tutor/video-call"},r.a.createElement("span",null,"Video call"))),r.a.createElement(ue.a.Item,{key:"/tutor/stats"},r.a.createElement(be.a,null),r.a.createElement(c.b,{to:"/tutor/stats"},r.a.createElement("span",null,"Stats"))))),r.a.createElement(_.a,null,r.a.createElement(at,null,r.a.createElement("div",{className:Fe.a.userControl},"Hello, ",a.username,r.a.createElement(me.a,{overlay:w,placement:"bottomLeft"},r.a.createElement("div",null,v,r.a.createElement(_e.a,{className:Fe.a.dropDownIcon}))))),r.a.createElement(nt,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/tutor/stats",component:et}),r.a.createElement(s.b,{path:"/tutor/video-call",component:tt}),r.a.createElement(s.b,{path:"/tutor",component:$e,exact:!0}))),r.a.createElement(x,null)))}var ot=a(535),ct=a(533),st=a(532),it=a(525),ut=a(524),mt=a(175),pt=a.n(mt);function dt(){return r.a.createElement("div",null,"Dashboard")}function Et(){return r.a.createElement("div",null,"Student")}function ft(){return r.a.createElement("div",null,"Tutor")}var gt=a(255),ht=a.n(gt);function bt(){return r.a.createElement("div",null,"Report")}var _t=_.a.Header,vt=_.a.Content,wt=_.a.Sider;function yt(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],o=a[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(!1),g=Object(i.a)(E,2),h=g[0],b=g[1],v=Object(n.useContext)(f),w=v.onSignOut,y=v.account,C=e.location,I=r.a.createElement(ue.a,null,r.a.createElement(ue.a.Item,{onClick:function(){return d(!0)}},r.a.createElement(Ee.a,null),r.a.createElement("span",null,"Change password")),r.a.createElement(ue.a.Item,{onClick:w},r.a.createElement(fe.a,null),r.a.createElement("span",null,"Sign out")));return r.a.createElement(_.a,{style:{minHeight:"100vh"}},r.a.createElement(ee,{isVisible:h,onClose:function(){return b(!1)}}),r.a.createElement(Ie,{isVisible:p,onClose:function(){return d(!1)},onForgot:function(){return b(!0)}}),r.a.createElement(wt,{collapsible:!0,collapsed:l,onCollapse:function(e){o(e)}},r.a.createElement(Oe,{collapsed:l}),r.a.createElement(ue.a,{theme:"dark",defaultSelectedKeys:["/admin"],mode:"inline",selectedKeys:[C.pathname]},r.a.createElement(ue.a.Item,{key:"/admin"},r.a.createElement(be.a,null),r.a.createElement(c.b,{to:"/admin"},r.a.createElement("span",null,"Dashboard"))),r.a.createElement(ue.a.Item,{key:"/admin/students"},r.a.createElement(ot.a,null),r.a.createElement(c.b,{to:"/admin/students"},r.a.createElement("span",null,"Students"))),r.a.createElement(ue.a.Item,{key:"/admin/tutors"},r.a.createElement(ct.a,null),r.a.createElement(c.b,{to:"/admin/tutors"},r.a.createElement("span",null,"Tutors"))),r.a.createElement(ue.a.Item,{key:"/admin/reports"},r.a.createElement(st.a,null),r.a.createElement(c.b,{to:"/admin/reports"},r.a.createElement("span",null,"Reports"))))),r.a.createElement(_.a,null,r.a.createElement(_t,{style:{background:"white"}},l?r.a.createElement(it.a,{style:{fontSize:"20px"},onClick:function(){return o(!1)}}):r.a.createElement(ut.a,{style:{fontSize:"20px"},onClick:function(){return o(!0)}}),r.a.createElement("div",{className:pt.a.userControl},"Hello, ",y.username,r.a.createElement(me.a,{overlay:I,placement:"bottomLeft"},r.a.createElement("div",null,r.a.createElement(ie.a,{src:ht.a,size:"large",draggable:!1}),r.a.createElement(_e.a,{className:pt.a.dropDownIcon}))))),r.a.createElement(vt,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/admin/students",component:Et}),r.a.createElement(s.b,{path:"/admin/tutors",component:ft}),r.a.createElement(s.b,{path:"/admin/reports",component:bt}),r.a.createElement(s.b,{path:"/admin",component:dt,exact:!0}))),r.a.createElement(x,null)))}function Ct(){return Object(n.useEffect)((function(){E()}),[]),r.a.createElement(s.a,{to:"/"})}function It(){var e=Object(n.useContext)(f).account;return e&&e.role===ye.STUDENT?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/student",component:ke}),r.a.createElement(s.a,{to:"/student"})):e&&e.role===ye.TUTOR?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/tutor",component:lt}),r.a.createElement(s.a,{to:"/tutor"})):e&&e.role===ye.ADMIN?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/admin",component:yt}),r.a.createElement(s.a,{to:"/admin"})):r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:se}),r.a.createElement(s.b,{path:"/sign-out",component:Ct}),r.a.createElement(s.a,{to:"/"}))}var St=Object(s.g)((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,null,r.a.createElement(It,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(500),a(501);var Nt=r.a.createElement(c.a,null,r.a.createElement(St,null));o.a.render(Nt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports={footer:"FooterContent_footer__2LUe0",contactIcon:"FooterContent_contactIcon__3hiC-",contactInfoContainer:"FooterContent_contactInfoContainer__1g1QB"}},77:function(e,t){t.PREFERENCE_TYPE=Object.freeze({ENG_ACCENT:"eng_accent",ENG_FLUENCY:"eng_fluency",TEACHING_STYLE:"teaching_style",STUDENT_TYPE:"student_type",STUDENT_LVL:"student_lvl",SPECIALITY:"speciality"}),t.ENG_ACCENT=["North America","North America - Canada","North America - USA","North America - Southern USA","North America - Other","British Isles","British Isles - Received Pronunciation","British Isle - Ireland","British Isles - Scotland","British Isles - Other","South Africa","Australia / New Zealand","Australia","New Zealand","Other"],t.ENG_FLUENCY=["Native","Fluent","Conversational","Basic"],t.TEACHING_STYLE=["Kind & patient","Fun & gregarious","Scholarly & knowledgeable"],t.STUDENT_TYPE=["Adult","Child"],t.STUDENT_LVL=["Beginner","Intermeditate","Advanced"],t.SPECIALITIES=["Friendly conversation","Business English","Public speaking","Test prep (IELTS, TOEFL, etc.)","Grammar instruction, Accent coaching","Correcting speech","Discussing current events","Vocational lessons","Culture (i.e. manners, customs)","Teaching idioms and slang"]},99:function(e,t,a){e.exports={signInForm:"SignInModal_signInForm__6dOkt",signInForgot:"SignInModal_signInForgot__YZfZh",signInButton:"SignInModal_signInButton__1e1-r",registerNow:"SignInModal_registerNow__1-qv7"}}},[[260,1,2]]]);
//# sourceMappingURL=main.4d5e5986.chunk.js.map