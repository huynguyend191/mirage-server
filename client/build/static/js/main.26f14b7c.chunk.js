(this["webpackJsonpmirage-client"]=this["webpackJsonpmirage-client"]||[]).push([[0],{13:function(e,t,a){e.exports={headerContent:"Default_headerContent__3c_AR",headerWrapper:"Default_headerWrapper__BUe6U",headerTitle:"Default_headerTitle__2FwYb",headerIcon:"Default_headerIcon__187NW",userButton:"Default_userButton__fph_C",registerButton:"Default_registerButton__2UbXV",userButtonContainer:"Default_userButtonContainer__85zRo",defaultBody:"Default_defaultBody__1ZuJT",introContainer:"Default_introContainer__U5vQA",welcomeText:"Default_welcomeText__JSskc",welcomeDescription:"Default_welcomeDescription__WsJCP",introContent:"Default_introContent__2U9ZG",introImg:"Default_introImg__34kCu",becomeTutor:"Default_becomeTutor__3Ev_x"}},15:function(e,t,a){e.exports={registerContent:"RegisterModal_registerContent__1IyVz",registerWelcome:"RegisterModal_registerWelcome__FbIzJ",registerForm:"RegisterModal_registerForm__2CZRj",registerButton:"RegisterModal_registerButton__z1ulB",formWrapper:"RegisterModal_formWrapper__4GBIy",switchMode:"RegisterModal_switchMode__2h5aY",switchModeWrapper:"RegisterModal_switchModeWrapper__2XhUs",welcomeImg:"RegisterModal_welcomeImg__Ktazu",registerWelcomeContent:"RegisterModal_registerWelcomeContent__2mKlf"}},160:function(e,t,a){e.exports=a.p+"static/media/flame-welcome.2b090893.png"},161:function(e,t,a){e.exports=a.p+"static/media/welcome-student.0c7630e5.png"},162:function(e,t,a){e.exports=a.p+"static/media/welcome-tutor.66b32adc.png"},181:function(e,t,a){e.exports=a.p+"static/media/admin-avatar.4fc32273.png"},188:function(e,t,a){e.exports=a(370)},368:function(e,t,a){},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(3),o=a.n(l),c=a(26),s=a(41),i=a(9),m=a(187),u=a(157),d=a.n(u),p=new m.a,E=function(){p.remove("access_token")},g=Object(n.createContext)(null),f=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){if(JSON.parse(localStorage.getItem("remember"))){var e=function(){var e=null,t=p.get("access_token");return t&&(e=d()(t)),e}();e&&(console.log(e),o(e))}}),[]);return r.a.createElement(g.Provider,Object.assign({value:{account:l,onSignIn:function(e){o(e)},onSignOut:function(){E(),localStorage.clear(),o(null)}}},e))},h=a(13),_=a.n(h),b=a(371),w=a(23),v=a(372),C=a(50),I=a.n(C),y=a(380),N=a(381),S=a(382),x=b.a.Footer;function O(){return r.a.createElement(x,{className:I.a.footer},r.a.createElement("div",{className:I.a.contactIconContainer},r.a.createElement(y.a,{className:I.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://github.com/huynguyend191")}}),r.a.createElement(N.a,{className:I.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://www.facebook.com/sneezingcat191")}}),r.a.createElement(S.a,{className:I.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://www.instagram.com/sneezingcat191/")}})),r.a.createElement("div",{className:I.a.contactInfoContainer},"Mirage 2020 - English Video Call Platform ",r.a.createElement("br",null),"Contact: huynguyend191@gmail.com"))}var k=a(160),j=a.n(k),T=a(87),B=a.n(T),M=a(12),R=a.n(M),D=a(27),F=a(374),W=a(375),P=a(377),z=a(15),U=a.n(z),A=a(161),V=a.n(A),J=a(162),q=a.n(J),Z=a(163),G=a.n(Z).a.create({baseURL:"https://mirage-video-call.herokuapp.com/api",withCredentials:!0});function H(e){var t=Object(n.useState)(e.isStudent),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),m=s[0],u=s[1],d=F.a.useForm(),p=Object(i.a)(d,1)[0],E=Object(n.useContext)(g).onSignIn;Object(n.useEffect)((function(){o(e.isStudent)}),[e.isStudent]);var f=function(){var e=Object(D.a)(R.a.mark((function e(t){var a,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),a=l?"/students":"/tutors",n={username:t.username,password:t.password,email:t.email,name:t.name},e.next=6,G.post(a+"/register",n);case 6:r=e.sent,u(!1),E(r.data.account),localStorage.setItem("remember",!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),u(!1),console.log(e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=r.a.createElement("div",{className:U.a.registerWelcomeContent},r.a.createElement("img",{className:U.a.welcomeImg,draggable:!1,src:V.a,alt:""}),r.a.createElement("h3",null,"Experience new way of studying English"),r.a.createElement("h4",null,"Improve your English anywhere anytime"),r.a.createElement("h4",null,"Learn from interesting people around the world")),_=r.a.createElement("div",{className:U.a.registerWelcomeContent},r.a.createElement("img",{className:U.a.welcomeImg,draggable:!1,src:q.a,alt:""}),r.a.createElement("h3",null,"Tutoring with Mirage is fun & rewarding"),r.a.createElement("h4",null,"No experience necessary"),r.a.createElement("h4",null,"Share your knowledge with people and get paid"));return r.a.createElement(W.a,{visible:e.isVisible,footer:null,title:"Register",onCancel:function(){p.resetFields(),e.onClose()},width:"800px"},r.a.createElement("div",{className:U.a.registerContent},r.a.createElement("div",{className:U.a.registerWelcome},l?r.a.createElement("div",null,h):r.a.createElement("div",null,_)),r.a.createElement("div",{className:U.a.formWrapper},r.a.createElement(F.a,Object.assign({name:"register",onFinish:f,scrollToFirstError:!0,className:U.a.registerForm,form:p},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),r.a.createElement(F.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(P.a,null)),r.a.createElement(F.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input your username!",whitespace:!1}]},r.a.createElement(P.a,null)),r.a.createElement(F.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(P.a.Password,null)),r.a.createElement(F.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(P.a.Password,null)),r.a.createElement(F.a.Item,{name:"name",label:"Full name",rules:[{required:!0,message:"Please input your fullname!",whitespace:!0}]},r.a.createElement(P.a,null)),r.a.createElement(F.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(w.a,{type:"primary",htmlType:"submit",className:U.a.registerButton,shape:"round",loading:m},"Register"),r.a.createElement("p",{className:U.a.switchModeWrapper},"Or",r.a.createElement("span",{onClick:function(){o(!l)},className:U.a.switchMode}," become a ",l?"tutor":"student"," instead")),r.a.createElement("p",{className:U.a.switchModeWrapper},"Already have an account? ",r.a.createElement("span",{onClick:function(){e.onClose(),e.onSwitchSignIn()},className:U.a.switchMode}," Sign in")))))))}var K=a(379),L=a(383),Y=a(384),Q=a(71),X=a.n(Q);function $(e){var t=e.isVisible,a=e.onClose,l=e.onSwitchRegister,o=F.a.useForm(),c=Object(i.a)(o,1)[0],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useContext)(g).onSignIn,E=function(){var e=Object(D.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),a={user:t.user,password:t.password},localStorage.setItem("remember",t.remember),e.next=6,G.post("/accounts/sign-in",a);case 6:n=e.sent,d(!1),p(n.data.account),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d(!1),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(W.a,{visible:t,footer:null,onCancel:function(){c.resetFields(),a()},title:"Sign in",width:"400px"},r.a.createElement(F.a,{name:"normal_sign_in",className:X.a.signInForm,initialValues:{remember:!0},onFinish:E,form:c},r.a.createElement(F.a.Item,{name:"user",rules:[{required:!0,message:"Please input your username or email!"}]},r.a.createElement(P.a,{prefix:r.a.createElement(L.a,{className:"site-form-item-icon"}),placeholder:"Username or email"})),r.a.createElement(F.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(P.a,{prefix:r.a.createElement(Y.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(F.a.Item,null,r.a.createElement(F.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(K.a,null,"Remember me")),r.a.createElement("a",{className:X.a.signInForgot,href:"/"},"Forgot password")),r.a.createElement(F.a.Item,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit",className:X.a.signInButton,shape:"round",loading:u},"Sign in"),"Don't have an account? ",r.a.createElement("span",{className:X.a.registerNow,onClick:function(){a(),l(!0)}},"Register now!"))))}var ee=b.a.Header,te=b.a.Content;function ae(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),c=Object(i.a)(o,2),s=c[0],m=c[1],u=Object(n.useState)(!0),d=Object(i.a)(u,2),p=d[0],E=d[1],g=function(e){E(e),l(!0)},f=function(){m(!0)};return r.a.createElement(b.a,null,r.a.createElement($,{isVisible:s,onClose:function(){m(!1)},onSwitchRegister:g}),r.a.createElement(H,{isVisible:a,onClose:function(){l(!1)},isStudent:p,onSwitchSignIn:f}),r.a.createElement(ee,null,r.a.createElement("div",{className:_.a.headerContent},r.a.createElement("div",{className:_.a.headerWrapper},r.a.createElement("img",{className:_.a.headerIcon,src:B.a,draggable:!1,alt:""}),r.a.createElement("h1",{className:_.a.headerTitle},"MIRAGE")),r.a.createElement("div",{className:_.a.userButtonContainer},r.a.createElement(w.a,{className:_.a.userButton,type:"secondary",shape:"round",onClick:function(){return f()}},"Sign in"),r.a.createElement(w.a,{className:_.a.userButton,type:"primary",shape:"round",onClick:function(){return g(!0)}},"Register")))),r.a.createElement(te,null,r.a.createElement("div",{className:_.a.defaultBody},r.a.createElement("div",{className:_.a.introContainer},r.a.createElement("img",{className:_.a.introImg,draggable:!1,src:j.a,alt:""}),r.a.createElement("div",{className:_.a.introContent},r.a.createElement("p",{className:_.a.welcomeText},"Welcome to Mirage!"),r.a.createElement("p",{className:_.a.welcomeDescription},"\u201cGo on, say something in English!\u201d"),r.a.createElement(w.a,{className:_.a.registerButton,type:"primary",shape:"round",onClick:function(){return g(!0)}},"STUDY NOW"),r.a.createElement(v.a,{style:{width:"300px"}},"OR"),r.a.createElement(w.a,{className:_.a.registerButton,type:"secondary",shape:"round",onClick:function(){return g(!1)}},"BECOME TUTOR"))))),r.a.createElement(O,null))}function ne(){var e=Object(n.useContext)(g).account,t=function(){var t=Object(D.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.post("/accounts/resend-verify",{email:e.email});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0.response);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",null,"Please check your email!"),r.a.createElement("button",{onClick:t},"Resend verification"))}function re(){var e=Object(n.useContext)(g),t=e.account,a=e.onSignOut;return t.verification?r.a.createElement("div",null,r.a.createElement("button",{onClick:a},"Sign out")):r.a.createElement("div",null,r.a.createElement(ne,null),r.a.createElement("button",{onClick:a},"Sign outt"))}function le(){var e=Object(n.useContext)(g),t=e.account,a=e.onSignOut;return t.verification?r.a.createElement("div",null,r.a.createElement("button",{onClick:a},"Sign out")):r.a.createElement("div",null,r.a.createElement(ne,null),r.a.createElement("button",{onClick:a},"Sign out"))}var oe=a(376),ce=a(378),se=a(373),ie=a(385),me=a(386),ue=a(387),de=a(388),pe=a(389),Ee=a(390),ge=a(391),fe=a(392),he=a(393),_e=a(64),be=a.n(_e);function we(){return r.a.createElement("div",null,"Dashboard")}function ve(){return r.a.createElement("div",null,"Student")}function Ce(){return r.a.createElement("div",null,"Tutor")}var Ie=a(181),ye=a.n(Ie);function Ne(){return r.a.createElement("div",null,"Report")}var Se=b.a.Header,xe=b.a.Content,Oe=b.a.Sider;function ke(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],o=a[1],m=e.location,u=Object(n.useContext)(g),d=u.onSignOut,p=u.account,E=r.a.createElement(oe.a,null,r.a.createElement(oe.a.Item,null,r.a.createElement(ie.a,null),r.a.createElement("span",null,"Change password")),r.a.createElement(oe.a.Item,{onClick:d},r.a.createElement(me.a,null),r.a.createElement("span",null,"Sign out")));return r.a.createElement(b.a,{style:{minHeight:"100vh"}},r.a.createElement(Oe,{collapsible:!0,collapsed:l,onCollapse:function(e){o(e)}},r.a.createElement("div",{className:be.a.logoContainer},r.a.createElement("img",{src:B.a,alt:"",className:be.a.logo,draggable:!1}),l?null:r.a.createElement("p",{className:be.a.logoText},"MIRAGE")),r.a.createElement(oe.a,{theme:"dark",defaultSelectedKeys:["/admin"],mode:"inline",selectedKeys:[m.pathname]},r.a.createElement(oe.a.Item,{key:"/admin"},r.a.createElement(ue.a,null),r.a.createElement(c.b,{to:"/admin"},r.a.createElement("span",null,"Dashboard"))),r.a.createElement(oe.a.Item,{key:"/admin/students"},r.a.createElement(de.a,null),r.a.createElement(c.b,{to:"/admin/students"},r.a.createElement("span",null,"Students"))),r.a.createElement(oe.a.Item,{key:"/admin/tutors"},r.a.createElement(pe.a,null),r.a.createElement(c.b,{to:"/admin/tutors"},r.a.createElement("span",null,"Tutors"))),r.a.createElement(oe.a.Item,{key:"/admin/reports"},r.a.createElement(Ee.a,null),r.a.createElement(c.b,{to:"/admin/reports"},r.a.createElement("span",null,"Reports"))))),r.a.createElement(b.a,null,r.a.createElement(Se,{style:{background:"white"}},l?r.a.createElement(ge.a,{style:{fontSize:"20px"},onClick:function(){return o(!1)}}):r.a.createElement(fe.a,{style:{fontSize:"20px"},onClick:function(){return o(!0)}}),r.a.createElement("div",{className:be.a.userControl},"Hello, ",p.username,r.a.createElement(ce.a,{overlay:E,placement:"bottomLeft"},r.a.createElement("div",null,r.a.createElement(se.a,{src:ye.a,size:"large",draggable:!1}),r.a.createElement(he.a,{className:be.a.dropDownIcon}))))),r.a.createElement(xe,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/admin/students",component:ve}),r.a.createElement(s.b,{path:"/admin/tutors",component:Ce}),r.a.createElement(s.b,{path:"/admin/reports",component:Ne}),r.a.createElement(s.b,{path:"/admin",component:we,exact:!0}))),r.a.createElement(O,null)))}var je=Object.freeze({ADMIN:1,TUTOR:2,STUDENT:3});function Te(){return Object(n.useEffect)((function(){E()}),[]),r.a.createElement(s.a,{to:"/"})}function Be(){var e=Object(n.useContext)(g).account;return e&&e.role===je.STUDENT?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/student",component:re}),r.a.createElement(s.a,{to:"/student"})):e&&e.role===je.TUTOR?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/tutor",component:le}),r.a.createElement(s.a,{to:"/tutor"})):e&&e.role===je.ADMIN?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/admin",component:ke}),r.a.createElement(s.a,{to:"/admin"})):r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:ae}),r.a.createElement(s.b,{path:"/sign-out",component:Te}),r.a.createElement(s.a,{to:"/"}))}var Me=Object(s.g)((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null,r.a.createElement(Be,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(368),a(369);var Re=r.a.createElement(c.a,null,r.a.createElement(Me,null));o.a.render(Re,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={footer:"FooterContent_footer__1Ftu8",contactIcon:"FooterContent_contactIcon__3BLxb",contactInfoContainer:"FooterContent_contactInfoContainer__5Bz7Z"}},64:function(e,t,a){e.exports={logoContainer:"Admin_logoContainer__STuZW",logo:"Admin_logo__BcI4N",logoText:"Admin_logoText__OIkA9",userControl:"Admin_userControl__3Z4Vh",dropDownIcon:"Admin_dropDownIcon__3sTud"}},71:function(e,t,a){e.exports={signInForm:"SignInModal_signInForm__2iJoj",signInForgot:"SignInModal_signInForgot__1ryjr",signInButton:"SignInModal_signInButton__2Q5nw",registerNow:"SignInModal_registerNow__Ht0vT"}},87:function(e,t,a){e.exports=a.p+"static/media/app-logo.05772604.png"}},[[188,1,2]]]);
//# sourceMappingURL=main.26f14b7c.chunk.js.map