(this["webpackJsonpmirage-client"]=this["webpackJsonpmirage-client"]||[]).push([[0],{10:function(e,t,a){e.exports={headerContent:"Default_headerContent__3c_AR",headerWrapper:"Default_headerWrapper__BUe6U",headerTitle:"Default_headerTitle__2FwYb",headerIcon:"Default_headerIcon__187NW",userButton:"Default_userButton__fph_C",registerButton:"Default_registerButton__2UbXV",userButtonContainer:"Default_userButtonContainer__85zRo",defaultBody:"Default_defaultBody__1ZuJT",introContainer:"Default_introContainer__U5vQA",welcomeText:"Default_welcomeText__JSskc",welcomeDescription:"Default_welcomeDescription__WsJCP",introContent:"Default_introContent__2U9ZG",introImg:"Default_introImg__34kCu",becomeTutor:"Default_becomeTutor__3Ev_x"}},12:function(e,t,a){e.exports={registerContent:"RegisterModal_registerContent__1IyVz",registerWelcome:"RegisterModal_registerWelcome__FbIzJ",registerForm:"RegisterModal_registerForm__2CZRj",registerButton:"RegisterModal_registerButton__z1ulB",formWrapper:"RegisterModal_formWrapper__4GBIy",switchMode:"RegisterModal_switchMode__2h5aY",switchModeWrapper:"RegisterModal_switchModeWrapper__2XhUs",welcomeImg:"RegisterModal_welcomeImg__Ktazu",registerWelcomeContent:"RegisterModal_registerWelcomeContent__2mKlf"}},138:function(e,t,a){e.exports=a.p+"static/media/flame-welcome.2b090893.png"},139:function(e,t,a){e.exports=a.p+"static/media/app-logo.05772604.png"},140:function(e,t,a){e.exports=a.p+"static/media/welcome-student.0c7630e5.png"},141:function(e,t,a){e.exports=a.p+"static/media/welcome-tutor.66b32adc.png"},174:function(e,t,a){e.exports=a(351)},349:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),l=a.n(o),s=a(94),c=a(9),i=a(171),m=a(137),u=a.n(m),d=new i.a,p=Object(n.createContext)(null),g=function(e){var t=Object(n.useState)(null),a=Object(c.a)(t,2),o=a[0],l=a[1];Object(n.useEffect)((function(){if(JSON.parse(localStorage.getItem("remember"))){var e=function(){var e=null,t=d.get("access_token");return t&&(e=u()(t)),e}();e&&l(e)}}),[]);return r.a.createElement(p.Provider,Object.assign({value:{account:o,onLogin:function(e){l(e)},onLogout:function(){l(null)}}},e))},f=a(33),E=a(10),h=a.n(E),_=a(358),w=a(32),b=a(353),C=a(42),v=a.n(C),y=a(359),N=a(360),I=a(361);function O(){return r.a.createElement("div",{className:v.a.footerContent},r.a.createElement("div",{className:v.a.contactIconContainer},r.a.createElement(y.a,{className:v.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://github.com/huynguyend191")}}),r.a.createElement(N.a,{className:v.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://www.facebook.com/sneezingcat191")}}),r.a.createElement(I.a,{className:v.a.contactIcon,style:{fontSize:35},onClick:function(){return window.open("https://www.instagram.com/sneezingcat191/")}})),r.a.createElement("div",{className:v.a.contactInfoContainer},r.a.createElement("p",null,"Mirage 2020 - English Video Call Platform"),r.a.createElement("p",null,"Contact: huynguyend191@gmail.com")))}var x=a(138),j=a.n(x),S=a(139),k=a.n(S),B=a(14),F=a.n(B),M=a(31),T=a(354),R=a(355),W=a(356),D=a(12),P=a.n(D),L=a(140),U=a.n(L),z=a(141),V=a.n(z),q=a(142),J=a.n(q).a.create({baseURL:"https://mirage-video-call.herokuapp.com/api",withCredentials:!0});function A(e){var t=Object(n.useState)(e.isStudent),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),m=i[0],u=i[1],d=T.a.useForm(),g=Object(c.a)(d,1)[0],f=Object(n.useContext)(p).onLogin;Object(n.useEffect)((function(){l(e.isStudent)}),[e.isStudent]);var E=function(){var e=Object(M.a)(F.a.mark((function e(t){var a,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),a=o?"/students":"/tutors",n={username:t.username,password:t.password,email:t.email,name:t.name},e.next=6,J.post(a+"/register",n);case 6:r=e.sent,u(!1),f(r.data.account),localStorage.setItem("remember",!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),u(!1),console.log(e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=r.a.createElement("div",{className:P.a.registerWelcomeContent},r.a.createElement("img",{className:P.a.welcomeImg,draggable:!1,src:U.a,alt:""}),r.a.createElement("h3",null,"Experience new way of studying English"),r.a.createElement("h4",null,"Improve your English anywhere anytime"),r.a.createElement("h4",null,"Learn from interesting people around the world")),_=r.a.createElement("div",{className:P.a.registerWelcomeContent},r.a.createElement("img",{className:P.a.welcomeImg,draggable:!1,src:V.a,alt:""}),r.a.createElement("h3",null,"Tutoring with Mirage is fun & rewarding"),r.a.createElement("h4",null,"No experience necessary"),r.a.createElement("h4",null,"Share your knowledge with people and get paid"));return r.a.createElement(R.a,{visible:e.isVisible,footer:null,title:"Register",onCancel:function(){g.resetFields(),e.onClose()},width:"800px"},r.a.createElement("div",{className:P.a.registerContent},r.a.createElement("div",{className:P.a.registerWelcome},o?r.a.createElement("div",null,h):r.a.createElement("div",null,_)),r.a.createElement("div",{className:P.a.formWrapper},r.a.createElement(T.a,Object.assign({name:"register",onFinish:E,scrollToFirstError:!0,className:P.a.registerForm,form:g},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),r.a.createElement(T.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(W.a,null)),r.a.createElement(T.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input your username!",whitespace:!1}]},r.a.createElement(W.a,null)),r.a.createElement(T.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(W.a.Password,null)),r.a.createElement(T.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(W.a.Password,null)),r.a.createElement(T.a.Item,{name:"name",label:"Full name",rules:[{required:!0,message:"Please input your fullname!",whitespace:!0}]},r.a.createElement(W.a,null)),r.a.createElement(T.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(w.a,{type:"primary",htmlType:"submit",className:P.a.registerButton,shape:"round",disabled:m},"Register"),r.a.createElement("p",{className:P.a.switchModeWrapper},"Or",r.a.createElement("span",{onClick:function(){l(!o)},className:P.a.switchMode}," become a ",o?"tutor":"student"," instead")),r.a.createElement("p",{className:P.a.switchModeWrapper},"Already have an account? ",r.a.createElement("span",{onClick:function(){e.onClose(),e.onSwitchLogin()},className:P.a.switchMode}," Login")))))))}var G=a(357),Z=a(362),Y=a(363),K=a(57),Q=a.n(K);function X(e){var t=e.isVisible,a=e.onClose,o=e.onSwitchRegister,l=T.a.useForm(),s=Object(c.a)(l,1)[0],i=Object(n.useState)(!1),m=Object(c.a)(i,2),u=m[0],d=m[1],g=Object(n.useContext)(p).onLogin,f=function(){var e=Object(M.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),a={user:t.user,password:t.password},localStorage.setItem("remember",t.remember),e.next=6,J.post("/accounts/login",a);case 6:n=e.sent,d(!1),g(n.data.account),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),d(!1),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(R.a,{visible:t,footer:null,onCancel:function(){s.resetFields(),a()},title:"Login",width:"400px"},r.a.createElement(T.a,{name:"normal_login",className:Q.a.loginForm,initialValues:{remember:!0},onFinish:f,form:s},r.a.createElement(T.a.Item,{name:"user",rules:[{required:!0,message:"Please input your username or email!"}]},r.a.createElement(W.a,{prefix:r.a.createElement(Z.a,{className:"site-form-item-icon"}),placeholder:"Username or email"})),r.a.createElement(T.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(W.a,{prefix:r.a.createElement(Y.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(G.a,null,"Remember me")),r.a.createElement("a",{className:Q.a.loginForgot,href:"/"},"Forgot password")),r.a.createElement(T.a.Item,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit",className:Q.a.loginButton,shape:"round",disabled:u},"Log in"),"Or ",r.a.createElement("span",{className:Q.a.registerNow,onClick:function(){a(),o(!0)}},"register now!"))))}var H=_.a.Header,$=_.a.Content,ee=_.a.Footer;function te(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),s=Object(c.a)(l,2),i=s[0],m=s[1],u=Object(n.useState)(!0),d=Object(c.a)(u,2),p=d[0],g=d[1],f=function(e){g(e),o(!0)},E=function(){m(!0)};return r.a.createElement(_.a,null,r.a.createElement(X,{isVisible:i,onClose:function(){m(!1)},onSwitchRegister:f}),r.a.createElement(A,{isVisible:a,onClose:function(){o(!1)},isStudent:p,onSwitchLogin:E}),r.a.createElement(H,null,r.a.createElement("div",{className:h.a.headerContent},r.a.createElement("div",{className:h.a.headerWrapper},r.a.createElement("img",{className:h.a.headerIcon,src:k.a,draggable:!1,alt:""}),r.a.createElement("h1",{className:h.a.headerTitle},"MIRAGE")),r.a.createElement("div",{className:h.a.userButtonContainer},r.a.createElement(w.a,{className:h.a.userButton,type:"secondary",shape:"round",onClick:function(){return E()}},"Login"),r.a.createElement(w.a,{className:h.a.userButton,type:"primary",shape:"round",onClick:function(){return f(!0)}},"Register")))),r.a.createElement($,null,r.a.createElement("div",{className:h.a.defaultBody},r.a.createElement("div",{className:h.a.introContainer},r.a.createElement("img",{className:h.a.introImg,draggable:!1,src:j.a,alt:""}),r.a.createElement("div",{className:h.a.introContent},r.a.createElement("p",{className:h.a.welcomeText},"Welcome to Mirage!"),r.a.createElement("p",{className:h.a.welcomeDescription},"\u201cGo on, say something in English!\u201d"),r.a.createElement(w.a,{className:h.a.registerButton,type:"primary",shape:"round",onClick:function(){return f(!0)}},"STUDY NOW"),r.a.createElement(b.a,{style:{width:"300px"}},"OR"),r.a.createElement(w.a,{className:h.a.registerButton,type:"secondary",shape:"round",onClick:function(){return f(!1)}},"BECOME TUTOR"))))),r.a.createElement(ee,null,r.a.createElement(O,null)))}function ae(){return r.a.createElement("div",null,"Student")}function ne(){return r.a.createElement("div",null,"Tutor")}var re=Object.freeze({ADMIN:1,TUTOR:2,STUDENT:3});function oe(){var e=Object(n.useContext)(p).account;return e&&e.role===re.STUDENT?r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/student",component:ae}),r.a.createElement(f.a,{to:"/student"})):e&&e.role===re.TUTOR?r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/tutor",component:ne}),r.a.createElement(f.a,{to:"/tutor"})):r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:te}),r.a.createElement(f.a,{to:"/"}))}var le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,null,r.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(349),a(350);var se=r.a.createElement(s.a,null,r.a.createElement(le,null));l.a.render(se,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e,t,a){e.exports={footerContent:"FooterContent_footerContent__s5e35",contactIcon:"FooterContent_contactIcon__3BLxb",contactInfoContainer:"FooterContent_contactInfoContainer__5Bz7Z"}},57:function(e,t,a){e.exports={loginForm:"LoginModal_loginForm__k3Oti",loginForgot:"LoginModal_loginForgot__2_5ns",loginButton:"LoginModal_loginButton__1aglI",registerNow:"LoginModal_registerNow__1RUyQ"}}},[[174,1,2]]]);
//# sourceMappingURL=main.c87bbafe.chunk.js.map